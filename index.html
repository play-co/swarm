<!DOCTYPE html>
<html>
  <head>
    <title>Drone Swarm</title>
  </head>

  <body style="margin:0;padding:0;" onresize="onResize()">
    <div id="gameWrapper">
      <iframe id="game" src="game.html" style="display:block;border:0;margin:0;padding:0;"></iframe>
    </div>

    <script>
      function onResize(allowResize) {
        var width = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
        var height = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        var game = document.getElementById("game");

        if (allowResize) {
          var BG_WIDTH = 576;
          var BG_HEIGHT = 1024;
          var BG_RATIO = BG_WIDTH / BG_HEIGHT;
          var ratio = width / height;
          var horzFit = ratio <= BG_RATIO;
          var scale = horzFit ? width / BG_WIDTH : height / BG_HEIGHT;

          game.width = scale * BG_WIDTH;
          game.height = scale * BG_HEIGHT;

          if (game.width > BG_WIDTH) {
            game.height *= BG_WIDTH / game.width;
            game.width = BG_WIDTH;
          }

          if (game.height > BG_HEIGHT) {
            game.width *= BG_HEIGHT / game.height;
            game.height = BG_HEIGHT;
          }
        }

        var gameWrapper = document.getElementById("gameWrapper");
        gameWrapper.style.width = "1px";
        gameWrapper.style.height = "1px";
        gameWrapper.style["margin-top"] = ((height - game.height) / 2) + "px";
        gameWrapper.style["margin-left"] = ((width - game.width) / 2) + "px";
      };

      onResize(true);
    </script>
  </body>
</html>