NATIVE=false;CACHE={"spritesheets/spritesheetSizeMap.json":"{}","spritesheets/map.json":"{\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0005.png\":{\"w\":242,\"marginBottom\":9,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies1.png\",\"h\":503,\"y\":0,\"sheetSize\":[1024,1024],\"x\":492},\"resources/images/laser.png\":{\"w\":64,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":2,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":98,\"y\":344,\"sheetSize\":[1024,1024],\"x\":958},\"resources/images/alt_themes/alien/enemies/crab_idle_0003.png\":{\"w\":115,\"marginBottom\":11,\"scale\":1,\"marginLeft\":6,\"marginTop\":9,\"marginRight\":7,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":108,\"y\":0,\"sheetSize\":[1024,512],\"x\":894},\"resources/images/alt_themes/alien/bg/bg_midground.png\":{\"w\":563,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-bg\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-bg0.png\",\"h\":1000,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/mech/enemies/mine_spin_0008.png\":{\"w\":272,\"marginBottom\":147,\"scale\":1,\"marginLeft\":137,\"marginTop\":146,\"marginRight\":131,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies9.png\",\"h\":247,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/alien/fx/fx_bulletRed_a.png\":{\"w\":16,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":28,\"y\":182,\"sheetSize\":[1024,512],\"x\":546},\"resources/images/alt_themes/mech/enemies/mine_spin_0030.png\":{\"w\":287,\"marginBottom\":137,\"scale\":1,\"marginLeft\":126,\"marginTop\":135,\"marginRight\":127,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies7.png\",\"h\":268,\"y\":0,\"sheetSize\":[1024,1024],\"x\":612},\"resources/images/alt_themes/mech/enemies/mine_spin_0010.png\":{\"w\":254,\"marginBottom\":142,\"scale\":1,\"marginLeft\":146,\"marginTop\":142,\"marginRight\":140,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies9.png\",\"h\":256,\"y\":252,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/player_fly_0001.png\":{\"w\":64,\"marginBottom\":5,\"scale\":1,\"marginLeft\":0,\"marginTop\":6,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":53,\"y\":882,\"sheetSize\":[1024,1024],\"x\":746},\"resources/images/bgDebris2.png\":{\"w\":82,\"marginBottom\":3,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":4,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":187,\"y\":0,\"sheetSize\":[1024,1024],\"x\":916},\"resources/images/alt_themes/alien/enemies/ship_monolith.png\":{\"w\":126,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":124,\"y\":0,\"sheetSize\":[1024,512],\"x\":0},\"resources/images/alt_themes/alien/enemies/crabBaby_idle_0002.png\":{\"w\":70,\"marginBottom\":40,\"scale\":1,\"marginLeft\":29,\"marginTop\":40,\"marginRight\":29,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":48,\"y\":272,\"sheetSize\":[1024,512],\"x\":258},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0021.png\":{\"w\":242,\"marginBottom\":9,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies0.png\",\"h\":503,\"y\":508,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/alien/fx/fx_shield.png\":{\"w\":126,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":47,\"y\":260,\"sheetSize\":[1024,512],\"x\":252},\"resources/images/alt_themes/mech/enemies/mine_spin_0027.png\":{\"w\":284,\"marginBottom\":136,\"scale\":1,\"marginLeft\":127,\"marginTop\":134,\"marginRight\":129,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies7.png\",\"h\":270,\"y\":320,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/bg2.png\":{\"w\":576,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images2.png\",\"h\":1024,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0019.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies6.png\",\"h\":316,\"y\":320,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/mech/enemies/mine_spin_0022.png\":{\"w\":212,\"marginBottom\":129,\"scale\":1,\"marginLeft\":168,\"marginTop\":127,\"marginRight\":160,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies9.png\",\"h\":284,\"y\":512,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/alien/fx/fx_explosion_0026.png\":{\"w\":84,\"marginBottom\":8,\"scale\":1,\"marginLeft\":28,\"marginTop\":23,\"marginRight\":16,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":97,\"y\":110,\"sheetSize\":[1024,512],\"x\":458},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0011.png\":{\"w\":242,\"marginBottom\":10,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies1.png\",\"h\":502,\"y\":508,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/mech/bg/bgFarDebris3.png\":{\"w\":336,\"marginBottom\":92,\"scale\":1,\"marginLeft\":82,\"marginTop\":103,\"marginRight\":98,\"group\":\"resources-images-alt_themes-mech-bg\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-bg2.png\",\"h\":266,\"y\":0,\"sheetSize\":[512,512],\"x\":0},\"resources/images/alt_themes/alien/fx/fx_explosion_0013.png\":{\"w\":90,\"marginBottom\":17,\"scale\":1,\"marginLeft\":21,\"marginTop\":23,\"marginRight\":17,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":88,\"y\":112,\"sheetSize\":[1024,512],\"x\":116},\"resources/images/alt_themes/mech/bg/bgFarDebris4.png\":{\"w\":543,\"marginBottom\":7,\"scale\":1,\"marginLeft\":14,\"marginTop\":36,\"marginRight\":19,\"group\":\"resources-images-alt_themes-mech-bg\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-bg0.png\",\"h\":452,\"y\":500,\"sheetSize\":[1024,1024],\"x\":366},\"resources/images/particleSmoke3.png\":{\"w\":51,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":53,\"y\":278,\"sheetSize\":[1024,1024],\"x\":580},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0016.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies6.png\",\"h\":316,\"y\":640,\"sheetSize\":[1024,1024],\"x\":612},\"resources/images/bgDebris1.png\":{\"w\":84,\"marginBottom\":1,\"scale\":1,\"marginLeft\":0,\"marginTop\":3,\"marginRight\":3,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":508,\"y\":368,\"sheetSize\":[1024,1024],\"x\":826},\"resources/images/player_roll_0010.png\":{\"w\":45,\"marginBottom\":0,\"scale\":1,\"marginLeft\":7,\"marginTop\":5,\"marginRight\":12,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":59,\"y\":278,\"sheetSize\":[1024,1024],\"x\":636},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0001.png\":{\"w\":242,\"marginBottom\":17,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies3.png\",\"h\":495,\"y\":500,\"sheetSize\":[1024,1024],\"x\":492},\"resources/images/player_roll_0003.png\":{\"w\":21,\"marginBottom\":1,\"scale\":1,\"marginLeft\":12,\"marginTop\":4,\"marginRight\":31,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":59,\"y\":0,\"sheetSize\":[1024,1024],\"x\":1002},\"resources/images/particleSmoke4.png\":{\"w\":70,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":70,\"y\":446,\"sheetSize\":[1024,1024],\"x\":954},\"resources/images/alt_themes/alien/fx/fx_bullet_eye.png\":{\"w\":23,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":70,\"y\":0,\"sheetSize\":[1024,512],\"x\":992},\"resources/images/alt_themes/alien/fx/fx_explosion_0021.png\":{\"w\":111,\"marginBottom\":6,\"scale\":1,\"marginLeft\":7,\"marginTop\":12,\"marginRight\":10,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":110,\"y\":0,\"sheetSize\":[1024,512],\"x\":0},\"resources/images/player_bank_0006.png\":{\"w\":63,\"marginBottom\":3,\"scale\":1,\"marginLeft\":0,\"marginTop\":7,\"marginRight\":1,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":54,\"y\":880,\"sheetSize\":[1024,1024],\"x\":826},\"resources/images/alt_themes/alien/fx/fx_explosion_0009.png\":{\"w\":74,\"marginBottom\":22,\"scale\":1,\"marginLeft\":31,\"marginTop\":35,\"marginRight\":23,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":71,\"y\":206,\"sheetSize\":[1024,512],\"x\":876},\"resources/images/blue_0.png\":{\"w\":32,\"marginBottom\":16,\"scale\":1,\"marginLeft\":5,\"marginTop\":10,\"marginRight\":5,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":74,\"y\":300,\"sheetSize\":[1024,1024],\"x\":772},\"resources/images/alt_themes/alien/fx/fx_explosion_0001.png\":{\"w\":23,\"marginBottom\":45,\"scale\":1,\"marginLeft\":55,\"marginTop\":58,\"marginRight\":50,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":25,\"y\":174,\"sheetSize\":[1024,512],\"x\":88},\"resources/images/bg4.png\":{\"w\":576,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":1024,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0024.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies5.png\",\"h\":316,\"y\":320,\"sheetSize\":[1024,1024],\"x\":306},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0014.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies6.png\",\"h\":316,\"y\":640,\"sheetSize\":[1024,1024],\"x\":306},\"resources/splash/splash.png\":{\"w\":576,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-splash\",\"sheet\":\"spritesheets/resources-splash0.png\",\"h\":1024,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/bgStream1.png\":{\"w\":576,\"marginBottom\":4,\"scale\":1,\"marginLeft\":0,\"marginTop\":4,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images5.png\",\"h\":379,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/player_roll_0011.png\":{\"w\":58,\"marginBottom\":5,\"scale\":1,\"marginLeft\":3,\"marginTop\":6,\"marginRight\":3,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":53,\"y\":220,\"sheetSize\":[1024,1024],\"x\":580},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0025.png\":{\"w\":242,\"marginBottom\":9,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies0.png\",\"h\":503,\"y\":508,\"sheetSize\":[1024,1024],\"x\":246},\"resources/images/enemyDebris.png\":{\"w\":36,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":168,\"y\":368,\"sheetSize\":[1024,1024],\"x\":914},\"resources/images/alt_themes/mech/enemies/mine_spin_0025.png\":{\"w\":273,\"marginBottom\":132,\"scale\":1,\"marginLeft\":132,\"marginTop\":131,\"marginRight\":135,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies8.png\",\"h\":277,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/alien/fx/fx_explosion_0002.png\":{\"w\":30,\"marginBottom\":40,\"scale\":1,\"marginLeft\":51,\"marginTop\":56,\"marginRight\":47,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":32,\"y\":200,\"sheetSize\":[1024,512],\"x\":744},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0022.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies5.png\",\"h\":316,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0012.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies4.png\",\"h\":316,\"y\":0,\"sheetSize\":[1024,1024],\"x\":306},\"resources/images/alt_themes/alien/enemies/ship_brain.png\":{\"w\":118,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":94,\"y\":116,\"sheetSize\":[1024,512],\"x\":378},\"resources/images/alt_themes/alien/enemies/crabBaby_idle_0009.png\":{\"w\":77,\"marginBottom\":42,\"scale\":1,\"marginLeft\":26,\"marginTop\":39,\"marginRight\":25,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":47,\"y\":220,\"sheetSize\":[1024,512],\"x\":240},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0003.png\":{\"w\":242,\"marginBottom\":14,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies3.png\",\"h\":498,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0020.png\":{\"w\":242,\"marginBottom\":10,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies1.png\",\"h\":502,\"y\":508,\"sheetSize\":[1024,1024],\"x\":492},\"resources/images/bgDebris3.png\":{\"w\":58,\"marginBottom\":2,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":6,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":340,\"y\":0,\"sheetSize\":[1024,1024],\"x\":958},\"resources/images/alt_themes/alien/enemies/crabBaby_idle_0005.png\":{\"w\":77,\"marginBottom\":42,\"scale\":1,\"marginLeft\":26,\"marginTop\":39,\"marginRight\":25,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":47,\"y\":226,\"sheetSize\":[1024,512],\"x\":510},\"resources/images/player_bank_0003.png\":{\"w\":54,\"marginBottom\":1,\"scale\":1,\"marginLeft\":4,\"marginTop\":7,\"marginRight\":6,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":56,\"y\":968,\"sheetSize\":[1024,1024],\"x\":968},\"resources/images/alt_themes/mech/enemies/mine_spin_0005.png\":{\"w\":238,\"marginBottom\":145,\"scale\":1,\"marginLeft\":154,\"marginTop\":143,\"marginRight\":148,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies9.png\",\"h\":252,\"y\":546,\"sheetSize\":[1024,1024],\"x\":722},\"resources/images/alt_themes/alien/enemies/crab_idle_0006.png\":{\"w\":126,\"marginBottom\":11,\"scale\":1,\"marginLeft\":1,\"marginTop\":6,\"marginRight\":1,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":111,\"y\":0,\"sheetSize\":[1024,512],\"x\":130},\"resources/images/player_roll_0001.png\":{\"w\":59,\"marginBottom\":5,\"scale\":1,\"marginLeft\":0,\"marginTop\":5,\"marginRight\":5,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":54,\"y\":968,\"sheetSize\":[1024,1024],\"x\":904},\"resources/images/alt_themes/mech/enemies/mine_spin_0029.png\":{\"w\":286,\"marginBottom\":136,\"scale\":1,\"marginLeft\":127,\"marginTop\":136,\"marginRight\":127,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies7.png\",\"h\":268,\"y\":594,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/alien/fx/fx_explosion_0004.png\":{\"w\":42,\"marginBottom\":33,\"scale\":1,\"marginLeft\":45,\"marginTop\":51,\"marginRight\":41,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":44,\"y\":210,\"sheetSize\":[1024,512],\"x\":252},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0006.png\":{\"w\":242,\"marginBottom\":10,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies2.png\",\"h\":502,\"y\":0,\"sheetSize\":[1024,1024],\"x\":738},\"resources/images/player_roll_0002.png\":{\"w\":40,\"marginBottom\":1,\"scale\":1,\"marginLeft\":4,\"marginTop\":5,\"marginRight\":20,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":58,\"y\":300,\"sheetSize\":[1024,1024],\"x\":808},\"resources/images/player_bank_0002.png\":{\"w\":64,\"marginBottom\":3,\"scale\":1,\"marginLeft\":0,\"marginTop\":7,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":54,\"y\":732,\"sheetSize\":[1024,1024],\"x\":950},\"resources/images/alt_themes/mech/enemies/mine_spin_0001.png\":{\"w\":286,\"marginBottom\":137,\"scale\":1,\"marginLeft\":127,\"marginTop\":135,\"marginRight\":127,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies7.png\",\"h\":268,\"y\":550,\"sheetSize\":[1024,1024],\"x\":578},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0017.png\":{\"w\":242,\"marginBottom\":10,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies2.png\",\"h\":502,\"y\":506,\"sheetSize\":[1024,1024],\"x\":246},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0024.png\":{\"w\":242,\"marginBottom\":10,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies1.png\",\"h\":502,\"y\":508,\"sheetSize\":[1024,1024],\"x\":246},\"resources/images/alt_themes/alien/fx/fx_explosion_0017.png\":{\"w\":104,\"marginBottom\":11,\"scale\":1,\"marginLeft\":13,\"marginTop\":17,\"marginRight\":11,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":100,\"y\":0,\"sheetSize\":[1024,512],\"x\":676},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0001.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies5.png\",\"h\":316,\"y\":640,\"sheetSize\":[1024,1024],\"x\":612},\"resources/images/alt_themes/alien/fx/fx_explosion_0030.png\":{\"w\":81,\"marginBottom\":31,\"scale\":1,\"marginLeft\":36,\"marginTop\":19,\"marginRight\":11,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":78,\"y\":200,\"sheetSize\":[1024,512],\"x\":658},\"resources/images/bgStream2.png\":{\"w\":576,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images4.png\",\"h\":387,\"y\":496,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/mech/enemies/mine_spin_0013.png\":{\"w\":269,\"marginBottom\":119,\"scale\":1,\"marginLeft\":151,\"marginTop\":124,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies3.png\",\"h\":297,\"y\":500,\"sheetSize\":[1024,1024],\"x\":738},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0013.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies5.png\",\"h\":316,\"y\":0,\"sheetSize\":[1024,1024],\"x\":306},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0010.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies5.png\",\"h\":316,\"y\":320,\"sheetSize\":[1024,1024],\"x\":612},\"resources/images/blue_4.png\":{\"w\":32,\"marginBottom\":16,\"scale\":1,\"marginLeft\":5,\"marginTop\":10,\"marginRight\":5,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":74,\"y\":618,\"sheetSize\":[1024,1024],\"x\":914},\"resources/images/alt_themes/mech/enemies/mine_spin_0006.png\":{\"w\":214,\"marginBottom\":146,\"scale\":1,\"marginLeft\":166,\"marginTop\":145,\"marginRight\":160,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies9.png\",\"h\":249,\"y\":570,\"sheetSize\":[1024,1024],\"x\":428},\"resources/images/alt_themes/alien/enemies/crabBaby_idle_0008.png\":{\"w\":78,\"marginBottom\":42,\"scale\":1,\"marginLeft\":26,\"marginTop\":39,\"marginRight\":24,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":47,\"y\":218,\"sheetSize\":[1024,512],\"x\":790},\"resources/images/blue_5.png\":{\"w\":32,\"marginBottom\":16,\"scale\":1,\"marginLeft\":5,\"marginTop\":10,\"marginRight\":5,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":74,\"y\":540,\"sheetSize\":[1024,1024],\"x\":914},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0029.png\":{\"w\":242,\"marginBottom\":16,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies3.png\",\"h\":496,\"y\":0,\"sheetSize\":[1024,1024],\"x\":492},\"resources/images/bgFarDebris4.png\":{\"w\":162,\"marginBottom\":11,\"scale\":1,\"marginLeft\":0,\"marginTop\":4,\"marginRight\":414,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":133,\"y\":882,\"sheetSize\":[1024,1024],\"x\":580},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0018.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies4.png\",\"h\":316,\"y\":0,\"sheetSize\":[1024,1024],\"x\":612},\"resources/images/alt_themes/alien/bg/rock_a.png\":{\"w\":108,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-bg\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-bg0.png\",\"h\":99,\"y\":0,\"sheetSize\":[1024,1024],\"x\":568},\"resources/images/alt_themes/alien/enemies/crab_idle_0002.png\":{\"w\":122,\"marginBottom\":11,\"scale\":1,\"marginLeft\":3,\"marginTop\":9,\"marginRight\":3,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":108,\"y\":0,\"sheetSize\":[1024,512],\"x\":512},\"resources/images/blue_3.png\":{\"w\":32,\"marginBottom\":16,\"scale\":1,\"marginLeft\":5,\"marginTop\":10,\"marginRight\":5,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":74,\"y\":300,\"sheetSize\":[1024,1024],\"x\":736},\"resources/images/enemyBoss.png\":{\"w\":146,\"marginBottom\":2,\"scale\":1,\"marginLeft\":27,\"marginTop\":2,\"marginRight\":27,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":196,\"y\":0,\"sheetSize\":[1024,1024],\"x\":766},\"resources/images/player_bank_0007.png\":{\"w\":62,\"marginBottom\":3,\"scale\":1,\"marginLeft\":1,\"marginTop\":7,\"marginRight\":1,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":54,\"y\":940,\"sheetSize\":[1024,1024],\"x\":746},\"resources/images/alt_themes/mech/enemies/mine_spin_0028.png\":{\"w\":285,\"marginBottom\":136,\"scale\":1,\"marginLeft\":127,\"marginTop\":135,\"marginRight\":128,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies7.png\",\"h\":269,\"y\":320,\"sheetSize\":[1024,1024],\"x\":288},\"resources/images/alt_themes/mech/enemies/mine_spin_0004.png\":{\"w\":262,\"marginBottom\":143,\"scale\":1,\"marginLeft\":142,\"marginTop\":141,\"marginRight\":136,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies9.png\",\"h\":256,\"y\":0,\"sheetSize\":[1024,1024],\"x\":276},\"resources/images/alt_themes/alien/fx/fx_explosion_0024.png\":{\"w\":83,\"marginBottom\":12,\"scale\":1,\"marginLeft\":29,\"marginTop\":25,\"marginRight\":16,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":91,\"y\":112,\"sheetSize\":[1024,512],\"x\":298},\"resources/images/player_bank_0001.png\":{\"w\":62,\"marginBottom\":3,\"scale\":1,\"marginLeft\":1,\"marginTop\":7,\"marginRight\":1,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":54,\"y\":940,\"sheetSize\":[1024,1024],\"x\":746},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0004.png\":{\"w\":242,\"marginBottom\":11,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies2.png\",\"h\":501,\"y\":506,\"sheetSize\":[1024,1024],\"x\":492},\"resources/images/alt_themes/alien/fx/fx_explosion_0005.png\":{\"w\":47,\"marginBottom\":31,\"scale\":1,\"marginLeft\":42,\"marginTop\":48,\"marginRight\":39,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":49,\"y\":212,\"sheetSize\":[1024,512],\"x\":566},\"resources/images/alt_themes/alien/enemies/ship_cyborg.png\":{\"w\":113,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":89,\"y\":212,\"sheetSize\":[1024,512],\"x\":888},\"resources/images/alt_themes/alien/bg/rock_b.png\":{\"w\":101,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-bg\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-bg0.png\",\"h\":100,\"y\":0,\"sheetSize\":[1024,1024],\"x\":680},\"resources/images/alt_themes/alien/fx/fx_explosion_0018.png\":{\"w\":104,\"marginBottom\":9,\"scale\":1,\"marginLeft\":11,\"marginTop\":16,\"marginRight\":13,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":103,\"y\":0,\"sheetSize\":[1024,512],\"x\":568},\"resources/images/alt_themes/alien/enemies/crabBaby_idle_0010.png\":{\"w\":75,\"marginBottom\":41,\"scale\":1,\"marginLeft\":27,\"marginTop\":39,\"marginRight\":26,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":48,\"y\":228,\"sheetSize\":[1024,512],\"x\":102},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0007.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies5.png\",\"h\":316,\"y\":640,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/alien/fx/fx_bulletRed_b.png\":{\"w\":24,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":22,\"y\":204,\"sheetSize\":[1024,512],\"x\":166},\"resources/images/alt_themes/alien/fx/fx_explosion_0014.png\":{\"w\":95,\"marginBottom\":16,\"scale\":1,\"marginLeft\":18,\"marginTop\":21,\"marginRight\":15,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":91,\"y\":104,\"sheetSize\":[1024,512],\"x\":676},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0014.png\":{\"w\":242,\"marginBottom\":9,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies0.png\",\"h\":503,\"y\":0,\"sheetSize\":[1024,1024],\"x\":738},\"resources/images/alt_themes/mech/enemies/mine_spin_0019.png\":{\"w\":246,\"marginBottom\":125,\"scale\":1,\"marginLeft\":143,\"marginTop\":124,\"marginRight\":151,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies8.png\",\"h\":291,\"y\":282,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/alien/fx/fx_bullet_blood.png\":{\"w\":22,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":56,\"y\":114,\"sheetSize\":[1024,512],\"x\":88},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0026.png\":{\"w\":242,\"marginBottom\":10,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies2.png\",\"h\":502,\"y\":0,\"sheetSize\":[1024,1024],\"x\":492},\"resources/images/alt_themes/alien/fx/fx_explosion_0019.png\":{\"w\":106,\"marginBottom\":8,\"scale\":1,\"marginLeft\":10,\"marginTop\":15,\"marginRight\":12,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":105,\"y\":0,\"sheetSize\":[1024,512],\"x\":458},\"resources/images/alt_themes/alien/enemies/ship_squid.png\":{\"w\":98,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":107,\"y\":128,\"sheetSize\":[1024,512],\"x\":0},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0028.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies5.png\",\"h\":316,\"y\":640,\"sheetSize\":[1024,1024],\"x\":306},\"resources/images/alt_themes/alien/enemies/crabBaby_idle_0004.png\":{\"w\":75,\"marginBottom\":41,\"scale\":1,\"marginLeft\":27,\"marginTop\":40,\"marginRight\":26,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":47,\"y\":240,\"sheetSize\":[1024,512],\"x\":0},\"resources/images/alt_themes/mech/bg/bgDebris2.png\":{\"w\":361,\"marginBottom\":92,\"scale\":1,\"marginLeft\":0,\"marginTop\":7,\"marginRight\":0,\"group\":\"resources-images-alt_themes-mech-bg\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-bg0.png\",\"h\":925,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0025.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies5.png\",\"h\":316,\"y\":0,\"sheetSize\":[1024,1024],\"x\":612},\"resources/images/alt_themes/alien/fx/fx_explosion_0025.png\":{\"w\":83,\"marginBottom\":10,\"scale\":1,\"marginLeft\":29,\"marginTop\":24,\"marginRight\":16,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":94,\"y\":112,\"sheetSize\":[1024,512],\"x\":210},\"resources/images/alt_themes/alien/bg/bg_backdrop.png\":{\"w\":563,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-bg\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-bg1.png\",\"h\":1000,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/alien/fx/fx_bulletBlue_c.png\":{\"w\":44,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":27,\"y\":228,\"sheetSize\":[1024,512],\"x\":954},\"resources/images/alt_themes/alien/enemies/crab_idle_0009.png\":{\"w\":114,\"marginBottom\":10,\"scale\":1,\"marginLeft\":7,\"marginTop\":17,\"marginRight\":7,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":101,\"y\":114,\"sheetSize\":[1024,512],\"x\":260},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0022.png\":{\"w\":242,\"marginBottom\":9,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies0.png\",\"h\":503,\"y\":508,\"sheetSize\":[1024,1024],\"x\":738},\"resources/images/alt_themes/alien/fx/fx_explosion_0007.png\":{\"w\":61,\"marginBottom\":26,\"scale\":1,\"marginLeft\":35,\"marginTop\":40,\"marginRight\":32,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":62,\"y\":184,\"sheetSize\":[1024,512],\"x\":386},\"resources/images/alt_themes/alien/fx/fx_explosion_0033.png\":{\"w\":15,\"marginBottom\":44,\"scale\":1,\"marginLeft\":35,\"marginTop\":70,\"marginRight\":78,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":14,\"y\":206,\"sheetSize\":[1024,512],\"x\":954},\"resources/images/particleSmoke5.png\":{\"w\":70,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":70,\"y\":520,\"sheetSize\":[1024,1024],\"x\":954},\"resources/images/bg1.png\":{\"w\":576,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":1024,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/mech/enemies/mine_spin_0020.png\":{\"w\":242,\"marginBottom\":126,\"scale\":1,\"marginLeft\":150,\"marginTop\":125,\"marginRight\":148,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies8.png\",\"h\":289,\"y\":554,\"sheetSize\":[1024,1024],\"x\":250},\"resources/images/alt_themes/alien/enemies/crabBaby_idle_0007.png\":{\"w\":78,\"marginBottom\":42,\"scale\":1,\"marginLeft\":26,\"marginTop\":39,\"marginRight\":24,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":47,\"y\":214,\"sheetSize\":[1024,512],\"x\":626},\"resources/images/alt_themes/mech/enemies/mine_spin_0016.png\":{\"w\":207,\"marginBottom\":128,\"scale\":1,\"marginLeft\":167,\"marginTop\":126,\"marginRight\":166,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies9.png\",\"h\":286,\"y\":554,\"sheetSize\":[1024,1024],\"x\":216},\"resources/images/alt_themes/alien/enemies/crabBaby_idle_0003.png\":{\"w\":72,\"marginBottom\":41,\"scale\":1,\"marginLeft\":28,\"marginTop\":40,\"marginRight\":28,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":47,\"y\":270,\"sheetSize\":[1024,512],\"x\":744},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0019.png\":{\"w\":242,\"marginBottom\":9,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies0.png\",\"h\":503,\"y\":508,\"sheetSize\":[1024,1024],\"x\":492},\"resources/images/enemyMine.png\":{\"w\":98,\"marginBottom\":8,\"scale\":1,\"marginLeft\":7,\"marginTop\":8,\"marginRight\":7,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":96,\"y\":200,\"sheetSize\":[1024,1024],\"x\":766},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0006.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies3.png\",\"h\":316,\"y\":502,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0027.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies4.png\",\"h\":316,\"y\":640,\"sheetSize\":[1024,1024],\"x\":306},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0008.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies4.png\",\"h\":316,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0023.png\":{\"w\":242,\"marginBottom\":10,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies2.png\",\"h\":502,\"y\":506,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0009.png\":{\"w\":242,\"marginBottom\":9,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies0.png\",\"h\":503,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0009.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies4.png\",\"h\":316,\"y\":320,\"sheetSize\":[1024,1024],\"x\":306},\"resources/images/alt_themes/mech/enemies/mine_spin_0007.png\":{\"w\":252,\"marginBottom\":147,\"scale\":1,\"marginLeft\":147,\"marginTop\":145,\"marginRight\":141,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies9.png\",\"h\":248,\"y\":294,\"sheetSize\":[1024,1024],\"x\":722},\"resources/images/alt_themes/alien/fx/fx_explosion_0023.png\":{\"w\":108,\"marginBottom\":5,\"scale\":1,\"marginLeft\":11,\"marginTop\":15,\"marginRight\":9,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":108,\"y\":0,\"sheetSize\":[1024,512],\"x\":234},\"resources/images/alt_themes/alien/fx/fx_explosion_0006.png\":{\"w\":53,\"marginBottom\":29,\"scale\":1,\"marginLeft\":38,\"marginTop\":43,\"marginRight\":37,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":56,\"y\":210,\"sheetSize\":[1024,512],\"x\":194},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0003.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies4.png\",\"h\":316,\"y\":640,\"sheetSize\":[1024,1024],\"x\":612},\"resources/images/alt_themes/mech/bg/bgDebris1.png\":{\"w\":704,\"marginBottom\":20,\"scale\":1,\"marginLeft\":80,\"marginTop\":57,\"marginRight\":80,\"group\":\"resources-images-alt_themes-mech-bg\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-bg1.png\",\"h\":421,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/player_roll_0009.png\":{\"w\":22,\"marginBottom\":0,\"scale\":1,\"marginLeft\":9,\"marginTop\":5,\"marginRight\":33,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":59,\"y\":958,\"sheetSize\":[1024,1024],\"x\":878},\"resources/images/alt_themes/alien/fx/fx_bullet_plasma.png\":{\"w\":15,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":35,\"y\":110,\"sheetSize\":[1024,512],\"x\":546},\"resources/images/particleSmoke6.png\":{\"w\":52,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":53,\"y\":220,\"sheetSize\":[1024,1024],\"x\":698},\"resources/images/alt_themes/alien/enemies/ship_player.png\":{\"w\":105,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":107,\"y\":116,\"sheetSize\":[1024,512],\"x\":130},\"resources/images/alt_themes/alien/enemies/crabBaby_idle_0012.png\":{\"w\":71,\"marginBottom\":40,\"scale\":1,\"marginLeft\":29,\"marginTop\":40,\"marginRight\":28,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":48,\"y\":266,\"sheetSize\":[1024,512],\"x\":592},\"resources/images/alt_themes/mech/enemies/mine_spin_0024.png\":{\"w\":260,\"marginBottom\":131,\"scale\":1,\"marginLeft\":139,\"marginTop\":130,\"marginRight\":141,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies8.png\",\"h\":279,\"y\":270,\"sheetSize\":[1024,1024],\"x\":278},\"resources/images/alt_themes/alien/enemies/crab_idle_0012.png\":{\"w\":124,\"marginBottom\":11,\"scale\":1,\"marginLeft\":2,\"marginTop\":14,\"marginRight\":2,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":103,\"y\":0,\"sheetSize\":[1024,512],\"x\":766},\"resources/images/alt_themes/alien/fx/fx_explosion_0008.png\":{\"w\":68,\"marginBottom\":24,\"scale\":1,\"marginLeft\":33,\"marginTop\":37,\"marginRight\":27,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":67,\"y\":112,\"sheetSize\":[1024,512],\"x\":386},\"resources/images/alt_themes/alien/enemies/crabBaby_idle_0001.png\":{\"w\":71,\"marginBottom\":40,\"scale\":1,\"marginLeft\":29,\"marginTop\":40,\"marginRight\":28,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":48,\"y\":270,\"sheetSize\":[1024,512],\"x\":668},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0021.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies4.png\",\"h\":316,\"y\":640,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/alien/bg/rock_e.png\":{\"w\":42,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-bg\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-bg0.png\",\"h\":38,\"y\":0,\"sheetSize\":[1024,1024],\"x\":970},\"resources/images/alt_themes/mech/enemies/mine_spin_0018.png\":{\"w\":237,\"marginBottom\":125,\"scale\":1,\"marginLeft\":143,\"marginTop\":124,\"marginRight\":160,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies8.png\",\"h\":291,\"y\":564,\"sheetSize\":[1024,1024],\"x\":496},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0010.png\":{\"w\":242,\"marginBottom\":9,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies1.png\",\"h\":503,\"y\":0,\"sheetSize\":[1024,1024],\"x\":738},\"resources/images/alt_themes/alien/fx/fx_explosion_0020.png\":{\"w\":108,\"marginBottom\":7,\"scale\":1,\"marginLeft\":9,\"marginTop\":13,\"marginRight\":11,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":108,\"y\":0,\"sheetSize\":[1024,512],\"x\":346},\"resources/images/blue_7.png\":{\"w\":32,\"marginBottom\":16,\"scale\":1,\"marginLeft\":5,\"marginTop\":10,\"marginRight\":5,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":74,\"y\":774,\"sheetSize\":[1024,1024],\"x\":914},\"resources/images/alt_themes/alien/enemies/crab_idle_0005.png\":{\"w\":119,\"marginBottom\":11,\"scale\":1,\"marginLeft\":4,\"marginTop\":6,\"marginRight\":5,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":111,\"y\":0,\"sheetSize\":[1024,512],\"x\":388},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0012.png\":{\"w\":242,\"marginBottom\":9,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies0.png\",\"h\":503,\"y\":0,\"sheetSize\":[1024,1024],\"x\":492},\"resources/images/alt_themes/mech/enemies/mine_spin_0021.png\":{\"w\":229,\"marginBottom\":127,\"scale\":1,\"marginLeft\":159,\"marginTop\":126,\"marginRight\":152,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies9.png\",\"h\":287,\"y\":0,\"sheetSize\":[1024,1024],\"x\":542},\"resources/images/alt_themes/alien/fx/fx_explosion_0022.png\":{\"w\":113,\"marginBottom\":5,\"scale\":1,\"marginLeft\":6,\"marginTop\":15,\"marginRight\":9,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":108,\"y\":0,\"sheetSize\":[1024,512],\"x\":116},\"resources/images/alt_themes/alien/enemies/crab_idle_0010.png\":{\"w\":124,\"marginBottom\":11,\"scale\":1,\"marginLeft\":2,\"marginTop\":20,\"marginRight\":2,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":97,\"y\":112,\"sheetSize\":[1024,512],\"x\":626},\"resources/images/alt_themes/alien/fx/fx_explosion_0016.png\":{\"w\":102,\"marginBottom\":12,\"scale\":1,\"marginLeft\":14,\"marginTop\":19,\"marginRight\":12,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":97,\"y\":0,\"sheetSize\":[1024,512],\"x\":784},\"resources/images/alt_themes/alien/fx/fx_bulletRed_c.png\":{\"w\":44,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":27,\"y\":246,\"sheetSize\":[1024,512],\"x\":452},\"resources/images/bgFarDebris1.png\":{\"w\":576,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":52,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images5.png\",\"h\":283,\"y\":384,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/particleSmoke1.png\":{\"w\":70,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":69,\"y\":594,\"sheetSize\":[1024,1024],\"x\":950},\"resources/images/player_roll_0006.png\":{\"w\":64,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":5,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":59,\"y\":668,\"sheetSize\":[1024,1024],\"x\":950},\"resources/images/blue_8.png\":{\"w\":32,\"marginBottom\":16,\"scale\":1,\"marginLeft\":5,\"marginTop\":10,\"marginRight\":5,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":74,\"y\":296,\"sheetSize\":[1024,1024],\"x\":916},\"resources/images/bgFarDebris2.png\":{\"w\":241,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":2,\"marginRight\":335,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":878,\"y\":0,\"sheetSize\":[1024,1024],\"x\":580},\"resources/images/bgFarDebris3.png\":{\"w\":182,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":14,\"marginRight\":394,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":216,\"y\":0,\"sheetSize\":[1024,1024],\"x\":580},\"resources/images/alt_themes/alien/fx/fx_explosion_0015.png\":{\"w\":98,\"marginBottom\":14,\"scale\":1,\"marginLeft\":16,\"marginTop\":20,\"marginRight\":14,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":94,\"y\":0,\"sheetSize\":[1024,512],\"x\":890},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0002.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies7.png\",\"h\":316,\"y\":0,\"sheetSize\":[1024,1024],\"x\":306},\"resources/images/alt_themes/mech/enemies/mine_spin_0011.png\":{\"w\":234,\"marginBottom\":131,\"scale\":1,\"marginLeft\":167,\"marginTop\":135,\"marginRight\":139,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies9.png\",\"h\":274,\"y\":292,\"sheetSize\":[1024,1024],\"x\":484},\"resources/images/alt_themes/alien/enemies/crab_idle_0008.png\":{\"w\":118,\"marginBottom\":11,\"scale\":1,\"marginLeft\":5,\"marginTop\":12,\"marginRight\":5,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":105,\"y\":108,\"sheetSize\":[1024,512],\"x\":766},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0008.png\":{\"w\":242,\"marginBottom\":10,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies1.png\",\"h\":502,\"y\":508,\"sheetSize\":[1024,1024],\"x\":738},\"resources/images/alt_themes/alien/fx/fx_explosion_0003.png\":{\"w\":34,\"marginBottom\":36,\"scale\":1,\"marginLeft\":49,\"marginTop\":54,\"marginRight\":45,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":38,\"y\":160,\"sheetSize\":[1024,512],\"x\":984},\"resources/images/enemyDrone.png\":{\"w\":98,\"marginBottom\":0,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":112,\"y\":852,\"sheetSize\":[1024,1024],\"x\":914},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0017.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies6.png\",\"h\":316,\"y\":320,\"sheetSize\":[1024,1024],\"x\":612},\"resources/images/alt_themes/alien/enemies/crab_idle_0004.png\":{\"w\":110,\"marginBottom\":10,\"scale\":1,\"marginLeft\":8,\"marginTop\":8,\"marginRight\":10,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":110,\"y\":112,\"sheetSize\":[1024,512],\"x\":512},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0023.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies4.png\",\"h\":316,\"y\":320,\"sheetSize\":[1024,1024],\"x\":612},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0011.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies6.png\",\"h\":316,\"y\":0,\"sheetSize\":[1024,1024],\"x\":306},\"resources/images/alt_themes/alien/bg/rock_c.png\":{\"w\":72,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-bg\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-bg0.png\",\"h\":70,\"y\":0,\"sheetSize\":[1024,1024],\"x\":786},\"resources/images/alt_themes/alien/enemies/crabBaby_idle_0006.png\":{\"w\":78,\"marginBottom\":42,\"scale\":1,\"marginLeft\":26,\"marginTop\":39,\"marginRight\":24,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":47,\"y\":218,\"sheetSize\":[1024,512],\"x\":708},\"resources/images/alt_themes/alien/fx/fx_bullet_photon.png\":{\"w\":11,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":45,\"y\":108,\"sheetSize\":[1024,512],\"x\":658},\"resources/images/alt_themes/mech/bg/bgFarDebris1.png\":{\"w\":576,\"marginBottom\":36,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-mech-bg\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-bg1.png\",\"h\":419,\"y\":426,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/bgFarDebris5.png\":{\"w\":576,\"marginBottom\":11,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images4.png\",\"h\":491,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/mech/enemies/mine_spin_0017.png\":{\"w\":225,\"marginBottom\":126,\"scale\":1,\"marginLeft\":150,\"marginTop\":125,\"marginRight\":165,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies9.png\",\"h\":289,\"y\":0,\"sheetSize\":[1024,1024],\"x\":776},\"resources/images/blue_1.png\":{\"w\":16,\"marginBottom\":16,\"scale\":1,\"marginLeft\":13,\"marginTop\":10,\"marginRight\":13,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":74,\"y\":880,\"sheetSize\":[1024,1024],\"x\":894},\"resources/images/alt_themes/mech/enemies/mine_spin_0012.png\":{\"w\":264,\"marginBottom\":124,\"scale\":1,\"marginLeft\":153,\"marginTop\":128,\"marginRight\":123,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies7.png\",\"h\":288,\"y\":594,\"sheetSize\":[1024,1024],\"x\":290},\"resources/images/bgDebris4.png\":{\"w\":128,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":363,\"y\":0,\"sheetSize\":[1024,1024],\"x\":826},\"resources/images/alt_themes/alien/fx/fx_explosion_0012.png\":{\"w\":84,\"marginBottom\":18,\"scale\":1,\"marginLeft\":26,\"marginTop\":27,\"marginRight\":18,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":83,\"y\":114,\"sheetSize\":[1024,512],\"x\":0},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0013.png\":{\"w\":242,\"marginBottom\":9,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies1.png\",\"h\":503,\"y\":0,\"sheetSize\":[1024,1024],\"x\":246},\"resources/images/player_bank_0005.png\":{\"w\":54,\"marginBottom\":1,\"scale\":1,\"marginLeft\":4,\"marginTop\":7,\"marginRight\":6,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":56,\"y\":968,\"sheetSize\":[1024,1024],\"x\":968},\"resources/images/alt_themes/mech/enemies/mine_spin_0002.png\":{\"w\":285,\"marginBottom\":138,\"scale\":1,\"marginLeft\":129,\"marginTop\":137,\"marginRight\":126,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies8.png\",\"h\":265,\"y\":0,\"sheetSize\":[1024,1024],\"x\":278},\"resources/images/alt_themes/alien/fx/fx_explosion_0031.png\":{\"w\":83,\"marginBottom\":30,\"scale\":1,\"marginLeft\":35,\"marginTop\":50,\"marginRight\":10,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":48,\"y\":208,\"sheetSize\":[1024,512],\"x\":298},\"resources/images/blue_6.png\":{\"w\":32,\"marginBottom\":16,\"scale\":1,\"marginLeft\":5,\"marginTop\":10,\"marginRight\":5,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":74,\"y\":296,\"sheetSize\":[1024,1024],\"x\":988},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0004.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies6.png\",\"h\":316,\"y\":0,\"sheetSize\":[1024,1024],\"x\":612},\"resources/images/alt_themes/mech/enemies/mine_spin_0023.png\":{\"w\":239,\"marginBottom\":130,\"scale\":1,\"marginLeft\":151,\"marginTop\":129,\"marginRight\":150,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies8.png\",\"h\":281,\"y\":578,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/alien/enemies/crabBaby_idle_0011.png\":{\"w\":72,\"marginBottom\":41,\"scale\":1,\"marginLeft\":28,\"marginTop\":40,\"marginRight\":28,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":47,\"y\":272,\"sheetSize\":[1024,512],\"x\":182},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0005.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies5.png\",\"h\":316,\"y\":320,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/alien/fx/fx_explosion_0032.png\":{\"w\":83,\"marginBottom\":30,\"scale\":1,\"marginLeft\":35,\"marginTop\":69,\"marginRight\":10,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":29,\"y\":212,\"sheetSize\":[1024,512],\"x\":452},\"resources/images/alt_themes/mech/enemies/mine_spin_0003.png\":{\"w\":276,\"marginBottom\":140,\"scale\":1,\"marginLeft\":135,\"marginTop\":138,\"marginRight\":129,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies8.png\",\"h\":262,\"y\":298,\"sheetSize\":[1024,1024],\"x\":542},\"resources/images/player_roll_0005.png\":{\"w\":60,\"marginBottom\":3,\"scale\":1,\"marginLeft\":2,\"marginTop\":4,\"marginRight\":2,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":57,\"y\":790,\"sheetSize\":[1024,1024],\"x\":950},\"resources/images/alt_themes/alien/fx/fx_bullet_rocket.png\":{\"w\":19,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":82,\"y\":74,\"sheetSize\":[1024,512],\"x\":992},\"resources/images/alt_themes/alien/enemies/crab_idle_0007.png\":{\"w\":124,\"marginBottom\":11,\"scale\":1,\"marginLeft\":2,\"marginTop\":7,\"marginRight\":2,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":110,\"y\":0,\"sheetSize\":[1024,512],\"x\":260},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0007.png\":{\"w\":242,\"marginBottom\":9,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies1.png\",\"h\":503,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/alien/enemies/crab_idle_0001.png\":{\"w\":123,\"marginBottom\":11,\"scale\":1,\"marginLeft\":2,\"marginTop\":10,\"marginRight\":3,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":107,\"y\":0,\"sheetSize\":[1024,512],\"x\":638},\"resources/images/alt_themes/alien/fx/fx_bomb.png\":{\"w\":55,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":51,\"y\":210,\"sheetSize\":[1024,512],\"x\":778},\"resources/images/alt_themes/alien/fx/fx_explosion_0027.png\":{\"w\":86,\"marginBottom\":7,\"scale\":1,\"marginLeft\":27,\"marginTop\":22,\"marginRight\":15,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":99,\"y\":108,\"sheetSize\":[1024,512],\"x\":568},\"resources/images/bg3.png\":{\"w\":576,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images3.png\",\"h\":1024,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/player_roll_0004.png\":{\"w\":45,\"marginBottom\":1,\"scale\":1,\"marginLeft\":8,\"marginTop\":7,\"marginRight\":11,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":56,\"y\":278,\"sheetSize\":[1024,1024],\"x\":686},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0026.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies6.png\",\"h\":316,\"y\":640,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0020.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies7.png\",\"h\":316,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/alien/bg/rock_d.png\":{\"w\":56,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-bg\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-bg0.png\",\"h\":68,\"y\":0,\"sheetSize\":[1024,1024],\"x\":862},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0030.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies6.png\",\"h\":316,\"y\":320,\"sheetSize\":[1024,1024],\"x\":306},\"resources/images/alt_themes/alien/fx/fx_bulletBlue_b.png\":{\"w\":24,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":22,\"y\":202,\"sheetSize\":[1024,512],\"x\":984},\"resources/images/alt_themes/alien/enemies/crab_idle_0011.png\":{\"w\":126,\"marginBottom\":11,\"scale\":1,\"marginLeft\":1,\"marginTop\":22,\"marginRight\":1,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":95,\"y\":112,\"sheetSize\":[1024,512],\"x\":888},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0029.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies4.png\",\"h\":316,\"y\":320,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/mech/enemies/mine_spin_0009.png\":{\"w\":274,\"marginBottom\":146,\"scale\":1,\"marginLeft\":135,\"marginTop\":144,\"marginRight\":131,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies8.png\",\"h\":250,\"y\":564,\"sheetSize\":[1024,1024],\"x\":738},\"resources/images/particleSmoke2.png\":{\"w\":52,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":53,\"y\":220,\"sheetSize\":[1024,1024],\"x\":642},\"resources/images/alt_themes/alien/bg/rock_f.png\":{\"w\":44,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-bg\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-bg0.png\",\"h\":44,\"y\":0,\"sheetSize\":[1024,1024],\"x\":922},\"resources/images/blue_2.png\":{\"w\":32,\"marginBottom\":16,\"scale\":1,\"marginLeft\":5,\"marginTop\":10,\"marginRight\":5,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":74,\"y\":296,\"sheetSize\":[1024,1024],\"x\":952},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0015.png\":{\"w\":242,\"marginBottom\":10,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies2.png\",\"h\":502,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/alt_themes/mech/enemies/enemyDrone_fly_0015.png\":{\"w\":301,\"marginBottom\":110,\"scale\":1,\"marginLeft\":119,\"marginTop\":114,\"marginRight\":120,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies6.png\",\"h\":316,\"y\":0,\"sheetSize\":[1024,1024],\"x\":0},\"resources/images/player_roll_0007.png\":{\"w\":60,\"marginBottom\":3,\"scale\":1,\"marginLeft\":0,\"marginTop\":5,\"marginRight\":4,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":56,\"y\":938,\"sheetSize\":[1024,1024],\"x\":814},\"resources/images/alt_themes/mech/bg/bgFarDebris2.png\":{\"w\":576,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-mech-bg\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-bg0.png\",\"h\":495,\"y\":0,\"sheetSize\":[1024,1024],\"x\":366},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0028.png\":{\"w\":242,\"marginBottom\":14,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies3.png\",\"h\":498,\"y\":0,\"sheetSize\":[1024,1024],\"x\":246},\"resources/images/blue_9.png\":{\"w\":32,\"marginBottom\":16,\"scale\":1,\"marginLeft\":5,\"marginTop\":10,\"marginRight\":5,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images0.png\",\"h\":74,\"y\":696,\"sheetSize\":[1024,1024],\"x\":914},\"resources/images/player_roll_0008.png\":{\"w\":44,\"marginBottom\":1,\"scale\":1,\"marginLeft\":3,\"marginTop\":5,\"marginRight\":17,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":58,\"y\":200,\"sheetSize\":[1024,1024],\"x\":868},\"resources/images/alt_themes/alien/fx/fx_explosion_0011.png\":{\"w\":80,\"marginBottom\":20,\"scale\":1,\"marginLeft\":28,\"marginTop\":31,\"marginRight\":20,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":77,\"y\":202,\"sheetSize\":[1024,512],\"x\":0},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0016.png\":{\"w\":242,\"marginBottom\":10,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies2.png\",\"h\":502,\"y\":0,\"sheetSize\":[1024,1024],\"x\":246},\"resources/images/alt_themes/mech/bg/bgFarDebris5.png\":{\"w\":360,\"marginBottom\":0,\"scale\":1,\"marginLeft\":216,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-mech-bg\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-bg1.png\",\"h\":502,\"y\":426,\"sheetSize\":[1024,1024],\"x\":580},\"resources/images/player_bank_0004.png\":{\"w\":43,\"marginBottom\":0,\"scale\":1,\"marginLeft\":7,\"marginTop\":6,\"marginRight\":14,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":58,\"y\":262,\"sheetSize\":[1024,1024],\"x\":868},\"resources/images/alt_themes/alien/enemies/ship_saucer.png\":{\"w\":127,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-enemies0.png\",\"h\":63,\"y\":214,\"sheetSize\":[1024,512],\"x\":378},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0027.png\":{\"w\":242,\"marginBottom\":12,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies2.png\",\"h\":500,\"y\":506,\"sheetSize\":[1024,1024],\"x\":738},\"resources/images/particleCircle.png\":{\"w\":100,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":1,\"marginRight\":0,\"group\":\"resources-images\",\"sheet\":\"spritesheets/resources-images1.png\",\"h\":99,\"y\":192,\"sheetSize\":[1024,1024],\"x\":916},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0002.png\":{\"w\":242,\"marginBottom\":16,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies3.png\",\"h\":496,\"y\":0,\"sheetSize\":[1024,1024],\"x\":738},\"resources/images/alt_themes/mech/enemies/mine_spin_0026.png\":{\"w\":281,\"marginBottom\":134,\"scale\":1,\"marginLeft\":128,\"marginTop\":133,\"marginRight\":131,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies7.png\",\"h\":273,\"y\":272,\"sheetSize\":[1024,1024],\"x\":612},\"resources/images/alt_themes/alien/fx/fx_explosion_0028.png\":{\"w\":88,\"marginBottom\":5,\"scale\":1,\"marginLeft\":26,\"marginTop\":20,\"marginRight\":14,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":103,\"y\":102,\"sheetSize\":[1024,512],\"x\":784},\"resources/images/alt_themes/alien/fx/fx_explosion_0029.png\":{\"w\":89,\"marginBottom\":5,\"scale\":1,\"marginLeft\":26,\"marginTop\":20,\"marginRight\":13,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":103,\"y\":98,\"sheetSize\":[1024,512],\"x\":890},\"resources/images/alt_themes/mech/enemies/mine_spin_0015.png\":{\"w\":222,\"marginBottom\":124,\"scale\":1,\"marginLeft\":169,\"marginTop\":127,\"marginRight\":149,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies9.png\",\"h\":289,\"y\":260,\"sheetSize\":[1024,1024],\"x\":258},\"resources/images/alt_themes/alien/fx/fx_explosion_0010.png\":{\"w\":77,\"marginBottom\":21,\"scale\":1,\"marginLeft\":30,\"marginTop\":33,\"marginRight\":21,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":74,\"y\":204,\"sheetSize\":[1024,512],\"x\":84},\"resources/images/alt_themes/mech/enemies/mine_spin_0014.png\":{\"w\":253,\"marginBottom\":121,\"scale\":1,\"marginLeft\":158,\"marginTop\":125,\"marginRight\":129,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies8.png\",\"h\":294,\"y\":0,\"sheetSize\":[1024,1024],\"x\":568},\"resources/images/alt_themes/alien/fx/fx_bulletBlue_a.png\":{\"w\":16,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"resources-images-alt_themes-alien-fx\",\"sheet\":\"spritesheets/resources-images-alt_themes-alien-fx0.png\",\"h\":28,\"y\":150,\"sheetSize\":[1024,512],\"x\":546},\"resources/images/alt_themes/mech/enemies/enemyWorm_fly_0018.png\":{\"w\":242,\"marginBottom\":9,\"scale\":1,\"marginLeft\":7,\"marginTop\":0,\"marginRight\":7,\"group\":\"resources-images-alt_themes-mech-enemies\",\"sheet\":\"spritesheets/resources-images-alt_themes-mech-enemies0.png\",\"h\":503,\"y\":0,\"sheetSize\":[1024,1024],\"x\":246},\"addons/devkit-entities/images/shapeCircle.png\":{\"w\":250,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"images-\",\"sheet\":\"spritesheets/images-0.png\",\"h\":250,\"y\":0,\"sheetSize\":[512,256],\"x\":0},\"addons/devkit-entities/images/shapeRect.png\":{\"w\":250,\"marginBottom\":0,\"scale\":1,\"marginLeft\":0,\"marginTop\":0,\"marginRight\":0,\"group\":\"images-\",\"sheet\":\"spritesheets/images-0.png\",\"h\":250,\"y\":0,\"sheetSize\":[512,256],\"x\":254}}"};
jsio.path.set(["modules/devkit-core/node_modules/jsio/packages","","lib","modules/devkit-core/modules/timestep/src"]),jsio.path.cache={jsio:"modules/devkit-core/node_modules/jsio/packages",devkit:"modules/devkit-core/src/clientapi",ff:"modules/devkit-core/src/clientapi/api/ff",entities:"modules/devkit-entities/src",parallax:"modules/devkit-parallax/src",squill:"modules/devkit-core/modules/squill",lib:"modules/devkit-core/node_modules/jsio/packages/lib",net:"modules/devkit-core/node_modules/jsio/packages/net",std:"modules/devkit-core/node_modules/jsio/packages/std",util:"modules/devkit-core/node_modules/jsio/packages/util",math:"modules/devkit-core/node_modules/jsio/packages/math",device:"modules/devkit-core/modules/timestep/src/device",event:"modules/devkit-core/modules/timestep/src/event",ui:"modules/devkit-core/modules/timestep/src/ui",platforms:"modules/devkit-core/modules/timestep/src/platforms",AudioManager:"modules/devkit-core/modules/timestep/src/AudioManager",timer:"modules/devkit-core/modules/timestep/src/timer",animate:"modules/devkit-core/modules/timestep/src/animate",src:"src"},jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/base.js",'exports.log=jsio.__env.log,exports.GLOBAL=jsio.__env.global,Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var r=Array.prototype.slice.call(arguments,1),o=this,n=function(){},e=function(){return o.apply(this instanceof n?this:t,r.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,e.prototype=new n,e});var SLICE=Array.prototype.slice;exports.isArray="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},exports.bind=function(t,r){if(arguments.length>2){var o=SLICE.call(arguments,2);return"string"==typeof r?function(){if(t[r])return t[r].apply(t,o.concat(SLICE.call(arguments,0)));throw logger.error("No method:",r,"for context",t)}:function(){return r.apply(t,o.concat(SLICE.call(arguments,0)))}}return"string"==typeof r?function(){if(t[r])return t[r].apply(t,arguments);throw logger.error("No method:",r,"for context",t)}:function(){return r.apply(t,arguments)}},exports.Class=function(t,r,o){return exports.__class__(function(){return this.init&&this.init.apply(this,arguments)},t,r,o)},exports.__class__=function(t,r,o,n){var e,i=function(){};if("string"!=typeof r&&(n=o,o=r,r=null),r&&(e=exports.logging.get(r)),!o)throw Error("parent or prototype not provided");if(n||(n=o,o=null),o)if(exports.isArray(o)){i.prototype={};for(var s,a=0;s=o[a];++a){s==Error&&ErrorParentClass&&(s=ErrorParentClass);for(var u in s.prototype)u in i.prototype||(i.prototype[u]=s.prototype[u])}o=o[0]}else o==Error&&ErrorParentClass&&(o=ErrorParentClass),i.prototype=o.prototype;return a=o?function(t,r,n){var e=o.prototype[r];if(!e)throw Error("method "+r+" does not exist");return e.apply(t,n||[])}:null,s=t.prototype=new i,s.constructor=t,s.__parentClass__=o,r&&(s.__class__=r),n.call(s,e||a,e&&a),t};var ErrorParentClass=exports.__class__(function(){var t,r=Error.prototype.constructor.apply(this,arguments);for(t in r)r.hasOwnProperty(t)&&(this[t]=r[t])},function(){});exports.Class.defaults=exports.merge=function(t){for(var t=t||{},r=1,o=arguments.length;o>r;++r){var n,e=arguments[r];for(n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}return t},exports.delay=function(t,r){var o,n,e=null,i=function(){t.apply(o,n)};return function(){o=this,n=arguments,e&&clearTimeout(e),e=setTimeout(i,r||0)}},exports.logging=function(){var t={DEBUG:1,LOG:2,INFO:3,WARN:4,ERROR:5,NONE:10},r={},o=!1,n="";t.setPrefix=function(t){n=t+" "},t.setProduction=function(t){o=!!t;for(var n in r)r[n].setProduction(o)},t.get=function(t){return r.hasOwnProperty(t)?r[t]:r[t]=new e(t)},t.set=function(t,o){r[t]=o},t.getAll=function(){return r},t.__create=function(r,o){o.logger=t.get(r)};var e=exports.__class__(function(r,n){this._name=r,this._isProduction=o,this.setLevel(n||t.LOG)},function(){function r(r){var o=t[r];return function(){if(!this._isProduction&&o>=this._level){var t=r+" "+n+this._name,e=this._listener||exports.log;return e&&e.apply(this._listener,[t].concat(SLICE.call(arguments)))}return arguments[0]}}this.setProduction=function(r){this._isProduction=r,this.setLevel(t.NONE)},this.setLevel=function(r){this._level=r,this._isProduction&&(r=t.NONE),this.DEBUG=r<=t.DEBUG,this.LOG=r<=t.LOG,this.INFO=r<=t.INFO,this.WARN=r<=t.WARN,this.ERROR=r<=t.ERROR},this.setListener=function(t){this._listener=t},this.debug=r("DEBUG"),this.log=r("LOG"),this.info=r("INFO"),this.warn=r("WARN"),this.error=r("ERROR")});return t}();var logger=exports.logging.get("jsiocore");'),jsio.setCachedSrc("modules/devkit-core/src/clientapi/browser/launchClient.js",'function queueStart(){if(window.GC_LIVE_EDIT&&GC_LIVE_EDIT._isLiveEdit)var e=setInterval(function(){if(GC_LIVE_EDIT._liveEditReady){try{startApp()}catch(o){console.error("Error while starting app",o)}clearInterval(e)}},100);else startApp()}function startApp(){if(jsio("import device"),jsio("import platforms.browser.initialize"),device.init(),jsio("import devkit"),debugging.conn.getClient){if(jsio("import ..debugging.clients.viewInspector"),jsio("import ..debugging.clients.simulator"),debugging.clients.viewInspector.setConn(debugging.conn),debugging.clients.simulator.setConn(debugging.conn),CONFIG.splash){var e=CONFIG.splash.hide,o=debugging.conn.getClient("simulator");CONFIG.splash.hide=function(){e&&e.apply(this,arguments),o.onConnect(function(){o.sendEvent("HIDE_LOADING_IMAGE")})}}!function(){var e=jsio.__env,o=bind(e,e.checkSyntax);e.checkSyntax=function(e,n){var t=new XMLHttpRequest;t.open("POST","/api/syntax",!1),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){if(4==t.readyState)if(200==t.status&&t.responseText){var i;try{i=JSON.parse(t.responseText)[1]}catch(s){i=t.responseText}console.group?(console.group("%c"+n+"\\n","color: #33F; font-weight: bold"),i.forEach(function(e){e.err?(console.log("%c"+e.err.replace(/error - parse error.\\s+/i,""),"color: #F55"),console.log("%c"+e.line+":%c"+e.code[0],"color: #393","color: #444"),console.log(Array((""+e.line).length+2).join(" ")+e.code[1])):console.log("%c "+e.code.join("\\n"),"color: #F55")}),console.groupEnd()):(console.log(n),i.forEach(function(e){e.err?(console.log(e.err.replace(/error - parse error.\\s+/i,"")),console.log(e.line+":"+e.code[0]),console.log(Array((""+e.line).length+2).join(" ")+e.code[1])):console.log(e.code.join("\\n"))})),document.body.innerHTML=\'<pre style=\\\'margin-left: 10px; font: bold 12px Consolas, "Bitstream Vera Sans Mono", Monaco, "Lucida Console", Terminal, monospace; color: #FFF;\\\'><span style="color:#AAF">\'+n+"</span>\\n\\n"+i.map(function(e){return e.err?\'<span style="color:#F55">\'+e.err.replace(/error - parse error.\\s+/i,"")+\'</span>\\n <span style="color:#5F5">\'+e.line+\'</span>:  <span style="color:#EEE">\'+e.code[0]+"</span>\\n"+Array((""+e.line).length+5).join(" ")+e.code[1]:\'<span style="color:#F55">\'+e.code.join("\\n")+"</span>"}).join("\\n")+"</pre>"}else t.status>0&&o(e,n)},t.send("javascript="+encodeURIComponent(e))}}()}GC.buildApp("launchUI")}!function(){var e={"modules/devkit-core/modules/timestep/":"https://cdn.rawgit.com/gameclosure/timestep/develop/","modules/devkit-core/node_modules/jsio/":"https://cdn.rawgit.com/gameclosure/js.io/develop/"},o=Object.keys(e),n=o.map(function(o){return e[o]}),t=o.length;jsio.__env.fetch=function(e){for(var i=0;t>i;++i)if(0==e.indexOf(o[i])){var s=new XMLHttpRequest;if(s.open("GET",n[i]+e.substring(o[i].length),!1),s.send(),200==s.status)return s.responseText}return!1}}(),jsio("import ..debugging.conn"),jsio("import device");var isSimulator=GLOBAL.CONFIG&&!!CONFIG.simulator&&window.parent!==window,isNative=/^native/.test(CONFIG.target);isSimulator&&(jsio.__env.debugPath=function(e){return"http://"+(CONFIG.bundleID||CONFIG.packageName)+"/"+e.replace(/^[\\.\\/]+/,"")},isNative&&jsio("import ..debugging.nativeShim")),window.JSON||jsio("import std.JSON").createGlobal(),window.console||(window.console={},window.console.log=window.console.info=window.console.error=window.console.warn=function(){}),"undefined"!=typeof localStorage&&(localStorage={getItem:function(){},setItem:function(){},removeItem:function(){}});var splash=document.getElementById("_GCSplash");splash&&!CONFIG.splash.hide&&(CONFIG.splash.hide=function(){setTimeout(function(){splash.style.opacity=0,splash.style.pointerEvents="none",setTimeout(function(){splash.parentNode.removeChild(splash)},500)},100)}),jsio("import std.uri");var uri=new std.uri(window.location),mute=uri.hash("mute");if(CONFIG.isMuted=void 0!=mute&&"false"!=mute&&"0"!=mute&&"no"!=mute,DEBUG){jsio("import ..debugging._DEBUG as _DEBUG"),GLOBAL._DEBUG=new _DEBUG;var DEVICE_ID_KEY=".devkit.deviceId",deviceId,deviceType;if(isSimulator){if(deviceId=CONFIG.simulator.deviceId,deviceType=CONFIG.simulator.deviceType,deviceType=uri.hash("deviceType"))try{jsio("import .simulateDevice");var xhr=new XMLHttpRequest;xhr.open("GET","/simulate/static/util/resolutions.js",!1),xhr.send();var resolutions=eval("(function () { exports = {}; "+xhr.responseText+"; return exports; })()");simulateDevice.simulate(resolutions.get(deviceType))}catch(e$$8){logger.error(e$$8)}debugging.conn.connect({handshake:{deviceId:deviceId,deviceType:deviceType,userAgent:navigator.userAgent,screen:{width:device.screen.width,height:device.screen.height}}},function(){startApp()})}else deviceId=localStorage.getItem(DEVICE_ID_KEY),deviceId||(jsio("import std.uuid"),deviceId=std.uuid.uuid(),localStorage.setItem(DEVICE_ID_KEY,deviceId)),deviceType=device.isAndroid?"browser-android":device.isIOS?"browser-ios":"browser-mobile",queueStart()}else queueStart();'),jsio.setCachedSrc("modules/devkit-core/src/clientapi/debugging/conn.js",'jsio("import lib.PubSub"),jsio("import net"),jsio("import .TargetCuppa");var _conn;if(DEBUG){var DevKitConnection=__class__,DevKitConnection=DevKitConnection(function(){return this.init&&this.init.apply(this,arguments)},TargetCuppa,function(n){this.connectionMade=function(){this.sendEvent("HANDSHAKE",merge({type:"device",appTitle:CONFIG.title,appId:CONFIG.appID,bundleId:CONFIG.bundleID},this._handshakeOpts)),n(this,"connectionMade",arguments)},this.connect=function(n,t){"function"==typeof n&&(t=n,n=null),this._handshakeOpts=n.handshake;var i=n&&n.transport,e=n&&n.opts;i||(window.parent!=window?(i="postmessage",e={port:"devkit-simulator",win:window.parent}):(i="socketio",e={namespace:"/devices/"})),this.onConnect(bind(GLOBAL,t)),net.connect(this,i,e)}});exports=new DevKitConnection}'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/lib/PubSub.js",'jsio("from ..std.uuid import uuid");var ctx=jsio.__env.global,SLICE=Array.prototype.slice,home_weeby_projects_swarm_modules_devkit_core_node_modules_jsio_packages_lib_PubSub=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_node_modules_jsio_packages_lib_PubSub(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){},this.publish=function(s){if(this._subscribers){var i=SLICE.call(arguments,1);if(this._subscribers.__any)for(var t,e=[s].concat(i),r=this._subscribers.__any.slice(0),n=0;t=r[n];++n)t.apply(ctx,e);if(!this._subscribers[s])return this;for(r=this._subscribers[s].slice(0),n=0;t=r[n];++n)t.apply(ctx,i)}return this},this.subscribe=function(s,i,t){var e;2==arguments.length?e=i:(e=bind.apply(GLOBAL,SLICE.call(arguments,1)),e._ctx=i,e._method=t);var r=this._subscribers||(this._subscribers={});return(r[s]||(r[s]=[])).push(e),this},this.subscribeOnce=function(s,i,t){var e=arguments,r=bind(this,function(){this.unsubscribe(s,r),2==e.length?i.apply(GLOBAL,arguments):bind.apply(GLOBAL,SLICE.call(e,1)).apply(GLOBAL,arguments)});return 3<=e.length&&(r._ctx=i,r._method=t),this.subscribe(s,r)},this.unsubscribe=function(s,i,t){if(!this._subscribers||!this._subscribers[s])return this;for(var e,s=this._subscribers[s],r=0;e=s[r];++r)(e==i||e._ctx==i&&(!t||e._method==t))&&s.splice(r--,1);return this},this.listeners=function(s){return this._subscribers=this._subscribers?this._subscribers:{},this.hasOwnProperty.call(this._subscribers,s)?this._subscribers[s]:this._subscribers[s]=[]},this.addListener=this.on=function(s,i){return this.listeners(s).length+1>this._maxListeners&&0!==this._maxListeners&&"undefined"!=typeof console&&console.warn("Possible EventEmitter memory leak detected. "+this._subscribers[s].length+" listeners added. Use emitter.setMaxListeners() to increase limit."),this.emit("newListener",s,i),this.subscribe(s,this,i)},this.once=function(s,i){return this.subscribeOnce(s,this,i)},this.removeListener=function(s,i){return this.unsubscribe(s,this,i),this},this.removeAllListeners=function(s){if(this._subscribers)for(var i in this._subscribers)(null==s||s==i)&&delete this._subscribers[i];return this},this.emit=function(s){return this.publish.apply(this,arguments),0<this.listeners(s).length},this._maxListeners=10,this.setMaxListeners=function(s){this._maxListeners=s},this.hasListeners=function(s){return this._subscribers&&this._subscribers[s]&&this._subscribers[s].length},this.listenTo=function(s,i,t){var e=this._listeningTo||(this._listeningTo={}),r=s._listenId||(s._listenId=uuid(8,16));return e[r]=s,s.subscribe(i,this,t),this},this.stopListening=function(s,i,t){var e,r,n,u,h,b,c,_,o=this._listeningTo;if(!o)return this;logger.LOG&&console.log("LOG","lib.PubSub",s);var l=!i&&!t;s&&((o={})[s._listenId]=s);for(var a in o){for(s=o[a],r=i?[i]:Object.keys(s._subscribers),u=0,c=r.length;c>u;u++)if(i=r[u],e=s._subscribers[i]){for(s._subscribers[i]=n=[],h=0,b=e.length;b>h;h++)_=e[h],(t&&t!==_._method||this&&this!==_._ctx)&&n.push(_);n.length||delete s._subscribers[i]}l&&delete this._listeningTo[a]}return this}});'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/std/uuid.js",'var CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");exports.uuid=function(r,a){var n=CHARS,o=[],t=Math.random,a=a||n.length;if(r)for(var e=0;r>e;e++)o[e]=n[0|t()*a];else{var i;for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",e=0;36>e;e++)o[e]||(i=0|16*t(),o[e]=n[19==e?3&i|8:15&i])}return o.join("")};'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/net/env/browser/csp.js",'jsio("import ...interfaces"),jsio("from ...csp.client import CometSession"),jsio("import ....std.utf8 as utf8"),exports.Connector=__class__,exports.Connector=exports.Connector(function(){return this.init&&this.init.apply(this,arguments)},interfaces.Connector,function(){this.connect=function(){this._state=interfaces.STATE.CONNECTING;var n=new CometSession;n.onconnect=bind(this,"cometSessionOnConnect",n),n.ondisconnect=bind(this,"onDisconnect"),logger.DEBUG&&console.debug("DEBUG","net.env.browser.csp","opening the connection"),this._opts.encoding||(this._opts.encoding="utf8"),n.connect(this._opts.url,this._opts)},this.cometSessionOnConnect=function(n){logger.DEBUG&&console.debug("DEBUG","net.env.browser.csp","conn has opened"),this.onConnect(new Transport(n))}});var Transport=__class__,Transport=Transport(function(){return this.init&&this.init.apply(this,arguments)},interfaces.Transport,function(){this.init=function(n){this._conn=n},this.makeConnection=function(n){this._conn.onread=bind(n,"dataReceived")},this.write=function(n){this._conn.write(n)},this.loseConnection=function(){this._conn.close()}});'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/net/interfaces.js",'jsio("import .index as net"),jsio("import ..lib.Enum as Enum"),jsio("import ..lib.PubSub as PubSub");var ctx=jsio.__env.global;exports.Protocol=__class__,exports.Protocol=exports.Protocol(function(){return this.init&&this.init.apply(this,arguments)},function(){this.connectionMade=function(){},this.dataReceived=function(){},this.connectionLost=function(){},this._connectionMade=function(){this._isConnected=!0,this.connectionMade.apply(this,arguments)},this._connectionLost=function(){this._isConnected=!1,this.connectionLost.apply(this,arguments)},this._isConnected=!1,this.isConnected=function(){return!!this._isConnected},this.end=function(){this.transport&&this.transport.loseConnection()}}),exports.Client=__class__,exports.Client=exports.Client(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){this._protocol=t},this.connect=function(t,n){this._remote=new this._protocol,this._remote._client=this,net.connect(this._remote,t,n)}}),exports.Server=__class__,exports.Server=exports.Server(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){this._protocolClass=t},this.buildProtocol=function(){return new this._protocolClass},this.listen=function(t,n){return net.listen(this,t,n)}}),exports.Transport=__class__,exports.Transport=exports.Transport(function(){return this.init&&this.init.apply(this,arguments)},function(){this._encoding="plain",this.write=function(){throw Error("Not implemented")},this.getPeer=function(){throw Error("Not implemented")},this.setEncoding=function(t){this._encoding=t},this.getEncoding=function(){return this._encoding}}),exports.Listener=__class__,exports.Listener=exports.Listener(function(){return this.init&&this.init.apply(this,arguments)},PubSub,function(){this.init=function(t,n){this._server=t,this._opts=n||{}},this.onConnect=function(t){var n=this._server.buildProtocol();n.transport=t,n.server=this._server,t.protocol=n,t.makeConnection(n),n._connectionMade()},this.listen=function(){throw Error("Abstract class")},this.stop=function(){}}),exports.STATE=Enum("INITIAL","DISCONNECTED","CONNECTING","CONNECTED"),exports.Connector=__class__,exports.Connector=exports.Connector(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,n){this._protocol=t,this._opts=n,this._state=exports.STATE.INITIAL},this.getState=function(){return this._state},this.onConnect=function(t){this._state=exports.STATE.CONNECTED,t.makeConnection(this._protocol),this._protocol.transport=t;try{this._protocol._connectionMade()}catch(n){throw logger.ERROR&&console.error("ERROR","...interfaces",n)}},this.onDisconnect=function(t){var n=this._state==exports.STATE.CONNECTED;this._state=exports.STATE.DISCONNECTED;try{this._protocol._connectionLost(t,n)}catch(o){throw logger.ERROR&&console.error("ERROR","...interfaces",o)}},this.getProtocol=function(){return this._protocol}});'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/net/index.js",'jsio("import .env"),jsio("import ..std.JSON as JSON"),jsio("import .interfaces"),JSON.createGlobal(),exports.listen=function(e,t,n){if(!t)throw logger.ERROR&&console.error("ERROR","net","No transport provided for net.listen");return e=new("string"==typeof t?env.getListener(t):t)(e,n),e.listen(),e},exports.connect=function(e,t,n){return e=new("string"==typeof t?env.getConnector(t):t)(e,n),e.connect(),e},exports.quickServer=function(e){return new interfaces.Server(e)};'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/net/env/index.js",'function getObj(e,t,r){try{jsio("from ."+(r||jsio.__env.name)+"."+t+" import "+e+" as result")}catch(n){throw logger.ERROR&&console.error("ERROR",".env","Invalid transport (",t,") or environment (",r,")",n)}return result}exports.getListener=bind(this,getObj,"Listener"),exports.getConnector=bind(this,getObj,"Connector");'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/std/JSON.js",'exports.createGlobal=function(){"undefined"==typeof JSON&&(JSON={}),"function"!=typeof JSON.stringify&&(JSON.stringify=exports.stringify),"function"!=typeof JSON.parse&&(JSON.parse=exports.parse)},function(){function n(e){return o.lastIndex=0,o.test(e)?\'"\'+e.replace(o,function(e){var t=q[e];return"string"==typeof t?t:"\\\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+\'"\':\'"\'+e+\'"\'}function m(t,r){var f=e,u=r[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof k&&(u=k.call(r,t,u)),typeof u){case"string":return n(u);case"number":return isFinite(u)?""+u:"null";case"boolean":return""+u;case"object":if(null===u)return"null";if(u.constructor===Date)return exports.stringifyDate(u);e+=l;var o=[];if(u.constructor===Array){for(var i=u.length,a=0;i>a;a+=1)o[a]=m(a,u)||"null";var c=0===o.length?"[]":e?"[\\n"+e+o.join(",\\n"+e)+"\\n"+f+"]":"["+o.join(",")+"]";return e=f,c}if(k&&"object"==typeof k)for(i=k.length,a=0;i>a;a+=1){var s=k[a];"string"==typeof s&&(c=m(s,u))&&o.push(n(s)+(e?": ":":")+c)}else for(s in u)Object.hasOwnProperty.call(u,s)&&(c=m(s,u))&&o.push(n(s)+(e?": ":":")+c);return c=0===o.length?"{}":e?"{\\n"+e+o.join(",\\n"+e)+"\\n"+f+"}":"{"+o.join(",")+"}",e=f,c}}var p=/[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,o=/[\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,e,l,q={"\\b":"\\\\b","	":"\\\\t","\\n":"\\\\n","\\f":"\\\\f","\\r":"\\\\r",\'"\':\'\\\\"\',"\\\\":"\\\\\\\\"},k;exports.stringify=function(t,r,n){if(l=e="","number"==typeof n)for(var f=0;n>f;f+=1)l+=" ";else"string"==typeof n&&(l=n);if((k=r)&&"function"!=typeof r&&("object"!=typeof r||"number"!=typeof r.length))throw Error("JSON stringify: invalid replacer");return m("",{"":t})},exports.stringifyDate=function(e){var t=e.getUTCFullYear(),r=e.getUTCMonth()+1,n=e.getUTCDate(),f=e.getUTCHours(),u=e.getUTCMinutes(),o=e.getUTCSeconds(),e=e.getUTCMilliseconds();return 10>r&&(r="0"+r),10>n&&(n="0"+n),10>f&&(f="0"+f),10>u&&(u="0"+u),10>o&&(o="0"+o),10>e?e="00"+e:100>e&&(e="0"+e),\'"\'+t+"-"+r+"-"+n+"T"+f+":"+u+":"+o+"."+e+\'Z"\'},exports.parse=function(a,e){if(p.lastIndex=0,p.test(a)&&(a=a.replace(p,function(e){return"\\\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\\],:{}\\s]*$/.test(a.replace(/\\\\(?:["\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\\\\n\\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,"]").replace(/(?:^|:|,)(?:\\s*\\[)+/g,""))){var c=eval("("+a+")");if(e){var b=function(t,r){var n,f,u=t[r];if(u&&"object"==typeof u)for(n in u)Object.hasOwnProperty.call(u,n)&&(f=b(u,n),void 0!==f?u[n]=f:delete u[n]);return e.call(t,r,u)};return b({"":c},"")}return c}throw new SyntaxError("JSON.parse")}}();'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/lib/Enum.js",'exports=function(){if(1==arguments.length){if("object"==typeof arguments[0]){var r,t=arguments[0];for(r in t)t[r]in t||(t[t[r]]=r);return t}"string"!=typeof arguments[0]&&(n=arguments[0])}if(!n)var n=arguments;t={},r=0;for(var e=n.length;e>r;++r)n[r]&&(t[n[r]]=r+1),t[r+1]=n[r];return t};'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/net/csp/client.js",'jsio("import std.base64 as base64"),jsio("import std.utf8 as utf8"),jsio("import std.uri as uri"),jsio("import net.errors as errors"),jsio("import .transports"),jsio("import lib.Enum as Enum");var READYSTATE=exports.READYSTATE=Enum({INITIAL:0,CONNECTING:1,CONNECTED:2,DISCONNECTING:3,DISCONNECTED:4});exports.CometSession=__class__,exports.CometSession=exports.CometSession(function(){return this.init&&this.init.apply(this,arguments)},function(){var t=0;this.init=function(){this._id=++t,this._url=null,this.readyState=READYSTATE.INITIAL,this._options=this._transport=this._sessionKey=null,this._writeBuffer=this._utf8ReadBuffer="",this._handshakeLater=this._lastSentId=this._lastEventId=this._packetsInFlight=null,this._handshakeBackoff=50,this._timeoutTimer=this._handshakeTimeoutTimer=this._handshakeRetryTimer=null,this._cometBackoff=this._writeBackoff=50,this._nullReceived=this._nullSent=this._nullInFlight=this._nullInBuffer=!1},this.setEncoding=function(t){if(t!=this._options.encoding){if("utf8"!=t&&"plain"!=t)throw new errors.InvalidEncodingError;if("plain"==t&&this._buffer){var e=this._utf8ReadBuffer;this._utf8ReadBuffer="",this._doOnRead(e)}this._options.encoding=t}},this.connect=function(t,e){this._url=t.replace(/\\/$/,""),this._options=e||{},this._options.encoding=this._options.encoding||"utf8",this.setEncoding(this._options.encoding),this._options.connectTimeout=this._options.connectTimeout||1e4,this._transport=new(transports.chooseTransport(t,this._options)),this._transport.handshakeFailure=bind(this,this._handshakeFailure),this._transport.handshakeSuccess=bind(this,this._handshakeSuccess),this._transport.cometFailure=bind(this,this._cometFailure),this._transport.cometSuccess=bind(this,this._cometSuccess),this._transport.sendFailure=bind(this,this._writeFailure),this._transport.sendSuccess=bind(this,this._writeSuccess),this.readyState=READYSTATE.CONNECTING,this._transport.handshake(this._url,this._options),this._handshakeTimeoutTimer=setTimeout(bind(this,this._handshakeTimeout),this._options.connectTimeout)},this.write=function(t,e){if(this.readyState!=READYSTATE.CONNECTED)throw new errors.ReadyStateError;e=e||this._options.encoding||"utf8","utf8"==e&&(t=utf8.encode(t)),this._writeBuffer+=t,this._doWrite()},this._protocolError=function(t){logger.DEBUG&&console.debug("DEBUG","...csp.client","_protocolError",t),this.readyState=READYSTATE.DISCONNECTED,this._doWrite(!0),this._doOnDisconnect(new errors.ServerProtocolError(t))},this._receivedNullPacket=function(){logger.DEBUG&&console.debug("DEBUG","...csp.client","_receivedNullPacket"),this._receivedNull=!0,this._nullInFlight||this._nullInBuffer||this._nullSent?this.readyState=READYSTATE.DISCONNECTED:(this.readyState=READYSTATE.DISCONNECTING,this._doWrite(!0)),this._doOnDisconnect(new errors.ConnectionClosedCleanly)},this._sentNullPacket=function(){logger.DEBUG&&console.debug("DEBUG","...csp.client","_sentNullPacket"),(this._nullSent=!0)&&this._nullReceived&&(this.readyState=READYSTATE.DISCONNECTED)},this.close=function(t){switch(logger.DEBUG&&console.debug("DEBUG","...csp.client","close called",t,"readyState",this.readyState),this.readyState){case READYSTATE.CONNECTING:clearTimeout(this._handshakeRetryTimer),clearTimeout(this._handshakeTimeoutTimer),this.readyState=READYSTATE.DISCONNECTED,this._doOnDisconnect(t);break;case READYSTATE.CONNECTED:this.readyState=READYSTATE.DISCONNECTING,this._doWrite(!0),clearTimeout(this._timeoutTimer);break;case READYSTATE.DISCONNECTED:throw new errors.ReadyStateError("Session is already disconnected")}this._opened=!1,this.readyState=READYSTATE.DISCONNECTED,this._doOnDisconnect(t),this._sessionKey=null},this._handshakeTimeout=function(){logger.DEBUG&&console.debug("DEBUG","...csp.client","handshake timeout"),this._handshakeTimeoutTimer=null,clearTimeout(this._handshakeRetryTimer),this.readyState==READYSTATE.CONNECTING&&(this.readyState=READYSTATE.DISCONNECTED),this._doOnDisconnect(new errors.ServerUnreachable)},this._handshakeSuccess=function(t){logger.DEBUG&&console.debug("DEBUG","...csp.client","handshake success",t),this.readyState!=READYSTATE.CONNECTING?logger.DEBUG&&console.debug("DEBUG","...csp.client","received handshake success in invalid readyState:",this.readyState):(clearTimeout(this._handshakeTimeoutTimer),this._handshakeTimeoutTimer=null,this._sessionKey=t.response.session,this._opened=!0,this.readyState=READYSTATE.CONNECTED,this._doOnConnect(),this._doConnectComet())},this._handshakeFailure=function(t){if(logger.DEBUG&&console.debug("DEBUG","...csp.client","handshake failure",t),this.readyState==READYSTATE.CONNECTING){if(404==t.status)return clearTimeout(this._handshakeTimeoutTimer),this._doOnDisconnect(new errors.ServerUnreachable);logger.DEBUG&&console.debug("DEBUG","...csp.client","trying again in ",this._handshakeBackoff),this._handshakeRetryTimer=setTimeout(bind(this,function(){this._handshakeRetryTimer=null,this._transport.handshake(this._url,this._options)}),this._handshakeBackoff),this._handshakeBackoff*=2}},this._writeSuccess=function(){if(this.readyState==READYSTATE.CONNECTED||this.readyState==READYSTATE.DISCONNECTING){if(this._nullInFlight)return this._sentNullPacket();this._resetTimeoutTimer(),this.writeBackoff=50,this._packetsInFlight=null,(this._writeBuffer||this._nullInBuffer)&&this._doWrite(this._nullInBuffer)}},this._writeFailure=function(){this.readyState!=READYSTATE.CONNECTED&&this.READYSTATE!=READYSTATE.DISCONNECTING||(this._writeTimer=setTimeout(bind(this,function(){this._writeTimer=null,this.__doWrite(this._nullInBuffer)}),this._writeBackoff),this._writeBackoff*=2)},this._doWrite=function(t){this._packetsInFlight?t&&(this._nullInBuffer=!0):this.__doWrite(t)},this.__doWrite=function(t){logger.DEBUG&&console.debug("DEBUG","...csp.client","_writeBuffer:",this._writeBuffer),!this._packetsInFlight&&this._writeBuffer&&(this._packetsInFlight=[this._transport.encodePacket(++this._lastSentId,this._writeBuffer,this._options)],this._writeBuffer=""),t&&!this._writeBuffer&&(this._packetsInFlight||(this._packetsInFlight=[]),this._packetsInFlight.push([++this._lastSentId,0,null]),this._nullInFlight=!0),this._packetsInFlight?(logger.DEBUG&&console.debug("DEBUG","...csp.client","sending packets:",JSON.stringify(this._packetsInFlight)),this._transport.send(this._url,this._sessionKey,this._lastEventId||0,JSON.stringify(this._packetsInFlight),this._options)):logger.DEBUG&&console.debug("DEBUG","...csp.client","no packets to send")},this._doConnectComet=function(){logger.DEBUG&&console.debug("DEBUG","...csp.client","_doConnectComet"),this._transport.comet(this._url,this._sessionKey,this._lastEventId||0,this._options)},this._cometFailure=function(t){if(this.readyState==READYSTATE.CONNECTED){if(404==t.status&&"Session not found"==t.response)return this.close(new errors.ExpiredSession(t));this._cometTimer=setTimeout(bind(this,"_doConnectComet"),this._cometBackoff),this._cometBackoff*=2}},this._cometSuccess=function(t){if(this.readyState==READYSTATE.CONNECTED||this.readyState==READYSTATE.DISCONNECTING){logger.DEBUG&&console.debug("DEBUG","...csp.client","comet Success:",t),this._cometBackoff=50,this._resetTimeoutTimer();for(var e,i=t.response,s=0;(e=i[s])||s<i.length;s++){if(logger.DEBUG&&console.debug("DEBUG","...csp.client","process packet:",e),null===e)return this.close(new errors.ServerProtocolError(t));logger.DEBUG&&console.debug("DEBUG","...csp.client","process packet",e);var n=e[0],o=e[1],t=e[2];if(!("number"==typeof this._lastEventId&&n<=this._lastEventId)){if("number"==typeof this._lastEventId&&n!=this._lastEventId+1)return this._protocolError("Ack id too high");if(this._lastEventId=n,null==t)return this._receivedNullPacket();if(1==o)try{logger.DEBUG&&console.debug("DEBUG","...csp.client","before base64 decode:",t),t=base64.decode(t),logger.DEBUG&&console.debug("DEBUG","...csp.client","after base64 decode:",t)}catch(r){return this._protocolError("Unable to decode base64 payload")}"utf8"==this._options.encoding&&(this._utf8ReadBuffer+=t,logger.DEBUG&&console.debug("DEBUG","...csp.client","before utf8 decode, _utf8ReadBuffer:",this._utf8ReadBuffer),e=utf8.decode(this._utf8ReadBuffer),t=e[0],this._utf8ReadBuffer=this._utf8ReadBuffer.slice(e[1]),logger.DEBUG&&console.debug("DEBUG","...csp.client","after utf8 decode, _utf8ReadBuffer:",this._utf8ReadBuffer,"data:",t)),logger.DEBUG&&console.debug("DEBUG","...csp.client","dispatching data:",t),this._doOnRead(t)}}this.readyState!=READYSTATE.CONNECTED&&this.readyState!=READYSTATE.DISCONNECTING||this._doConnectComet()}},this._doOnRead=function(t){"function"==typeof this.onread?(logger.DEBUG&&console.debug("DEBUG","...csp.client","call onread function",t),this.onread(t)):logger.DEBUG&&console.debug("DEBUG","...csp.client","skipping onread callback (function missing)")},this._doOnDisconnect=function(t){"function"==typeof this.ondisconnect?(logger.DEBUG&&console.debug("DEBUG","...csp.client","call ondisconnect function",t),this.ondisconnect(t)):logger.DEBUG&&console.debug("DEBUG","...csp.client","skipping ondisconnect callback (function missing)")},this._doOnConnect=function(){if("function"==typeof this.onconnect){logger.DEBUG&&console.debug("DEBUG","...csp.client","call onconnect function");try{this.onconnect()}catch(t){logger.DEBUG&&console.debug("DEBUG","...csp.client","onconnect caused errror",t),setTimeout(function(){throw t},0)}}else logger.DEBUG&&console.debug("DEBUG","...csp.client","skipping onconnect callback (function missing)")},this._resetTimeoutTimer=function(){clearTimeout(this._timeoutTimer),this._timeoutTimer=setTimeout(bind(this,function(){logger.DEBUG&&console.debug("DEBUG","...csp.client","connection timeout expired"),this.close(new errors.ConnectionTimeout)}),this._getTimeoutInterval())},this._getTimeoutInterval=function(){return 45e3}});'),
jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/std/base64.js",'for(var alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",trailingPad="=",padChar=alphabet.charAt(alphabet.length-1),decodeMap={},i=0,len=alphabet.length;len>i;i++)decodeMap[alphabet.charAt(i)]=i;var alphabet_inverse=RegExp("[^"+alphabet.replace("-","\\\\-")+"]");exports.Base64CodecError=__class__,exports.Base64CodecError=exports.Base64CodecError(function(){return this.init&&this.init.apply(this,arguments)},Error,function(){this.name="Base64CodecError",this.init=function(e){this.message=e}});var assertOrBadInput=function(e,a){if(!e)throw new exports.Base64CodecError(a)};exports.encode=function(e,a){assertOrBadInput(!/[^\\x00-\\xFF]/.test(e),"Input contains out-of-range characters.");for(var r=e.length%3,t="\\x00\\x00\\x00".slice(r||3),e=e+t,n=[],o=0,h=e.length;h>o;o+=3){var c=(e.charCodeAt(o)<<16)+(e.charCodeAt(o+1)<<8)+e.charCodeAt(o+2);n.push(alphabet.charAt(c>>18&63),alphabet.charAt(c>>12&63),alphabet.charAt(c>>6&63),alphabet.charAt(63&c))}return n.length-=t.length,t=n.join(""),a||(1==r?t+="==":2==r&&(t+="=")),t},exports.decode=function(e){logger.DEBUG&&console.debug("DEBUG","std.base64","decode",e);for(var e=e.replace(/\\s/g,""),a=e.length;e.charAt(--a)===trailingPad;);e=e.slice(0,a+1),assertOrBadInput(!alphabet_inverse.test(e),"Input contains out-of-range characters.");for(var r=4-(e.length%4||4),t=Array(r+1).join(padChar),e=e+t,t=[],n=a+r+1,a=0;n>a;a+=4)newchars=(decodeMap[e.charAt(a)]<<18)+(decodeMap[e.charAt(a+1)]<<12)+(decodeMap[e.charAt(a+2)]<<6)+decodeMap[e.charAt(a+3)],t.push(newchars>>16&255,newchars>>8&255,255&newchars);if(n=t.length-=r,n>65536){for(e=[],r=a=0;n>a;)e[r++]=String.fromCharCode.apply(String,t.slice(a,a+65536)),a+=65536;e=e.join("")}else e=String.fromCharCode.apply(String,t);return logger.DEBUG&&console.debug("DEBUG","std.base64","decoded",e),e};'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/std/utf8.js",'exports.UnicodeCodecError=function(e){this.message=e};var UnicodeCodecError=exports.UnicodeCodecError;UnicodeCodecError.prototype.toString=function(){return"UnicodeCodecError"+(this.message?": "+this.message:"")},exports.encode=function(e){try{return unescape(encodeURIComponent(e))}catch(o){throw new UnicodeCodecError("invalid input string")}},exports.decode=function(e){if(/[^\\x00-\\xFF]/.test(e))throw new UnicodeCodecError("invalid utf-8 bytes");var o,r;if(o=r=e.length,128<=e.charCodeAt(o-1)){for(var t=1;3>=t;t++)if(192<=e.charCodeAt(o-t)){r=o-t;break}try{decodeURIComponent(escape(e.slice(r))),r=o}catch(c){}}try{return[decodeURIComponent(escape(e.slice(0,r))),r]}catch(n){throw new UnicodeCodecError("invalid utf-8 bytes")}};'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/std/uri.js",'var attrs="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),home_weeby_projects_swarm_modules_devkit_core_node_modules_jsio_packages_std_uri=__class__,URI=exports=home_weeby_projects_swarm_modules_devkit_core_node_modules_jsio_packages_std_uri(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,e){if(t instanceof URI)for(var r,s=0;r=attrs[s];++s)this["_"+r]=t["_"+r];else for(r in this._isStrict=e,s=exports.parse(t,e))this["_"+r]=s[r]};for(var t,e=0;t=attrs[e];++e)(function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);this["get"+e]=function(){return this["_"+t]},this["set"+e]=function(e){return this["_"+t]=e,this}}).call(this,t);this.query=function(t){return exports.parseQuery(this._query)[t]},this.hash=function(t){return exports.parseQuery(this._anchor)[t]},this.addHash=function(t){var e,r=exports.parseQuery(this._anchor);for(e in t)r[e]=t[e];return this._anchor=exports.buildQuery(r),this},this.push=function(t){return t&&(this._path=(this._path+"/"+t).replace(/\\/\\/+/g,"/")),this},this.addQuery=function(t){var e,r=exports.parseQuery(this._query);for(e in t)r[e]=t[e];return this._query=exports.buildQuery(r),this},this.removeQuery=function(t){var e=exports.parseQuery(this._query);if(isArray(t))for(var r=0,s=t.length;s>r;++r)delete e[t[r]];else delete e[t];return this._query=exports.buildQuery(e),this},this.toJSON=function(){return this.toString(!1)},this.toString=function(t){var e=this._protocol?this._protocol+"://":"",r=this._host?this._host+(80==(this._port||80)?"":":"+this._port):"";return t?e+r:e+r+this._path+(this._query?"?"+this._query:"")+(this._anchor?"#"+this._anchor:"")}});exports.relativeTo=function(t,e){if(t=""+t,e&&!/^http(s?):\\/\\//.test(t))var r=new exports(e).setAnchor("").setQuery("").setFile("").toString("/"==t.charAt(0)),t=exports.resolveRelative(r+t);return new URI(t)},exports.resolveRelative=function(t){for(;t!=(t=t.replace(/(^|\\/)([^\\/]+)\\/\\.\\.\\//g,"/")););return t.replace(/[^.]\\.\\//g,"")},exports.buildQuery=function(t){var e,r=[];for(e in t)r.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return r.join("&")},exports.parseQuery=function(t){for(var t=t.split("&"),e=t.length,r={},s=0;e>s;++s){var o=t[s].split("="),i=decodeURIComponent(o[0]);i&&(r[i]=decodeURIComponent(o[1]))}return r};var strictRegex=/^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,looseRegex=/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/,queryStringRegex=/(?:^|&)([^&=]*)=?([^&]*)/g;exports.parse=function(t,e){for(var r,s={},o=(e?strictRegex:looseRegex).exec(t),i=0;r=attrs[i];++i)s[r]=o[i]||"";var n=s.queryKey={};return s.query.replace(queryStringRegex,function(t,e,r){t&&(n[e]=r)}),s},exports.isSameDomain=function(t,e){var r=exports.parse(t),s=exports.parse(e);return r.port==s.port&&r.host==s.host&&r.protocol==s.protocol};'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/net/errors.js",'var makeErrorClass=function(r){var e=function(r){"string"==typeof r?this.message=r:this.data=r};return e.prototype={type:r,toString:function(){return r+(this.message?": "+this.message:"")}},e};exports.ReadyStateError=makeErrorClass("ReadyStateError"),exports.InvalidEncodingError=makeErrorClass("InvalidEncodingError"),exports.ExpiredSession=makeErrorClass("ExpiredSession"),exports.ServerUnreachable=makeErrorClass("ServerUnreachable",100),exports.ConnectionTimeout=makeErrorClass("ConnectionTimeout",101),exports.ServerProtocolError=makeErrorClass("ServerProtocolError",200),exports.ServerClosedConnection=makeErrorClass("ServerClosedConnection",301),exports.ConnectionClosedCleanly=makeErrorClass("ConnectionClosedCleanly",300);'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/net/csp/transports.js",'function isLocalFile(t){return/^file:\\/\\//.test(t)}function isWindowDomain(t){return uri.isSameDomain(t,window.location.href)}function checkXHRBinarySupport(t){xhrSupportsBinary=!!t.sendAsBinary}function canUseXHR(t){if(isLocalFile(t))return!1;var e=new exports.XHR;return e?(checkXHRBinarySupport(e),isWindowDomain(t)||window.XMLHttpRequest&&(e.__proto__==XMLHttpRequest.prototype||e instanceof window.XMLHttpRequest)&&void 0!==e.withCredentials||window.XDomainRequest&&e instanceof window.XDomainRequest?!0:void 0):!1}jsio("import std.uri as uri"),jsio("import std.base64 as base64"),jsio("from util.browserdetect import BrowserDetect"),function(){var t;exports.getDoc=function(){if(t)return t;try{(t=window.ActiveXObject&&new ActiveXObject("htmlfile"))&&(t.open().write("<html></html>"),t.close(),window.attachEvent("onunload",function(){try{t.body.innerHTML=""}catch(e){}t=null}))}catch(e){}return t||(t=document),t},exports.XHR=function(){var t=window;return exports.getDoc(),new(exports.XHR=t.XMLHttpRequest?t.XMLHttpRequest:function(){return t.ActiveXObject&&new t.ActiveXObject("Msxml2.XMLHTTP")||null})},exports.createXHR=function(){return new exports.XHR}}();var xhrSupportsBinary=void 0,transports=exports.transports={};exports.chooseTransport=function(t,e){switch(e.preferredTransport){case"jsonp":return transports.jsonp;default:return canUseXHR(t)?transports.xhr:transports.jsonp}};var PARAMS={xhrstream:{is:"1",bs:"\\n"},xhrpoll:{du:"0"},xhrlongpoll:{},sselongpoll:{bp:"data: ",bs:"\\r\\n",se:"1"},ssestream:{bp:"data: ",bs:"\\r\\n",se:"1",is:"1"}};exports.Transport=__class__,exports.Transport=exports.Transport(function(){return this.init&&this.init.apply(this,arguments)},function(){this.handshake=function(){throw Error("handshake Not Implemented")},this.comet=function(){throw Error("comet Not Implemented")},this.send=function(){throw Error("send Not Implemented")},this.encodePacket=function(){throw Error("encodePacket Not Implemented")},this.abort=function(){throw Error("abort Not Implemented")}});var baseTransport=__class__,baseTransport=baseTransport(function(){return this.init&&this.init.apply(this,arguments)},exports.Transport,function(){this.init=function(){this._aborted=!1,this._handshakeArgs={ct:"application/javascript"},this._handshakeData="{}"},this.handshake=function(t,e){logger.DEBUG&&console.debug("DEBUG",".transports","handshake:",t,e),this._makeRequest("send",t+"/handshake",this._handshakeArgs,this._handshakeData,this.handshakeSuccess,this.handshakeFailure)},this.comet=function(t,e,r,s){logger.DEBUG&&console.debug("DEBUG",".transports","comet:",t,e,r,s),this._makeRequest("comet",t+"/comet",{s:e,a:r},null,this.cometSuccess,this.cometFailure)},this.send=function(t,e,r,s){this._makeRequest("send",t+"/send",{s:e,a:r},s,this.sendSuccess,this.sendFailure)}});transports.xhr=__class__,transports.xhr=transports.xhr(function(){return this.init&&this.init.apply(this,arguments)},baseTransport,function(a){function b(a,b,c,i){try{var f={status:a.status}}catch(g){i({response:"Could not access status"})}try{if(4!=a.readyState)return;if(f.response=eval(a.responseText),200!=f.status)return logger.DEBUG&&console.debug("DEBUG",".transports","XHR failed with status ",a.status),void i(f);logger.DEBUG&&console.debug("DEBUG",".transports","XHR data received")}catch(d){return logger.DEBUG&&console.debug("DEBUG",".transports","Error in XHR::onReadyStateChange",d),i(f),this._abortXHR(b),void(logger.DEBUG&&console.debug("DEBUG",".transports","done handling XHR error"))}c(f)}this.init=function(){a(this,"init"),this._xhr={send:new exports.XHR,comet:new exports.XHR}},this.abort=function(){this._aborted=!0;for(var t in this._xhr)this._xhr.hasOwnProperty(t)&&this._abortXHR(t)},this._abortXHR=function(t){logger.DEBUG&&console.debug("DEBUG",".transports","aborting XHR");var e=this._xhr[t];try{"onload"in e?e.onload=e.onerror=e.ontimeout=null:"onreadystatechange"in e&&(e.onreadystatechange=null),e.abort&&e.abort()}catch(r){logger.DEBUG&&console.debug("DEBUG",".transports","error aborting xhr",r)}this._xhr[t]=new exports.XHR},this.encodePacket=function(t,e){return xhrSupportsBinary?[t,0,e]:[t,1,base64.encode(e)]},this._makeRequest=function(t,e,r,s,n,o){if(!this._aborted){var i=this._xhr[t];i.open("POST",e+"?"+uri.buildQuery(r)),i.setRequestHeader("Content-Type","text/plain"),"onload"in i?(i.onload=bind(this,b,i,t,n,o),i.onerror=i.ontimeout=o):"onreadystatechange"in i&&(i.onreadystatechange=bind(this,b,i,t,n,o)),setTimeout(function(){i[xhrSupportsBinary?"sendAsBinary":"send"](s||null)},0)}}});var EMPTY_FUNCTION=function(){},SLICE=Array.prototype.slice;transports.jsonp=__class__,transports.jsonp=transports.jsonp(function(){return this.init&&this.init.apply(this,arguments)},baseTransport,function(a){function b(t,e){logger.DEBUG&&console.debug("DEBUG",".transports","successful: ",t.url,e),t.completed=!0,logger.DEBUG&&console.debug("DEBUG",".transports","calling the cb"),t.cb.call(GLOBAL,{status:200,response:e}),logger.DEBUG&&console.debug("DEBUG",".transports","cb called")}function j(t,e){e&&"loaded"!=e.readyState||(e.onreadystatechange=function(){},h.call(this,t))}function h(t,e){if(i(this._ifr[t.type]),!t.completed){var r={status:e?200:404,response:e||"Unable to load resouce"};logger.DEBUG&&console.debug("DEBUG",".transports","error making request:",t.url,r),logger.DEBUG&&console.debug("DEBUG",".transports","calling eb"),t.eb.call(GLOBAL,r)}}var c=function(){var a=exports.getDoc();if(!a.body)return!1;var b=a.createElement("iframe");with(b.style)display="block",width=height=border=margin=padding="0",overflow=visibility="hidden",position="absolute",top=left="-999px";return b.cbId=0,a.body.appendChild(b),b.src="about:blank",b},i=function(t){var e=t.contentWindow,r=e.document;logger.DEBUG&&console.debug("DEBUG",".transports","removing script tags");for(var s=r.getElementsByTagName("script"),n=s.length-1;n>=0;--n)r.body.removeChild(s[n]);logger.DEBUG&&console.debug("DEBUG",".transports","deleting iframe callbacks"),e["cb"+t.cbId]=e["eb"+t.cbId]=EMPTY_FUNCTION},f=function(t){setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},6e4)};this.init=function(){a(this,"init"),this._onReady=[],this._isReady=!1,this._createIframes()},this._createIframes=function(){if(this._ifr={send:c(),comet:c()},!1===this._ifr.send)return setTimeout(bind(this,"_createIframes"),100);this._isReady=!0;var t=this._onReady;this._onReady=[];for(var e,r=0;e=t[r];++r)this._makeRequest.apply(this,e)},this.encodePacket=function(t,e){return[t,1,base64.encode(e)]},this.abort=function(){this._aborted=!0;for(var t in this._ifr)if(this._ifr.hasOwnProperty(t)){var e=this._ifr[t];i(e),f(e)}},this._makeRequest=function(t,e,r,s,n,o){if(!this._isReady)return this._onReady.push(arguments);var i=++this._ifr[t].cbId,i={type:t,id:i,cb:n,eb:o,cbName:"cb"+i,ebName:"eb"+i,completed:!1};switch(r.d=s,r.n=Math.random(),t){case"send":r.rs=";",r.rp=i.cbName;break;case"comet":r.bs=";",r.bp=i.cbName}i.url=e+"?"+uri.buildQuery(r),setTimeout(bind(this,"_request",i),0)},this._request=function(t){var e=this._ifr[t.type].contentWindow,r=e.document,s=r.body;return s?(e[t.ebName]=bind(this,h,t),e[t.cbName]=bind(this,b,t),BrowserDetect.isWebKit?(r.open(),r.write(\'<script src="\'+t.url+\'"></script><script>\'+ebName+"(false)</script>"),r.close()):(e=r.createElement("script"),e.src=t.url,null===e.onreadystatechange&&(e.onreadystatechange=bind(this,j,t,e)),s.appendChild(e),BrowserDetect.isIE||(e=r.createElement("script"),e.innerHTML=t.ebName+"(false)",s.appendChild(e))),void g()):setTimeout(bind(this,"_request",t),100)};var g=BrowserDetect.isFirefox||BrowserDetect.isOpera?function(){var t=document.body;t&&(g.iframe||(g.iframe=document.createElement("iframe")),t.insertBefore(g.iframe,t.firstChild),t.removeChild(g.iframe))}:function(){}});'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/util/browserdetect.js",'exports.BrowserDetect=new function(){function i(i){for(var n,r=0;n=i[r];r++){var e=n.string,s=n.prop;if(n.identity=n.identity||n.subString,t=n.versionSearch||n.identity,e){if(-1!=e.indexOf(n.subString))return n.identity}else if(s)return n.identity}}function n(i){if(i&&"string"==typeof i){var n=i.indexOf(t);if(-1!=n)return parseFloat(i.substring(n+t.length+1))}}var t,r=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux"}];this.browser=i([{string:navigator.userAgent,subString:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox"},{string:navigator.vendor,subString:"Camino"},{string:navigator.userAgent,subString:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"IE",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}])||"unknown",this.version=n(navigator.userAgent)||n(navigator.appVersion)||"unknown",this.OS=i(r)||"unknown",this.isWebKit=/ AppleWebKit\\//.test(navigator.userAgent),this["is"+this.browser]=this.version};'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/net/env/browser/postmessage.js",'jsio("import net.interfaces"),jsio("from util.browser import $"),jsio("import std.uuid"),exports.Listener=__class__,exports.Listener=exports.Listener(function(){return this.init&&this.init.apply(this,arguments)},net.interfaces.Listener,function(t){this.init=function(){t(this,"init",arguments),this._clients={},this._opts.clientUrl||(this._opts.clientUrl=jsio.__dir+"/networkConsole.html"),this._port=""+(this._opts.port||"")},this.listen=function(){$.onEvent(window,"message",bind(this,"_onMessage"))},this.getButton=function(t,i){var s=$({tagName:"button",text:i||"launch client",className:"clientButton"});return $.onEvent(s,"click",bind(this,"openWindow",t||this._opts.clientUrl)),s};var i=1;this.openWindow=function(t){var s,n={menubar:"no",location:"no",toolbar:"no",width:550,height:350,scrollbars:"yes",status:"yes",resizable:"yes"},o=[];for(s in n)o.push(s+"="+n[s]);window.open(t,"W"+i++,o.join(",")).focus()},this._onMessage=function(t){if("string"==typeof t.data&&this._port==t.data.substring(0,this._port.length)){var i=t.data.substring(this._port.length);try{i=JSON.parse(i)}catch(s){return void(logger.WARN&&console.warn("WARN","net.env.browser.postmessage","invalid packet",t.data))}switch(i.type){case"open":var n=this._clients[i.uid]=new exports.Transport(t.source,this._port,i.uid);t.source.postMessage(this._port+JSON.stringify({type:"open",uid:i.uid}),"*"),this.onConnect(n);break;case"data":(n=this._clients[i.uid])&&n.onData(i.payload);break;case"close":(n=this._clients[i.uid])&&n.onClose(),t.source.postMessage(this._port+JSON.stringify({type:"close",uid:i.uid}),"*"),delete this._clients[i.uid]}}}}),exports.Connector=__class__,exports.Connector=exports.Connector(function(){return this.init&&this.init.apply(this,arguments)},net.interfaces.Connector,function(){this.connect=function(){this._port=""+(this._opts.port||""),this._win=this._opts.win||window.opener||window.parent,$.onEvent(window,"message",bind(this,"_onMessage")),this._uid=std.uuid.uuid(),this._win.postMessage(this._port+JSON.stringify({type:"open",uid:this._uid}),"*")},this._onMessage=function(t){if("string"==typeof t.data&&this._port==t.data.substring(0,this._port.length)){var i=t.data.substring(this._port.length);try{i=JSON.parse(i)}catch(s){return void(logger.WARN&&console.warn("WARN","net.env.browser.postmessage","invalid packet",t.data))}switch(i.type){case"open":this._transport=new exports.Transport(t.source,this._port,this._uid),this.onConnect(this._transport);break;case"close":if(i.uid!=this._uid)break;this._transport.onClose();break;case"data":if(i.uid!=this._uid)break;this._transport.onData(i.payload)}}}}),exports.Transport=__class__,exports.Transport=exports.Transport(function(){return this.init&&this.init.apply(this,arguments)},net.interfaces.Transport,function(){this.init=function(t,i,s){this._win=t,this._port=i,this._uid=s},this.makeConnection=function(t){this._protocol=t},this.write=function(t){"utf8"==this.encoding?this._win.postMessage(this._port+JSON.stringify({type:"data",uid:this._uid,payload:utf8.encode(t)}),"*"):this._win.postMessage(this._port+JSON.stringify({type:"data",uid:this._uid,payload:t}),"*")},this.loseConnection=function(){this._win.postMessage(this._port+JSON.stringify({type:"close",uid:this._uid,code:301}),"*")},this.onData=function(){this._protocol.dataReceived.apply(this._protocol,arguments)},this.onClose=function(){this._protocol._connectionLost.apply(this._protocol,arguments)}});'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/util/browser.js",'function isWindow(e){return e&&!$.isElement(e)&&$.isElement(e.document)}function ieGetAlpha(e){try{return e.filters.item("alpha")}catch(t){}try{return e.filters.item("progid:DXImageTransform.Microsoft.Alpha")}catch(n){}return null}jsio("external .sizzle import Sizzle"),jsio("import math.geom.Rect");var singleId=/^#([\\w-]+)$/,$=exports.$=function(e,t){switch(typeof e){case"object":return $.isElement(e)?$.remove(e):$.isElement(e.document&&e.document.body)?$.size(e):$.create(e);case"string":return singleId.test(e)?$.id(e.substring(1),t):Sizzle.apply(GLOBAL,arguments)}},DOM2="object"==typeof HTMLElement;$.isElement=DOM2?function(e){return e&&e instanceof HTMLElement}:function(e){return e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},$.id=function(e,t){return"string"==typeof e?(t||window).document.getElementById(e):e},$.apply=function(e,t){if(t.attrs)for(attr in t.attrs)e.setAttribute(attr,t.attrs[attr]);t.id&&(e.id=t.id),t.style&&$.style(e,t.style),t.src&&(e.src=t.src),(t["class"]||t.className)&&(e.className=t["class"]||t.className);var n=t.parent||t.parentNode;if(n&&t.first?$.insertBefore(n,e,n.firstChild):t.before?$.insertBefore(t.before.parentNode||n,e,t.before):t.after?$.insertAfter(t.after.parentNode||n,e,t.after):n&&n.appendChild(e),"html"in t&&(e.innerHTML=t.html),"text"in t&&$.setText(e,t.text),t.children)for(var n=t.children,r=0,i=n.length;i>r;++r)e.appendChild($.isElement(n[r])?n[r]:$(n[r]));return e},$.insertBefore=function(e,t,n){e&&t&&(n&&n.parentNode==e?e.insertBefore(t,n):e.appendChild(t))},$.insertAfter=function(e,t,n){e&&t&&(n&&n.parentNode==e?n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):$.insertBefore(e,t,e.firstChild))},$.create=function(e){var t=(e&&e.win||window).document;return e&&"string"!=typeof e?$.apply(e.el||t.createElement(e.tag||e.tagName||"div"),e):t.createElement(e||"div")},$.show=function(e,t){$.id(e).style.display=t||"block"},$.hide=function(e){$.id(e).style.display="none"},$.addClass=function(e,t){if(e){e=$.id(e),"string"==typeof t&&(t=t.split(" "));for(var n=" "+e.className+" ",r=0,i=t.length;i>r;++r){var o=t[r];-1==n.indexOf(" "+o+" ")&&(n+=o+" ")}return e.className=n.replace(/^\\s+|\\s+$/g,""),$}},$.hasClass=function(e,t){if(!e)return!1;for(var e=$.id(e),n=e.className.split(" "),r=0,i=n.length;i>r;++r)if(n[r].trim()===t)return!0;return!1},$.getTag=function(e,t){return e.getElementsByTagName(t)},$.removeClass=function(e,t){e&&(e=$.id(e),e.className=(" "+e.className+" ").replace(" ","  ").replace(RegExp("( "+t.replace("s+"," | ").replace("-","-")+" )","g")," ").replace(/\\s+/," ").replace(/^\\s+|\\s+$/g,""))},$.style=function(e,t){if(e instanceof Array)for(var n,r=0;n=e[r];++r)$.style(n,t);else for(prop in e=$.id(e),r=e.style,t)switch(prop){case"styleFloat":case"cssFloat":case"float":r.styleFloat=r.cssFloat=t[prop];break;case"opacity":if(r.opacity=t[prop],e.filters)try{n=ieGetAlpha();var i=1==t[prop]?99.99:100*t[prop];n?n.Opacity=i:r.filter="alpha(opacity="+i+")"}catch(o){}break;case"borderRadius":r.borderRadius=r.MozBorderRadius=t[prop];break;case"boxSizing":r.MsBoxSizing=r.MozBoxSizing=r.WebkitBoxSizing=t[prop];default:r[prop]=t[prop]}},$.onEvent=function(e,t,n){"function"!=typeof n&&(n=bind.apply(GLOBAL,Array.prototype.slice.call(arguments,2)));var r=n,e=$.id(e);return e.addEventListener?e.addEventListener(t,r,!1):(r=function(e){n(e||window.event)},e.attachEvent("on"+t,r)),bind($,"removeEvent",e,t,r)},$.removeEvent=function(e,t,n){e=$.id(e),e.addEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},$.stopEvent=function(e){e&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault())},$.setText=function(e,t){e=$.id(e),t=""+t,"textContent"in e?e.textContent=t:"innerText"in e?e.innerText=t.replace(/\\n/g," "):(e.innerHTML="",e.appendChild(document.createTextNode(t)))},$.setValue=function(e,t){e=$.id(e),"value"in e?e.value=t:"value"in e.firstChild&&(e.firstChild.value=t)},$.remove=function(e){(e=$.id(e))&&e.parentNode&&e.parentNode.removeChild(e)},$.cursorPos=function(e,t){var n=$.pos(t);return n.top=e.clientY-n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop),n.left=e.clientX-n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft),n},$.pos=function(e){for(var t={top:0,left:0};e&&e!=document.body;){for(t.left+=e.offsetLeft,t.top+=e.offsetTop;e.offsetParent!=e.parentNode;)t.top-=e.scrollTop,t.left-=e.scrollLeft,e=e.parentNode;e=e.offsetParent}return t},$.size=function(e){if($.isElement(e))return{width:e.offsetWidth,height:e.offsetHeight};if(e.document){var t=e.document.documentElement||e.document.body;return new math.geom.Rect(t.offsetTop,t.offsetLeft,e.innerWidth||t.clientWidth||t.clientWidth,e.innerHeight||t.clientHeight||t.clientHeight)}},$.insertCSSFile=function(e){document.getElementsByTagName("head")[0].appendChild($({tag:"link",attrs:{rel:"stylesheet",type:"text/css",href:e}}))};'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/util/sizzle.js",'Sizzle=function(){function e(e,t,n,r,i,o){for(var i="previousSibling"==e&&!o,u=0,a=r.length;a>u;u++){var l=r[u];if(l){i&&1===l.nodeType&&(l.sizcache=n,l.sizset=u);for(var l=l[e],f=!1;l;){if(l.sizcache===n){f=r[l.sizset];break}if(1===l.nodeType&&!o&&(l.sizcache=n,l.sizset=u),l.nodeName===t){f=l;break}l=l[e]}r[u]=f}}}function t(e,t,n,r,i,o){for(var i="previousSibling"==e&&!o,a=0,l=r.length;l>a;a++){var f=r[a];if(f){i&&1===f.nodeType&&(f.sizcache=n,f.sizset=a);for(var f=f[e],c=!1;f;){if(f.sizcache===n){c=r[f.sizset];break}if(1===f.nodeType)if(o||(f.sizcache=n,f.sizset=a),"string"!=typeof t){if(f===t){c=!0;break}}else if(0<u.filter(t,[f]).length){c=f;break}f=f[e]}r[a]=c}}}var n=/((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^[\\]]*\\]|[\'"][^\'"]*[\'"]|[^[\\]\'"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?/g,r=0,i=Object.prototype.toString,o=!1,u=function(e,t,r,o){var r=r||[],a=t=t||document;if(1!==t.nodeType&&9!==t.nodeType)return[];if(!e||"string"!=typeof e)return r;var s,d,g,v,y=[],T=!0,b=m(t);for(n.lastIndex=0;null!==(s=n.exec(e));)if(y.push(s[1]),s[2]){v=RegExp.rightContext;break}if(1<y.length&&f.exec(e))if(2===y.length&&l.relative[y[0]])d=h(y[0]+y[1],t);else for(d=l.relative[y[0]]?[t]:u(y.shift(),t);y.length;)e=y.shift(),l.relative[e]&&(e+=y.shift()),d=h(e,d);else if(!o&&1<y.length&&9===t.nodeType&&!b&&l.match.ID.test(y[0])&&!l.match.ID.test(y[y.length-1])&&(s=u.find(y.shift(),t,b),t=s.expr?u.filter(s.expr,s.set)[0]:s.set[0]),t)for(s=o?{expr:y.pop(),set:c(o)}:u.find(y.pop(),1!==y.length||"~"!==y[0]&&"+"!==y[0]||!t.parentNode?t:t.parentNode,b),d=s.expr?u.filter(s.expr,s.set):s.set,0<y.length?g=c(d):T=!1;y.length;){var N=y.pop();s=N,l.relative[N]?s=y.pop():N="",null==s&&(s=t),l.relative[N](g,s,b)}else g=[];if(g||(g=d),!g)throw"Syntax error, unrecognized expression: "+(N||e);if("[object Array]"===i.call(g))if(T)if(t&&1===t.nodeType)for(e=0;null!=g[e];e++)g[e]&&(!0===g[e]||1===g[e].nodeType&&p(t,g[e]))&&r.push(d[e]);else for(e=0;null!=g[e];e++)g[e]&&1===g[e].nodeType&&r.push(d[e]);else r.push.apply(r,g);else c(g,r);return v&&(u(v,a,r,o),u.uniqueSort(r)),r};u.uniqueSort=function(e){if(d&&(o=!1,e.sort(d),o))for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1)},u.matches=function(e,t){return u(e,null,null,t)},u.find=function(e,t,n){var r,i;if(!e)return[];for(var o=0,u=l.order.length;u>o;o++){var a=l.order[o];if(i=l.match[a].exec(e)){var f=RegExp.leftContext;if("\\\\"!==f.substr(f.length-1)&&(i[1]=(i[1]||"").replace(/\\\\/g,""),r=l.find[a](i,t,n),null!=r)){e=e.replace(l.match[a],"");break}}}return r||(r=t.getElementsByTagName("*")),{set:r,expr:e}},u.filter=function(e,t,n,r){for(var i,o,u=e,a=[],f=t,c=t&&t[0]&&m(t[0]);e&&t.length;){for(var s in l.filter)if(null!=(i=l.match[s].exec(e))){var d,p,h=l.filter[s];if(o=!1,f==a&&(a=[]),l.preFilter[s])if(i=l.preFilter[s](i,f,n,a,r,c)){if(!0===i)continue}else o=d=!0;if(i)for(var g=0;null!=(p=f[g]);g++)if(p){d=h(p,i,g,f);var v=r^!!d;n&&null!=d?v?o=!0:f[g]=!1:v&&(a.push(p),o=!0)}if(void 0!==d){if(n||(f=a),e=e.replace(l.match[s],""),!o)return[];break}}if(e==u){if(null==o)throw"Syntax error, unrecognized expression: "+e;break}u=e}return f};var a,l=u.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)/,CLASS:/\\.((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)/,NAME:/\\[name=[\'"]*((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)[\'"]*\\]/,ATTR:/\\[\\s*((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)\\s*(?:(\\S?=)\\s*([\'"]*)(.*?)\\3|)\\s*\\]/,TAG:/^((?:[\\w\\u00c0-\\uFFFF\\*_-]|\\\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\\((even|odd|[\\dn+-]*)\\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\))?(?=[^-]|$)/,PSEUDO:/:((?:[\\w\\u00c0-\\uFFFF_-]|\\\\.)+)(?:\\(([\'"]*)((?:\\([^\\)]+\\)|[^\\2\\(\\)]*)+)\\2\\))?/},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")}},relative:{"+":function(e,t,n){var r="string"==typeof t,i=r&&!/\\W/.test(t),r=r&&!i;i&&!n&&(t=t.toUpperCase());for(var o,n=0,i=e.length;i>n;n++)if(o=e[n]){for(;(o=o.previousSibling)&&1!==o.nodeType;);e[n]=r||o&&o.nodeName===t?o||!1:o===t}r&&u.filter(t,e,!0)},">":function(e,t,n){var r="string"==typeof t;if(r&&!/\\W/.test(t))for(var t=n?t:t.toUpperCase(),n=0,i=e.length;i>n;n++){var o=e[n];o&&(r=o.parentNode,e[n]=r.nodeName===t?r:!1)}else{for(n=0,i=e.length;i>n;n++)(o=e[n])&&(e[n]=r?o.parentNode:o.parentNode===t);r&&u.filter(t,e,!0)}},"":function(n,i,o){var u=r++,a=t;if(!/\\W/.test(i))var l=i=o?i:i.toUpperCase(),a=e;a("parentNode",i,u,n,l,o)},"~":function(n,i,o){var u=r++,a=t;if("string"==typeof i&&!/\\W/.test(i))var l=i=o?i:i.toUpperCase(),a=e;a("previousSibling",i,u,n,l,o)}},find:{ID:function(e,t,n){return"undefined"==typeof t.getElementById||n?void 0:(e=t.getElementById(e[1]))?[e]:[]},NAME:function(e,t){if("undefined"!=typeof t.getElementsByName){for(var n=[],r=t.getElementsByName(e[1]),i=0,o=r.length;o>i;i++)r[i].getAttribute("name")===e[1]&&n.push(r[i]);return 0===n.length?null:n}},TAG:function(e,t){return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,r,i,o){if(e=" "+e[1].replace(/\\\\/g,"")+" ",o)return e;for(var u,o=0;null!=(u=t[o]);o++)u&&(i^(u.className&&0<=(" "+u.className+" ").indexOf(e))?n||r.push(u):n&&(t[o]=!1));return!1},ID:function(e){return e[1].replace(/\\\\/g,"")},TAG:function(e,t){for(var n=0;!1===t[n];n++);return t[n]&&m(t[n])?e[1]:e[1].toUpperCase()},CHILD:function(e){if("nth"==e[1]){var t=/(-?)(\\d*)n((?:\\+|-)?\\d*)/.exec("even"==e[2]&&"2n"||"odd"==e[2]&&"2n+1"||!/\\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}return e[0]=r++,e},ATTR:function(e,t,n,r,i,o){return t=e[1].replace(/\\\\/g,""),!o&&l.attrMap[t]&&(e[1]=l.attrMap[t]),"~="===e[2]&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,r,i,o){if("not"===e[1]){if(!(1<n.exec(e[3]).length||/^\\w/.test(e[3])))return e=u.filter(e[3],t,r,1^o),r||i.push.apply(i,e),!1;e[3]=u(e[3],null,null,t)}else if(l.match.POS.test(e[0])||l.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return!1===e.disabled&&"hidden"!==e.type},disabled:function(e){return!0===e.disabled},checked:function(e){return!0===e.checked},selected:function(e){return e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!u(n[3],e).length},header:function(e){return/h\\d/i.test(e.nodeName)},text:function(e){return"text"===e.type},radio:function(e){return"radio"===e.type},checkbox:function(e){return"checkbox"===e.type},file:function(e){return"file"===e.type},password:function(e){return"password"===e.type},submit:function(e){return"submit"===e.type},image:function(e){return"image"===e.type},reset:function(e){return"reset"===e.type},button:function(e){return"button"===e.type||"BUTTON"===e.nodeName.toUpperCase()},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)}},setFilters:{first:function(e,t){return 0===t},last:function(e,t,n,r){return t===r.length-1},even:function(e,t){return 0===t%2},odd:function(e,t){return 1===t%2},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0==t},eq:function(e,t,n){return n[3]-0==t}},filter:{PSEUDO:function(e,t,n,r){var i=t[1],o=l.filters[i];if(o)return o(e,n,t,r);if("contains"===i)return 0<=(e.textContent||e.innerText||"").indexOf(t[3]);if("not"===i){for(t=t[3],n=0,r=t.length;r>n;n++)if(t[n]===e)return!1;return!0}},CHILD:function(e,t){var n=t[1],r=e;switch(n){case"only":case"first":for(;r=r.previousSibling;)if(1===r.nodeType)return!1;if("first"==n)return!0;r=e;case"last":for(;r=r.nextSibling;)if(1===r.nodeType)return!1;return!0;case"nth":var n=t[2],i=t[3];if(1==n&&0==i)return!0;var o=t[0],u=e.parentNode;if(u&&(u.sizcache!==o||!e.nodeIndex)){for(var a=0,r=u.firstChild;r;r=r.nextSibling)1===r.nodeType&&(r.nodeIndex=++a);u.sizcache=o}return r=e.nodeIndex-i,0==n?0==r:0==r%n&&r/n>=0}},ID:function(e,t){return 1===e.nodeType&&e.getAttribute("id")===t},TAG:function(e,t){return"*"===t&&1===e.nodeType||e.nodeName===t},CLASS:function(e,t){return-1<(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)},ATTR:function(e,t){var n=t[1],n=l.attrHandle[n]?l.attrHandle[n](e):null!=e[n]?e[n]:e.getAttribute(n),r=n+"",i=t[2],o=t[4];return null==n?"!="===i:"="===i?r===o:"*="===i?0<=r.indexOf(o):"~="===i?0<=(" "+r+" ").indexOf(o):o?"!="===i?r!=o:"^="===i?0===r.indexOf(o):"$="===i?r.substr(r.length-o.length)===o:"|="===i?r===o||r.substr(0,o.length+1)===o+"-":!1:r&&!1!==n},POS:function(e,t,n,r){var i=l.setFilters[t[2]];return i?i(e,n,t,r):void 0}}},f=l.match.POS;for(a in l.match)l.match[a]=RegExp(l.match[a].source+/(?![^\\[]*\\])(?![^\\(]*\\))/.source);var c=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(s){c=function(e,t){var n=t||[];if("[object Array]"===i.call(e))Array.prototype.push.apply(n,e);else if("number"==typeof e.length)for(var r=0,o=e.length;o>r;r++)n.push(e[r]);else for(r=0;e[r];r++)n.push(e[r]);return n}}var d;document.documentElement.compareDocumentPosition?d=function(e,t){var n=4&e.compareDocumentPosition(t)?-1:e===t?0:1;return 0===n&&(o=!0),n}:"sourceIndex"in document.documentElement?d=function(e,t){var n=e.sourceIndex-t.sourceIndex;return 0===n&&(o=!0),n}:document.createRange&&(d=function(e,t){var n=e.ownerDocument.createRange(),r=t.ownerDocument.createRange();return n.selectNode(e),n.collapse(!0),r.selectNode(t),r.collapse(!0),n=n.compareBoundaryPoints(Range.START_TO_END,r),0===n&&(o=!0),n}),function(){var e=document.createElement("div"),t="script"+(new Date).getTime();e.innerHTML="<a name=\'"+t+"\'/>";var n=document.documentElement;n.insertBefore(e,n.firstChild),document.getElementById(t)&&(l.find.ID=function(e,t,n){return"undefined"==typeof t.getElementById||n?void 0:(t=t.getElementById(e[1]))?t.id===e[1]||"undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id").nodeValue===e[1]?[t]:void 0:[]},l.filter.ID=function(e,t){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return 1===e.nodeType&&n&&n.nodeValue===t}),n.removeChild(e),n=e=null}(),function(){var e=document.createElement("div");e.appendChild(document.createComment("")),0<e.getElementsByTagName("*").length&&(l.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if("*"===e[1]){for(var r=[],i=0;n[i];i++)1===n[i].nodeType&&r.push(n[i]);n=r}return n}),e.innerHTML="<a href=\'#\'></a>",e.firstChild&&"undefined"!=typeof e.firstChild.getAttribute&&"#"!==e.firstChild.getAttribute("href")&&(l.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),document.querySelectorAll&&function(){var e=u,t=document.createElement("div");if(t.innerHTML="<p class=\'TEST\'></p>",!t.querySelectorAll||0!==t.querySelectorAll(".TEST").length){u=function(t,n,r,i){if(n=n||document,!i&&9===n.nodeType&&!m(n))try{return c(n.querySelectorAll(t),r)}catch(o){}return e(t,n,r,i)};for(var n in e)u[n]=e[n];t=null}}(),document.getElementsByClassName&&document.documentElement.getElementsByClassName&&function(){var e=document.createElement("div");e.innerHTML="<div class=\'test e\'></div><div class=\'test\'></div>",0!==e.getElementsByClassName("e").length&&(e.lastChild.className="e",1!==e.getElementsByClassName("e").length&&(l.order.splice(1,0,"CLASS"),l.find.CLASS=function(e,t,n){return"undefined"==typeof t.getElementsByClassName||n?void 0:t.getElementsByClassName(e[1])},e=null))}();var p=document.compareDocumentPosition?function(e,t){return 16&e.compareDocumentPosition(t)}:function(e,t){return e!==t&&(e.contains?e.contains(t):!0)},m=function(e){return 9===e.nodeType&&"HTML"!==e.documentElement.nodeName||!!e.ownerDocument&&"HTML"!==e.ownerDocument.documentElement.nodeName},h=function(e,t){for(var n,r=[],i="",o=t.nodeType?[t]:t;n=l.match.PSEUDO.exec(e);)i+=n[0],e=e.replace(l.match.PSEUDO,"");e=l.relative[e]?e+"*":e,n=0;for(var a=o.length;a>n;n++)u(e,o[n],r);return u.filter(i,r)};return u}();'),
jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/math/geom/Rect.js",'jsio("import lib.Enum"),jsio("import .Point"),jsio("import .Line"),jsio("import .intersect");var home_weeby_projects_swarm_modules_devkit_core_node_modules_jsio_packages_math_geom_Rect=__class__,Rect=exports=home_weeby_projects_swarm_modules_devkit_core_node_modules_jsio_packages_math_geom_Rect(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,i,h,s){switch(arguments.length){case 0:this.width=this.height=this.x=this.y=0;break;case 1:this.width=t.width,this.height=t.height,this.x=t.x,this.y=t.y;break;case 2:this.x=t.x,this.y=t.y,this.width=i.x,this.height=i.y;break;case 3:this.x=t.x,this.y=t.y,this.width=i,this.height=h;break;case 4:this.x=t,this.y=i,this.width=h,this.height=s}},this.normalize=function(){return 0>this.width&&(this.x-=this.width,this.width=-this.width),0>this.height&&(this.y-=this.height,this.height=-this.height),this},this.intersectRect=function(t){if(intersect.isRectAndRect(this,t)){var i=this.y,h=this.x+this.width,s=this.y+this.height;this.x=Math.max(this.x,t.x),this.y=Math.max(i,t.y),this.width=Math.min(h,t.x+t.width)-this.x,this.height=Math.min(s,t.y+t.height)-this.y}else this.height=this.width=0},this.unionRect=function(t){this.normalize(),t.normalize&&t.normalize();var i=this.x+this.width,h=this.y+this.height,s=t.x+t.width,e=t.y+t.height;this.x=this.x<t.x?this.x:t.x,this.y=this.y<t.y?this.y:t.y,this.width=(i>s?i:s)-this.x,this.height=(h>e?h:e)-this.y},this.getCorner=function(t){switch(t){case CORNERS.TOP_LEFT:return new Point(this.x,this.y);case CORNERS.TOP_RIGHT:return new Point(this.x+this.width,this.y);case CORNERS.BOTTOM_LEFT:return new Point(this.x,this.y+this.height);case CORNERS.BOTTOM_RIGHT:return new Point(this.x+this.width,this.y+this.height)}},this.getSide=function(t){switch(t){case SIDES.TOP:return new Line(this.getCorner(CORNERS.TOP_LEFT),this.getCorner(CORNERS.TOP_RIGHT));case SIDES.RIGHT:return new Line(this.getCorner(CORNERS.TOP_RIGHT),this.getCorner(CORNERS.BOTTOM_RIGHT));case SIDES.BOTTOM:return new Line(this.getCorner(CORNERS.BOTTOM_RIGHT),this.getCorner(CORNERS.BOTTOM_LEFT));case SIDES.LEFT:return new Line(this.getCorner(CORNERS.BOTTOM_LEFT),this.getCorner(CORNERS.TOP_LEFT))}},this.getCenter=function(){return new Point(this.x+this.width/2,this.y+this.height/2)}}),SIDES=Rect.SIDES=lib.Enum("TOP","BOTTOM","LEFT","RIGHT"),CORNERS=Rect.CORNERS=lib.Enum("TOP_LEFT","TOP_RIGHT","BOTTOM_RIGHT","BOTTOM_LEFT");'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/math/geom/Point.js",'var home_weeby_projects_swarm_modules_devkit_core_node_modules_jsio_packages_math_geom_Point=__class__,Point=exports=home_weeby_projects_swarm_modules_devkit_core_node_modules_jsio_packages_math_geom_Point(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,n){switch(arguments.length){case 0:this.y=this.x=0;break;case 1:this.x=t.x||0,this.y=t.y||0;break;case 2:this.x=t||0,this.y=n||0}},this.rotate=function(t){var n=this.x,e=this.y,i=Math.cos(t),t=Math.sin(t);return this.x=n*i-e*t,this.y=n*t+e*i,this},this.translate=this.add=function(t,n){return"number"==typeof t?(this.x+=t,this.y+=n):(this.x+=t.x,this.y+=t.y),this},this.subtract=function(t,n){return"number"==typeof t?(this.x-=t,this.y-=n):(this.x-=t.x,this.y-=t.y),this},this.scale=function(t,n){return void 0===n&&(n=t),this.x*=t,this.y*=n,this},this.setMagnitude=function(t){var n=this.getAngle();return this.x=t*Math.cos(n),this.y=t*Math.sin(n),this},this.normalize=function(){var t=this.getMagnitude();return this.x/=t,this.y/=t,this},this.addMagnitude=function(t){return this.setMagnitude(this.getMagnitude()+t)},this.getMagnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},this.getSquaredMagnitude=function(){return this.x*this.x+this.y*this.y},this.getDirection=this.getAngle=function(){return Math.atan2(this.y,this.x)}});Point.getPolarR=function(){throw"notImplemented"},Point.getPolarTheta=function(t,n){var e=Math.atan2(n,t)+2*Math.PI;return e>2*Math.PI?e%(2*Math.PI):e},Point.add=Point.translate=function(t,n,e,i){switch(arguments.length){case 2:return new Point(t).add(n);case 3:return new Point(t).add(n,e);case 4:return new Point(t,n).add(e,i)}},Point.subtract=function(t,n,e,i){switch(arguments.length){case 2:return new Point(t).subtract(n);case 3:return new Point(t).subtract(n,e);case 4:return new Point(t,n).subtract(e,i)}},Point.scale=function(t,n,e){switch(arguments.length){case 2:return new Point(t).scale(n);case 3:return new Point(t,n).scale(e)}},Point.setMagnitude=function(t,n,e){switch(arguments.length){case 2:return new Point(t).setMagnitude(e);case 3:return new Point(t,n).setMagnitude(e)}},Point.addMagnitude=function(t,n,e){switch(arguments.length){case 2:pt=new Point(t);break;case 3:pt=new Point(t,n),n=e}return pt.addMagnitude(n)},Point.getMagnitude=function(t,n){return new Point(t,n).getMagnitude()},Point.rotate=function(t,n,e){switch(arguments.length){case 2:return new Point(t).rotate(n);case 3:return new Point(t,n).rotate(e)}},Point.project=function(t,n){var e=new Point(n).normalize();return e.scale(e.x*t.x+e.y*t.y)};'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/math/geom/Line.js",'jsio("import .Point");var home_weeby_projects_swarm_modules_devkit_core_node_modules_jsio_packages_math_geom_Line=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_node_modules_jsio_packages_math_geom_Line(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,e,s,i){switch(arguments.length){case 0:this.start=new Point,this.end=new Point;break;case 1:this.start=new Point(t.start),this.end=new Point(t.end);break;case 2:this.start=new Point(t),this.end=new Point(e);break;case 3:this.start=new Point(t),this.end=new Point(e,s);break;default:this.start=new Point(t,e),this.end=new Point(s,i)}},this.getMagnitude=this.getLength=function(){var t=this.end.x-this.start.x,e=this.end.y-this.start.y;return Math.sqrt(t*t+e*e)}});'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/math/geom/intersect.js",'jsio("import .Point"),jsio("import .Line"),jsio("import .Rect");var intersect=exports;intersect.pointAndRect=intersect.ptAndRect=function(t,e){var n=t.x,i=t.y;return n>=e.x&&n<=e.x+e.width&&i>=e.y&&i<=e.y+e.height},intersect.rectAndPoint=intersect.rectAndPt=function(t,e){return intersect.pointAndRect(e,t)},intersect.pointAndCircle=intersect.ptAndCirc=function(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i<e.radius*e.radius},intersect.circleAndPoint=intersect.circAndPt=function(t,e){return intersect.pointAndCircle(e,t)},intersect.circleAndCircle=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.radius+e.radius;return r*r>=n*n+i*i},intersect.isRectAndRect=function(t,e){return!(t.y+t.height<e.y||e.y+e.height<t.y||t.x+t.width<e.x||e.x+e.width<t.x)},intersect.circleAndRect=function(t,e){return intersect.pointAndRect(t,e)?!0:intersect.lineAndCircle(e.getSide(1),t)||intersect.lineAndCircle(e.getSide(2),t)||intersect.lineAndCircle(e.getSide(3),t)||intersect.lineAndCircle(e.getSide(4),t)},intersect.rectAndCircle=function(t,e){return intersect.circleAndRect(e,t)},intersect.lineAndCircle=function(t,e){return intersect.pointToLine(e,t).getMagnitude()<e.radius},intersect.circleAndLine=function(t,e){return intersect.lineAndCircle(e,t)},intersect.pointToLine=intersect.ptToLine=function(t,e){var n=e.end.x-e.start.x,i=e.end.y-e.start.y,r=((t.x-e.start.x)*n+(t.y-e.start.y)*i)/(n*n+i*i),n=0>r?new Point(e.start):r>1?new Point(e.end):new Point(e.start.x+r*n,e.start.y+r*i);return new Line(n,t)},intersect.rectAndRect=function(t,e){return jsio("import .Rect"),(intersect.rectAndRect=function(t,e){if(!0===t||!0===e)return new Rect(e);if(intersect.isRectAndRect(t,e)){var n=Math.max(t.x,e.x),i=Math.max(t.y,e.y),r=Math.min(t.x+t.width,e.x+e.width),c=Math.min(t.y+t.height,e.y+e.height);return new Rect(n,i,r-n,c-i)}return null})(t,e)};'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/net/env/browser/websocket.js",'jsio("import net.interfaces"),jsio("import std.utf8 as utf8"),jsio("import net.errors as Errors"),exports.Connector=__class__,exports.Connector=exports.Connector(function(){return this.init&&this.init.apply(this,arguments)},net.interfaces.Connector,function(){this.connect=function(){this._state=net.interfaces.STATE.CONNECTING;var n=this._opts.url,t=this._opts.wsConstructor||window.WebSocket;logger.INFO&&console.info("INFO","net.env.browser.websocket","this._opts",this._opts),n=new t(n),n.onopen=bind(this,"webSocketOnOpen",n),n.onclose=bind(this,"webSocketOnClose",n)},this.webSocketOnOpen=function(n){this.onConnect(new Transport(n))},this.webSocketOnClose=function(n,t){var e;e={rawError:t,webSocket:n},e=t.wasClean?new Errors.ServerClosedConnection("WebSocket Connection Closed",e):this._state==net.interfaces.STATE.CONNECTED?new Errors.ConnectionTimeout("WebSocket Connection Timed Out",e):new Errors.ServerUnreachable("WebSocket Connection Failed",e),logger.DEBUG&&console.debug("DEBUG","net.env.browser.websocket","conn closed",e),this.onDisconnect(e)}});var Transport=__class__,Transport=Transport(function(){return this.init&&this.init.apply(this,arguments)},net.interfaces.Transport,function(){this.init=function(n){this._ws=n},this.makeConnection=function(n){this._ws.onmessage=function(t){t=utf8.encode(t.data),n.dataReceived(t)}},this.write=function(n){"plain"==this._encoding&&(result=utf8.decode(n),n=result[0]),this._ws.send(n)},this.loseConnection=function(){this._ws.close()}});'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/net/env/browser/socketio.js",'jsio("import lib.Callback"),jsio("import net.interfaces"),jsio("import std.utf8 as utf8");var _script,_scriptOnLoad=new lib.Callback;exports.Connector=__class__,exports.Connector=exports.Connector(function(){return this.init&&this.init.apply(this,arguments)},net.interfaces.Connector,function(){this.connect=function(){this._state=net.interfaces.STATE.CONNECTING;var t=this._opts.url||"/";/\\/$/.test(t)||(t+="/"),"function"!=typeof io&&"undefined"!=typeof document?(_script=document.createElement("script"),_script.onload=_script.onreadystatechange=function(){"function"==typeof io&&(_script.onload=_script.onreadystatechange=null,_scriptOnLoad.fire(io))},_script.src="/socket.io/socket.io.js",document.getElementsByTagName("head")[0].appendChild(_script)):_scriptOnLoad.hasFired()||_scriptOnLoad.fire(io),_scriptOnLoad.run(bind(this,"_connect"))},this._connect=function(t){logger.DEBUG&&console.debug("DEBUG","net.env.browser.socketio","opening the connection");var t=t(this._opts.namespace,{multiplex:!1}),n=new Transport(t),n=bind(this,"onConnect",n);t.on("disconnect",bind(this,"onDisconnect")),t.connected?n():t.on("connect",n)}});var Transport=__class__,Transport=Transport(function(){return this.init&&this.init.apply(this,arguments)},net.interfaces.Transport,function(){this.init=function(t){this._socket=t},this.makeConnection=function(t){this._socket.on("message",bind(t,"dataReceived"))},this.write=function(t){this._socket.send(t)},this.loseConnection=function(){this._socket.close()}});'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/lib/Callback.js",'var home_weeby_projects_swarm_modules_devkit_core_node_modules_jsio_packages_lib_Callback=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_node_modules_jsio_packages_lib_Callback(function(){return this.init&&this.init.apply(this,arguments)},function(){this._fired=!1,this._id=0,this._pending=null,this.init=function(){this._run=[]},this.hasFired=this.fired=function(){return this._fired},this.reset=function(){this._args=[],this._fired=!1},this.clear=function(){this.reset(),this._run=[],this._stat=this._pending=null},this.forward=function(i){this.run.apply(this,i)},this.run=function(i,t){var s=t?bind.apply(this,arguments):i;return s&&(this._fired?s.apply(this,this._args):this._run.push(s)),this},this.runOrTimeout=function(i,t,s){if(i||t)if(this._fired)i.apply(this,this._args);else{var r=bind(this,function(){clearTimeout(e),i.apply(this,this._args)});this.run(r);var e=setTimeout(bind(this,function(){for(var i=0,s=this._run.length;s>i;++i)if(this._run[i]==r){this._run.splice(i,1);break}t()}),s)}},this.fire=function(){if(!this._fired){this._fired=!0;var i=this._run;this._args=arguments;for(var t=0,s=i.length;s>t;++t)i[t]&&i[t].apply(this,arguments)}},this.chain=function(i){return this._pending||(this._pending={}),void 0===i&&(i=this._id++),this._pending[i]=!0,this.reset(),bind(this,"_deferred",i)},this._deferred=function(i){if(this._stat||(this._stat={}),!this._stat.hasOwnProperty(i)){this._stat[i]=Array.prototype.slice.call(arguments,1);var t=this._pending;delete t[i];for(i in t)if(t.hasOwnProperty(i))return;this.fire(this._stat)}}});'),jsio.setCachedSrc("modules/devkit-core/src/clientapi/debugging/TargetCuppa.js",'jsio("import lib.Callback"),jsio("import lib.PubSub"),jsio("from net.protocols.rtjp import RTJPProtocol");var Error=__class__,Error=Error(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,e,i,n,s){this.id=e,this.msg=i,this.details=n,this.requestId=s}}),RPCRequest=__class__,RPCRequest=RPCRequest(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,e){this.protocol=t,this.id=e,this._onError=new lib.Callback,this._onSuccess=new lib.Callback},this.onError=function(){this._onError.forward(arguments)},this.onSuccess=function(){this._onSuccess.forward(arguments)},this.bindLater=function(t){var e=[].slice(arguments,1);return this._onError.forward([t,t.fail].concat(e)),this._onSuccess.forward([t,t.succed].concat(e)),t}}),ReceivedRequest=__class__,ReceivedRequest=ReceivedRequest(function(){return this.init&&this.init.apply(this,arguments)},function(){this.type="request",this.init=function(t,e,i,n,s){this.protocol=t,this.id=e,this.name=i,this.responded=!1,this.args=n,this.target=s},this.error=function(t,e){if(this.responded)throw Error("already responded");this._timer&&(clearTimeout(this._timer),this._timer=null),args={id:this.id,msg:t+""},void 0!==e&&(args.details=e),this.responded=!0,this.protocol.sendFrame("ERROR",args)},this.respond=function(t){if(this.responded)throw Error("already responded");this._timer&&(clearTimeout(this._timer),this._timer=null),this.responded=!0,this.protocol.sendFrame("RESPONSE",{id:this.id,args:void 0==t?{}:t})},this.timeoutAfter=function(t,e){this.responded||(this._timer&&clearTimeout(this._timer),this._timer=setTimeout(bind(this,"_timeout",e),t))},this._timeout=function(t){this.responded||this.error(t)}}),ReceivedEvent=__class__,ReceivedEvent=ReceivedEvent(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,e,i,n,s){this.id=e,this.name=i,this.args=n,this.target=s}}),home_weeby_projects_swarm_modules_devkit_core_src_clientapi_debugging_TargetCuppa=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_src_clientapi_debugging_TargetCuppa(function(){return this.init&&this.init.apply(this,arguments)},RTJPProtocol,function(t){function e(t,e,n,s){n=n||i,t[n]||(t[n]={}),t[n][e]||(t[n][e]=[]),t[n][e].push(s)}var i="___";this.init=function(){t(this,"init",arguments),this._onConnect=new lib.Callback,this._onDisconnect=new lib.Callback,this._clients={},this._requests={},this._subs={},this._eventListeners={},this._requestListeners={}},this.end=this.disconnect=function(){this.transport.loseConnection()},this.onConnect=function(){this._onConnect.forward(arguments)},this.onDisconnect=function(){this._onDisconnect.forward(arguments)},this.reset=function(){this._onConnect.reset(),this._onDisconnect.reset()},this.connectionMade=function(){this._isConnected=!0,this._onConnect.fire()},this.connectionLost=function(t){for(var e in this._requests){var i=this._requests[e];delete this._requests[e],i._onError.fire(t)}this._isConnected=!1,this._onDisconnect.fire(t)},this.sendRequest=function(t,e,i,n){4<arguments.length&&(n=bind.apply(GLOBAL,Array.prototype.slice.call(arguments,3)));var s={name:t,args:e};return i&&(s.target=i),s=this.sendFrame("RPC",s),s=this._requests[s]=new RPCRequest(this,s),n&&(s.onSuccess(GLOBAL,n,!1),s.onError(GLOBAL,n)),s},this.sendEvent=function(t,e,i){this.sendFrame("EVENT",{name:t,args:e,target:i||null})},this.frameReceived=function(t,e,n){switch(logger.DEBUG&&console.debug("DEBUG",".TargetCuppa","RECEIVED",t,e,n),e.toUpperCase()){case"RESPONSE":var s=this._requests[n.id];if(!s)break;delete this._requests[n.id],s._onSuccess.fire(n.args);break;case"ERROR":var r=n.msg||"unknown",o=n.id,s=this._requests[o],t=Error(this,t,r,n.details,o);if(!s)return this.errorReceived&&this.errorReceived(t);delete this._requests[o],s._onError.fire(t);break;case"RPC":case"EVENT":if(!n.name)return self.sendFrame("ERROR",{id:n.id||t,msg:\'missing "name"\'});var o=n.args||{},r=n.target||i,h=(e="RPC"==e.toUpperCase())?this._requestListeners:this._eventListeners,s=new(e?ReceivedRequest:ReceivedEvent)(this,n.id||t,n.name,o,r);r&&h[r]&&(t=h[r][s.name])&&t.slice(0).forEach(function(t){t(s)})}},this.removeTarget=function(t){delete this._eventListeners[t],delete this._requestListeners[t]},this.onRequest=function(t,i,n){e(this._requestListeners,t,i,n)},this.onEvent=function(t,i,n){e(this._eventListeners,t,i,n)},this.getClient=function(t){return this._clients[t]||(this._clients[t]=new n(this,t)),this._clients[t]};var n=__class__,n=n(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){this.init=function(t,e){this._conn=t,this._target=e,this._onConnect=[],this._onEvent=[],this._onRequest=[],this._conn.onConnect(bind(this,"_onConnectionMade"))},this.setConn=function(t){this._conn&&this._removeListeners(),this._conn=t},this._onConnectionMade=function(t){t==this._conn&&this._onConnect.forEach(function(t){t&&t()})},this.isConnected=function(){return this._conn.isConnected()},this.onConnect=function(t){t&&(this._conn.isConnected()?t():this._onConnect.push(t))},this.onRequest=function(t,e){this._conn.onRequest(t,this._target,e)},this.onEvent=function(t,e){this._conn.onEvent(t,this._target,e)},this.end=function(){this._removeListeners()},this._removeListeners=function(){this._conn.removeTarget(this._target)},this.sendEvent=function(t,e){this._conn.sendEvent(t,e,this._target)},this.sendRequest=function(t,e,i){"function"==typeof e&&(i=e,e=null),this._conn.sendRequest(t,e,this._target,i)}})});'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/net/protocols/rtjp.js",'jsio("from .delimited import DelimitedProtocol"),exports.RTJPProtocol=__class__,exports.RTJPProtocol=exports.RTJPProtocol(function(){return this.init&&this.init.apply(this,arguments)},DelimitedProtocol,function(t){this.init=function(){t(this,"init",["\\r\\n"]),this.frameId=0},this.connectionMade=function(){this._client&&this._client.connectionMade&&this._client.connectionMade(),logger.DEBUG&&console.debug("DEBUG","net.protocols.rtjp","connectionMade")};var e=function(t){logger.ERROR&&console.error("ERROR","net.protocols.rtjp",t)};this.frameReceived=function(){},this.sendFrame=function(t,e){return e||(e={}),logger.DEBUG&&console.debug("DEBUG","net.protocols.rtjp","sendFrame",t,JSON.stringify(e)),this.sendLine(JSON.stringify([++this.frameId,t,e])),this.frameId},this.lineReceived=function(t){try{var o=JSON.parse(t);if(3!=o.length)return e.call(this,"Invalid frame length");if("number"!=typeof o[0])return e.call(this,"Invalid frame id");if("string"!=typeof o[1])return e.call(this,"Invalid frame name");logger.DEBUG&&console.debug("DEBUG","net.protocols.rtjp","frameReceived:",o[0],o[1],JSON.stringify(o[2]))}catch(i){e.call(this,i)}o&&this.frameReceived(o[0],o[1],o[2])},this.connectionLost=function(){logger.DEBUG&&console.debug("DEBUG","net.protocols.rtjp","conn lost")}});'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/net/protocols/delimited.js",'jsio("import ..interfaces"),exports.DelimitedProtocol=__class__,exports.DelimitedProtocol=exports.DelimitedProtocol(function(){return this.init&&this.init.apply(this,arguments)},interfaces.Protocol,function(){this.init=function(e){e||(e="\\r\\n"),this.delimiter=e,this.buffer=""},this.connectionMade=function(){logger.DEBUG&&console.debug("DEBUG",".delimited","connectionMade")},this.dataReceived=function(e){if(e)for(logger.DEBUG&&console.debug("DEBUG",".delimited","dataReceived:",e.length,e),this.buffer+=e;-1!=(e=this.buffer.indexOf(this.delimiter));){var i=this.buffer.slice(0,e);this.buffer=this.buffer.slice(e+this.delimiter.length),this.lineReceived(i)}},this.lineReceived=function(e){logger.DEBUG&&console.debug("DEBUG",".delimited","Not implemented, lineReceived:",e)},this.sendLine=function(e){e+=this.delimiter,logger.DEBUG&&console.debug("DEBUG",".delimited","WRITE:",e),this.transport&&this.transport.write(e)},this.connectionLost=function(){logger.DEBUG&&console.debug("DEBUG",".delimited","connectionLost")}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/device.js",'jsio("import event.Emitter as Emitter"),jsio("import util.setProperty"),"undefined"!=typeof navigator&&navigator.userAgent||(logger.WARN&&console.warn("WARN","device","> Timestep was unable to determine your device! Please check that navigator.userAgent is defined."),exports={isUnknown:!0});var ua=navigator.userAgent,_devices={};exports.registerDevice=function(e,t){_devices[e]=t},exports.get=function(e){return jsio("import "+(_devices[exports.name]||"platforms.browser")+"."+e,{dontExport:!0,suppressErrors:!0})},exports.importUI=function(e){return jsio("import ui.backend."+(exports.useDOM?"dom":"canvas")+"."+e,{dontExport:!0,suppressErrors:!0})},exports.isMobileNative=exports.isMobile=/TeaLeaf/.test(ua),logger.LOG&&console.log("LOG","device",exports.isMobile?"on mobile device":"in web browser"),exports.screen=new Emitter;var devicePixelRatio=window.devicePixelRatio||1;if(exports.devicePixelRatio=devicePixelRatio,exports.screen.devicePixelRatio=devicePixelRatio,exports.screen.width=window.screen.width*devicePixelRatio,exports.screen.height=window.screen.height*devicePixelRatio,exports.hideAddressBar=function(){},util.setProperty(exports,"defaultFontFamily",{cb:function(e){jsio("import ui.resource.Font"),ui.resource.Font.setDefaultFontFamily(e)},value:"Helvetica"}),exports.defaultFontWeight="",exports.events="ontouchstart"in window&&!/BlackBerry/.test(ua)?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"},exports.isMobileBrowser=!1,exports.isUIWebView=!1,exports.isSafari=/Safari/.test(ua),exports.isSimulator=GLOBAL.CONFIG&&!!CONFIG.simulator,exports.isSimulator?(exports.isIOSSimulator=/iphone|ipod|ipad/i.test(CONFIG.simulator.deviceType),exports.isAndroidSimulator=!exports.isIOSSimulator,exports.isNativeSimulator=/^native/.test(CONFIG.target)):(exports.isAndroidSimulator=!1,exports.isIOSSimulator=!1,exports.isNativeSimulator=!1),exports.isMobile)exports.name="tealeaf",exports.width=navigator.width,exports.height=navigator.height,exports.isAndroid=/Android/.test(ua),exports.isAndroid?exports.isTablet=600<=navigator.width/devicePixelRatio:(exports.isIPad=exports.isTablet=/iPad/.test(ua),exports.isIPhone=/iPhone/.test(ua),exports.isIOS=!0);else{if(/(iPod|iPhone|iPad)/i.test(ua)){exports.name="browser",exports.isMobileBrowser=!0,exports.isIOS=!0;var match=ua.match(/iPhone OS ([0-9]+)/);exports.iosVersion=match&&parseInt(match[1]),exports.isUIWebView=!exports.isSafari,exports.screen.defaultOrientation="portrait",exports.screen.browserChrome={portrait:{top:20*devicePixelRatio,bottom:44*devicePixelRatio},landscape:{top:20*devicePixelRatio,bottom:32*devicePixelRatio}}}else/Mobile Safari/.test(ua)||/Android/.test(ua)||/BlackBerry/.test(ua)?(exports.name="browser",exports.isMobileBrowser=!0,exports.isAndroid=!0,exports.screen.width=window.outerWidth,exports.screen.height=window.outerHeight-1,exports.screen.defaultOrientation="portrait",exports.screen.browserChrome={portrait:{top:0,bottom:0},landscape:{top:0,bottom:0}}):(exports.screen.width=window.innerWidth,exports.screen.height=window.innerHeight,exports.name="browser",exports.canResize=!1);exports.width=exports.screen.width,exports.height=exports.screen.height}exports.useDOM=!1,exports.setUseDOM=function(){},exports.getDimensions=function(e){var t=Math.min(exports.width,exports.height),o=Math.max(exports.width,exports.height);return e?{height:t,width:o}:{height:o,width:t}},exports.init=function(){jsio("import ui.init"),exports.get("initialize").init(),exports.screen.width=exports.width,exports.screen.height=exports.height},exports.setBackButtonHandler=function(e){NATIVE&&(NATIVE.onBackButton=e)},exports.setRotationHandler=function(e){NATIVE&&(NATIVE.onRotation=e)},exports.stayAwake=function(e){NATIVE&&NATIVE.stayAwake&&NATIVE.stayAwake(e)},exports.collectGarbage=function(){logger.LOG&&console.log("LOG","device","collecting garbage"),NATIVE&&NATIVE.gc&&NATIVE.gc.runGC()};'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/event/Emitter.js",'jsio("import lib.PubSub as exports");'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/util/setProperty.js",'function createGetter(e,t){return function(){return this[t]}}function createSetter(e,t,i,n){return void 0!==n&&(e[t]=n),"function"==typeof i?function(e){if(this[t]!==e){var n=this[t];this[t]=e,i.call(this,t,e,n)}}:"string"==typeof i?function(e){if(this[t]!==e){var n=this[t];this[t]=e,this[i](t,e,n)}}:function(e){this[t]=e}}exports=function(e,t,i){!i.get&&!i.set&&!i.cb&&"value"in i?e[t]=i.value:(i.get||(i.get=createGetter(e,"_"+t)),i.set||(i.set=createSetter(e,"_"+t,i.cb,i.value)),"value"in i&&(e["_"+t]=i.value),delete i.value,Object.defineProperty?Object.defineProperty(e,t,i):e.__defineSetter__?(e.__defineSetter__(t,i.set),e.__defineGetter__(t,i.get)):e[t]=i.value)};'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/resource/Font.js",'function parseSize(t){if(t=t.match(sizeParser),!t)throw"invalid font size";return{value:parseFloat(t[1]),unit:t[2]}}function toPx(t){return{value:t.value*TO_PX[t.unit],unit:"px"}}function toPt(t){return{value:t.value*TO_PT[t.unit],unit:"pt"}}function parseFont(t){if(t=t.match(fontParser),!t)throw"invalid font string";var e={};return e.weight=t[1]||"normal",e.style=t[2]||"normal",e.size={value:parseFloat(t[3]),unit:t[4]},e.names=t[5].split(",").map(function(t){return t.replace(/[\\-_]/g," ").replace(/\\s+/g," ").replace(/[\'"]/g,"").replace(/^\\s+|\\s+$/g,"")}),e.name=e.names[0],e}var _cache={},weights="normal|bold|bolder|lighter|[1-9]00",styles="normal|italic|oblique",units="px|pt|pc|in|cm|mm|%",name="([\\\\w\\"\'\\\\- ]+(?:,|$))+",fontParser=RegExp("^ *(?:("+weights+") *)?(?:("+styles+") *)?([\\\\d\\\\.]+)("+units+")("+name+")","i"),sizeParser=RegExp("([\\\\d\\\\.]+)("+units+")","i"),TO_PT={pt:1,px:.75,"in":72,mm:72/25.4,cm:72/2.54},TO_PX={pt:4/3,px:1,"in":96,mm:96/25.4,cm:96/2.54},home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_resource_Font=__class__,Font=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_resource_Font(function(){return this.init&&this.init.apply(this,arguments)},function(){var t=null;this.constructor.setDefaultFontFamily=function(e){t=e};var e={name:t,size:20,unit:"px",style:"",weight:""};this.init=function(t){"string"==typeof t?(_cache[t]=this,this._string=t,t=parseFont(t)):t=merge(t,e),"string"==typeof t.size&&(t.size=parseSize(t.size)),this._name=t.name,this._style=t.style,this.size=t.size,this.sizePx=toPx(this.size).value,this.sizePt=toPt(this.size).value,this._weight=t.weight,this._isBold=/bold/i.test(this._weight)},this.getSize=function(){return this.sizePx},this.getName=function(){return this._name},this.getWeight=function(){return this._weight}});exports.parse=function(t){return t in _cache?_cache[t]:new Font(t)};'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/doc.js",'jsio("import lib.PubSub"),jsio("import lib.Enum as Enum"),jsio("from util.browser import $"),jsio("import device");var SCALING=Enum("FIXED","RESIZE","MANUAL"),defaultScalingMode=!device.isMobileNative||device.simulating?SCALING.RESIZE:SCALING.FIXED,Document=__class__,Document=Document(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){this.init=function(){if($){var e=GLOBAL.document;this._el=$({parent:e&&e.body,style:{position:"absolute",overflow:"hidden",width:"100%",height:"100%"}}),device.screen.subscribe("Resize",this,"onResize"),exports.postCreateHook&&exports.postCreateHook(this),this.setScalingMode(defaultScalingMode)}},this.unsubscribeResize=function(){device.screen.unsubscribe("Resize",this,"onResize")},this.setEngine=function(e){e!=this._engine&&(this._engine=e,this._canvas=this._engine.getCanvas(),this.appendChild(this._canvas),this._canvas.getContext&&(e=this._canvas.getContext(window.WebGLRenderingContext?"webgl":"2d"),e.setParentNode&&e.setParentNode(this._el)))},this.getElement=function(){return this._el},this.setScalingMode=function(e,t){this._scalingMode=e;var i=this._el.style;switch(e){case SCALING.FIXED:t=merge(t,{width:device.width,height:device.height}),i.width=t.width+"px",i.height=t.height+"px";break;case SCALING.RESIZE:t=merge(t,{resizeCanvas:!0});case SCALING.MANUAL:i.margin="0px",i.width="100%",i.height="100%"}this._scalingOpts=t,this.onResize(),setTimeout(bind(this,"onResize"),1e3)},this.onResize=function(){var e=this._el,t=this._el.style;e.className=device.screen.orientation,logger.LOG&&console.log("LOG",".doc","resize",device.width,device.height);var i=device.width,s=device.height,n=this._scalingMode,h=this._scalingOpts;switch(n==SCALING.FIXED&&(i=h.width,s=h.height),h.maxWidth&&i>h.maxWidth&&(i=h.maxWidth,n==SCALING.RESIZE&&(n=SCALING.FIXED)),h.maxHeight&&s>h.maxHeight&&(s=h.maxHeight,n==SCALING.RESIZE&&(n=SCALING.FIXED)),n){case SCALING.FIXED:e.style.top=Math.round(Math.max(0,(window.innerHeight-s)/2))+"px",e.style.left=Math.round(Math.max(0,(window.innerWidth-i)/2))+"px",t.width=i+"px",t.height=s+"px";break;case SCALING.RESIZE:h.resizeCanvas&&this._canvas&&(this._canvas.width!=i||this._canvas.height!=s)&&(this._canvas.width=i,this._canvas.height=s),t.width=i+"px",t.height=s+"px"}this._setDim(i,s),this._engine&&this._engine.render()},this._setDim=function(e,t){(this.width!=e||this.height!=t)&&(this.width=e,this.height=t,this.publish("Resize",e,t))},this.setColors=function(e,t){this._el&&(this._el.style.background=t,document.documentElement.style.background=document.body.style.background=e)},this.appendChild=function(e){this._el.appendChild(e)},this.getOffset=function(){return{x:this._el.offsetLeft,y:this._el.offsetTop}}});exports=new Document,exports.SCALING=SCALING,exports.setDocStyle=function(){var e=GLOBAL.document;e&&e.body&&(e={height:"100%",margin:"0px",padding:"0px"},$.style(document.documentElement,e),$.style(document.body,e))},exports.defaultParent=null,exports.postCreateHook=null;'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/Audio.js",'exports=function(o){var o=merge(o,{autoplay:!1,preload:"auto",volume:1,loop:0,src:""}),e=document.createElement("Audio");return e.autoplay=o.autoplay,e.preload=o.preload,e.volume=o.volume,e.loop=o.loop,e.src=o.src,e};'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/Canvas.js",'jsio("import .Context2D");var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_Canvas=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_Canvas(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(e){var e=merge(e,{width:300,height:200}),t=new Context2D(e),e=this._el=t.getElement();return e.getContext=function(){return t},e.complete=!0,e}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/Context2D.js",'function setter(t){return function(e){return this[t]=e}}function getter(t){return function(){return this[t]}}jsio("import device"),jsio("import .FontRenderer"),exports=function(t){var e=t&&t.el||document.createElement("canvas");e.width=t.width,e.height=t.height;var i=e.getContext("2d");i.font="11px "+device.defaultFontFamily,i.getElement=function(){return e},i.reset=function(){},i.clear=function(){this.clearRect(0,0,e.width,e.height)},i.clipRect=function(t,e,r,n){i.beginPath(),i.rect(t,e,r,n),i.clip()},i.swap=function(){},i.execSwap=function(){},i.circle=function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!0)};var r=null,n=null,o=null;return i.drawPointSprites=function(t,e,i,s){var a=this.pointSprite;if(a&&a.complete){var l=a.width,h=a.height,c=o||(o=document.createElement("canvas"));if(a!=r||this.strokeStyle!=n){r=a,n=this.strokeStyle,c.width=l,c.height=h;var u=c.getContext("2d");u.fillStyle=this.strokeStyle,u.fillRect(0,0,l,h),u.globalCompositeOperation="destination-in",u.drawImage(a,0,0)}i-=t,s-=e,a=Math.ceil(Math.sqrt(i*i+s*s)/this.pointSpriteStep),1>a&&(a=1);for(var u=this.lineWidth,f=0;a>f;++f)this.drawImage(c,0,0,l,h,t+i*f/a-u/2,e+s*f/a-u/2,u,u)}},i.roundRect=function(t,e,i,r,n){this.beginPath(),this.moveTo(t,e+n),this.lineTo(t,e+r-n),this.quadraticCurveTo(t,e+r,t+n,e+r),this.lineTo(t+i-n,e+r),this.quadraticCurveTo(t+i,e+r,t+i,e+r-n),this.lineTo(t+i,e+n),this.quadraticCurveTo(t+i,e,t+i-n,e),this.lineTo(t+n,e),this.quadraticCurveTo(t,e,t,e+n)},i.loadIdentity=function(){this.setTransform(1,0,0,1,0,0)},i.measureText=FontRenderer.wrapMeasureText(i.measureText),i.fillText=FontRenderer.wrapFillText(i.fillText),i.strokeText=FontRenderer.wrapStrokeText(i.strokeText),i.filters={},i.setFilters=function(t){this.clearFilters();for(var e in t)this.filters[e]=t[e]},i.clearFilters=function(){for(var t in this.filters)delete this.filters[t]},i};'),
jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/FontRenderer.js",'jsio("import device"),jsio("import ui.resource.Image as Image"),jsio("import ui.Color as Color"),jsio("import ui.filter as filter"),jsio("import ui.resource.Font as Font");var max=Math.max,_customFonts={},_customFontInfo={},_origMeasureText;exports.init=function(){var t=window.CONFIG;if(t&&t.fonts)for(var t=t.fonts,e=0,o=t.length;o>e;e++){var i=t[e],n={fontName:i.fontName,settings:i,imagesLoaded:-1,imagesTotal:0,loaded:!1};_customFonts[i.fontName]=n,loadingCustomFont(n)}};var loadCustomFontImage=function(t,e,o){return e=new Image({url:"resources/fonts/"+t.fontName+"_"+e+(o?"_Stroke.png":".png")}),e.doOnLoad(function(){t.imagesLoaded++,t.loaded=t.imagesLoaded===t.imagesTotal}),e},findVerticalInfo=function(t){for(var e=[{start:65,end:90},{start:97,end:122},{start:32,end:255}],o=!1,i=0,n=0,s=0,a=e.length;a>s;s++){for(var r=e[s],l=r.start;l<=r.end;l++){var f=t[l];f&&(i=max(i,f.h),n=max(n,f.h),o=!0)}if(o)break}return{baseline:i,bottom:n}},findHorizontalInfo=function(t){for(var e=[{start:97,end:122},{start:65,end:90},{start:32,end:255}],o=0,i=0,n=0,s=e.length;s>n;n++){for(var a=e[n],r=a.start;r<=a.end;r++){var l=t[r];l&&(o+=l.w,i++)}if(0!==i)break}return{width:.8*o/i}},loadingCustomFont=function(t){if(-1!==t.imagesLoaded)return!t.loaded;var e=t.settings,o=e.fontName,i=_customFontInfo[o];i?(t.dimensions=i.dimensions,t.horizontal=i.horizontal,t.vertical=i.vertical):(t.dimensions=JSON.parse(CACHE["resources/fonts/"+o+".json"]),t.horizontal=findHorizontalInfo(t.dimensions),t.vertical=findVerticalInfo(t.dimensions),_customFontInfo[o]={dimensions:t.dimensions,horizontal:t.horizontal,vertical:t.vertical});for(var o=t.images=[],i=t.strokeImages=[],n=t.imagesLoaded=0;n<e.count;n++)o.push(loadCustomFontImage(t,n,!1)),t.imagesTotal++,t.settings.stroke&&(i.push(loadCustomFontImage(t,n,!0)),t.imagesTotal++);return!0},measure=function(t,e,o){var i=e.customFont,n=i.dimensions,s=e.scale,a=(i.settings.spacing||0)*s,r=0,l=!0;if(n)for(var l=!1,f=0,u=0,m=o.length;m>u;u++){var d=o.charCodeAt(u);if(9===d)r+=4*i.horizontal.width*s;else if(32===d)r+=i.horizontal.width*s;else if(n[d])var h=n[d],r=r+((h.xadvance+(h.kerning[f]||0))*s+a);else l=!0;if(l)break;f=d}return l?(i=t.font,t.font=e.size.value+e.size.unit+" "+(t.defaultFontFamily||device.defaultFontFamily),e={failed:!0,width:_origMeasureText.apply(t,[o])},t.font=i,e):{failed:!1,width:r}},renderCustomFont=function(t,e,o,i,n,s,a,r){var l=measure(t,a,n);if(l.failed)return!1;var s=a.customFont,r=0===r?s.images:s.strokeImages,f=s.dimensions,a=a.scale,l=l.width;l>i&&(a*=i/l),i=(s.settings.spacing||0)*a,"alphabetic"===t.textBaseline?o-=s.vertical.baseline*a:"middle"===t.textBaseline?o-=s.vertical.bottom/2*a:"bottom"===t.textBaseline&&(o-=s.vertical.bottom*a),"center"===t.textAlign?e-=l/2:"right"===t.textAlign&&(e-=l);for(var u=l=0,m=n.length;m>u;u++){var d=n.charCodeAt(u);if(9===d)e+=4*s.horizontal.width*a;else if(32===d)e+=s.horizontal.width*a;else{var h=f[d],e=e+(h.kerning[l]||0);r[h.sheetIndex].render(t,h.x,h.y,h.w,h.h,e+h.ox*a,o+h.oy*a,h.w*a,h.h*a),e+=h.xadvance*a+i}l=d}return!0};exports.findFontInfo=function(t){var t=Font.parse(t.font),e=t.getName();return e&&_customFonts[e]?(customFont=_customFonts[e],t.customFont=customFont,t.scale=t.getSize()/customFont.settings.size,t):null},exports.wrapMeasureText=function(t){return _origMeasureText=t,function(e){var o=exports.findFontInfo(this);return o?(o=measure(this,o,e),o.failed?t.apply(this,arguments):o):t.apply(this,arguments)}},exports.wrapFillText=function(t){return function(e,o,i,n){var s=exports.findFontInfo(this);if(!s)return t.apply(this,arguments);if(!loadingCustomFont(s.customFont)){isNaN(o)&&(o=0),isNaN(i)&&(i=0);var a=Color.parse(this.fillStyle);this.filters.Tint||(this.filters.Tint=new filter.TintFilter(a)),this.__bmpTxtColor!==a&&(this.__bmpTxtColor=a,this.filters.Tint.update(a)),renderCustomFont(this,o,i,n,e+"",this.fillStyle,s,0)||(a=this.font,this.font=s.size.value+s.size.unit+" "+(this.defaultFontFamily||device.defaultFontFamily),t.apply(this,[e,o,i]),this.font=a)}}},exports.wrapStrokeText=function(t){return function(e,o,i,n){var s=exports.findFontInfo(this);if(!s)return t.apply(this,arguments);if(!loadingCustomFont(s.customFont)){isNaN(o)&&(o=0),isNaN(i)&&(i=0);var a=Color.parse(this.strokeStyle);this.filters.Tint||(this.filters.Tint=new filter.TintFilter(a)),this.__bmpTxtColor!==a&&(this.__bmpTxtColor=a,this.filters.Tint.update(a)),renderCustomFont(this,o,i,n,e+"",this.strokeStyle,s,1)||(a=this.font,this.font=s.size.value+s.size.unit+" "+(this.defaultFontFamily||device.defaultFontFamily),t.apply(this,[e,o,i]),this.font=a)}}};'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/resource/Image.js",'function imageOnLoad(t,i,e){t&&!this.width?3>=e?setTimeout(bind(this,imageOnLoad,t,i,(e||0)+1),0):this.__cb.fire(!1):this.__cb.fire(!t)}jsio("import device"),jsio("import lib.PubSub"),jsio("import event.Callback as Callback"),jsio("import ui.resource.loader as resourceLoader");var ImageCache={},ImageMap=!CONFIG.disableNativeViews&&NATIVE.timestep&&NATIVE.timestep.ImageMap;ImageMap||(ImageMap=__class__,ImageMap=ImageMap(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,i,e,r,s,h,n,a,o,g){this.url=g,this.x=i,this.y=e,this.width=r,this.height=s,this.marginTop=h,this.marginRight=n,this.marginBottom=a,this.marginLeft=o}}));var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_resource_Image=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_resource_Image(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){var t=GLOBAL.NATIVE&&!device.isNativeSimulator,i=device.get("Canvas"),e=null,r=null,s=null,h=null;this.init=function(t){t||(t={}),this._cb=new Callback,this._map=new ImageMap(this,0,0,-1,-1,0,0,0,0,t.url||""),this._originalURL=t.url||"",this._scale=t.scale||1,this._isError=!1,resourceLoader._updateImageMap(this._map,t.url,t.sourceX,t.sourceY,t.sourceW,t.sourceH),this._setSrcImg(t.srcImage,this._map.url,t.forceReload)},this._setSrcImg=function(t,i,e){if(this._cb.reset(),!t&&i&&!e&&ImageCache[i]&&(t=ImageCache[i]),!t&&!e&&Image.get){var r=Image.get(i);"object"==typeof r?t=r:r&&(i=r)}e&&(t&&t.destroy&&t.destroy(),i&&NATIVE.gl&&NATIVE.gl.deleteTexture&&NATIVE.gl.deleteTexture(i)),t||(t=new Image),this._srcImg=t,t instanceof HTMLCanvasElement?this._onLoad(!1,t):(t.__cb||(t.__cb=new Callback,t.addEventListener("load",bind(t,imageOnLoad,!0),!1),t.addEventListener("error",bind(t,imageOnLoad,!1),!1),i&&(ImageCache[i]=t),!t.src&&i&&(t.src=this._map.url=i)),t.__cb.run(this,function(i){this._onLoad(i,t)}))},this.getSource=this.getSrcImg=function(){return this._srcImg},this.setSource=this.setSrcImg=function(t){this._setSrcImg(t)},this.reload=function(t){var i=this._srcImg;if(i)if(t&&t.chain&&(t=t.chain()),i.reload){var e=bind(this,function(){i.removeEventListener("reload",e,!1),t&&t()});i.addEventListener("reload",e,!1),i.reload()}else t&&(this._cb.fired()?setTimeout(t,0):this._cb.run(t))},this.getURL=function(){return this._map.url},this.getOriginalURL=function(){return this._originalURL},this.getSourceX=function(){return this._map.x},this.getSourceY=function(){return this._map.y},this.getSourceWidth=this.getSourceW=function(){return this._map.width},this.getSourceHeight=this.getSourceH=function(){return this._map.height},this.getOrigWidth=this.getOrigW=function(){return this._srcImg.width},this.getOrigHeight=this.getOrigH=function(){return this._srcImg.height},this.setSourceX=function(t){this._map.x=t},this.setSourceY=function(t){this._map.y=t},this.setSourceWidth=this.setSourceW=function(t){this._map.width=t},this.setSourceHeight=this.setSourceH=function(t){this._map.height=t},this.setMarginTop=function(t){this._map.marginTop=t},this.setMarginRight=function(t){this._map.marginRight=t},this.setMarginBottom=function(t){this._map.marginBottom=t},this.setMarginLeft=function(t){this._map.marginLeft=t},this.setURL=function(t,i){resourceLoader._updateImageMap(this._map,t),this._setSrcImg(null,this._map.url,i)},this.getWidth=function(){var t=this._map;return(-1==t.width?0:t.width+t.marginLeft+t.marginRight)/t.scale},this.getHeight=function(){var t=this._map;return(-1===t.height?0:t.height+t.marginTop+t.marginBottom)/t.scale},this.getMap=this.getBounds=function(){return this._map},this.setMap=this.setBounds=function(t,i,e,r,s,h,n,a){var o=this._map;o.x=t,o.y=i,o.width=e,o.height=r,o.marginTop=s||0,o.marginRight=h||0,o.marginBottom=n||0,o.marginLeft=a||0,this.emit("changeBounds")},this.doOnLoad=function(){return this._cb.forward(arguments),this},this._onLoad=function(t,i){var e=this._map,r=this._srcImg;i&&i!==r||(t?(logger.ERROR&&console.error("ERROR","ui.resource.Image","Image failed to load:",e.url),this._isError=!0,this._cb.fire({NoImage:!0})):(this._isError=!1,0===r.width&&logger.WARN&&console.warn("WARN","ui.resource.Image","Image has no width",this._url),1===this._scale||-1===e.width&&-1===e.height?(-1===e.width&&(e.width=r.width),-1===e.height&&(e.height=r.height)):(-1===e.width&&(e.width=r.width*e.height/r.height),-1===e.height&&(e.height=r.height*e.width/r.width),r.width=e.width,r.height=e.height),e.url=r.src,this._cb.fire(null,this)))},this.isError=function(){return this._isError},this.isLoaded=this.isReady=function(){return!this._isError&&this._cb.fired()},this._renderFilter=function(t,i,s,h,n,a,o){return e.width=h,e.height=n,r.globalCompositeOperation="source-over",this.render(r,i,s,h,n,0,0,h,n),r.globalCompositeOperation=o,r.fillStyle="rgba("+a.r+","+a.g+","+a.b+","+a.a+")",r.fillRect(0,0,h,n),r.globalCompositeOperation="destination-in",this.render(r,i,s,h,n,0,0,h,n),e},this._renderMultiply=function(t,i,s,h,n,a){for(var t=this.getImageData(i,s,h,n),i=t.data,n=a.a,s=1+n*(a.r/255-1),h=1+n*(a.g/255-1),a=1+n*(a.b/255-1),n=0,o=i.length;o>n;n+=4)i[n]=i[n]*s,i[n+1]=i[n+1]*h,i[n+2]=i[n+2]*a;return e.width=t.width,e.height=t.height,r.putImageData(t,0,0),e},this._renderMask=function(t,i,s,h,n,a,o){e.width=h,e.height=n;var t=a.getSourceX(),g=a.getSourceY(),u=a.getSourceW(),c=a.getSourceH();return r.globalCompositeOperation="source-over",a.render(r,t,g,u,c,0,0,h,n),r.globalCompositeOperation=o,this.render(r,i,s,h,n,0,0,h,n),e},this._applyFilters=function(t,s,h,n,a){null===e&&(e=new i,r=e.getContext("2d"));var o=this._srcImg,g=t.filters,u=g.LinearAdd,c=g.Tint,m=g.Multiply,d=g.NegativeMask,g=g.PositiveMask;return u?o=this._renderFilter(t,s,h,n,a,u.get(),"lighter"):c?o=this._renderFilter(t,s,h,n,a,c.get(),"source-over"):m?o=this._renderMultiply(t,s,h,n,a,m.get()):d?o=this._renderMask(t,s,h,n,a,d.getMask(),"source-in"):g&&(o=this._renderMask(t,s,h,n,a,g.getMask(),"source-out")),o},this.render=function(i){if(this._cb.fired()){var e=this._map,r=this._srcImg,s=arguments[1],h=arguments[2],n=arguments[3],a=arguments[4],o=arguments[5],g=arguments[6],u=arguments[7],c=arguments[8],m=e.x,d=e.y,_=e.width,l=e.height,o=void 0!==o?o:s||0,g=void 0!==g?g:h||0,u=void 0!==u?u:n||0,c=void 0!==c?c:a||0;arguments.length<9?(s=u/(e.marginLeft+e.width+e.marginRight),h=c/(e.marginTop+e.height+e.marginBottom),o+=s*e.marginLeft,g+=h*e.marginTop,u=s*e.width,c=h*e.height):(m=s,d=h,_=n,l=a),!t&&i.filters&&(r=this._applyFilters(i,m,d,_,l),r!==this._srcImg&&(d=m=0)),this._renderImage(i,r,m,d,_,l,o,g,u,c)}},this._renderImage=function(t,i,e,r,s,h,n,a,o,g){try{t.drawImage(i,e,r,s,h,n,a,o,g)}catch(u){}},this.getImageData=function(t,e,r,n){null===s&&(s=new i,h=s.getContext("2d"));var a=this._map;if(!GLOBAL.document||!document.createElement)throw"Not supported";if(!a.width||!a.height)throw"Not loaded";return t=t||0,e=e||0,r=r||a.width,n=n||a.height,s.width=r,s.height=n,h.clear(),this.render(h,t,e,r,n,0,0,r,n),h.getImageData(0,0,r,n)},this.setImageData=function(){},this.destroy=function(){this._srcImg.destroy&&this._srcImg.destroy()}}),exports.__clearCache__=function(){ImageCache={}};'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/event/Callback.js",'jsio("import lib.Callback as exports");'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/resource/loader.js",'jsio("import .i18n"),jsio("import lib.Callback");var _cache={},MIME={".png":"image",".jpg":"image",".bmp":"image",".css":"css",".html":"html",".mp3":"audio",".ogg":"audio",".mp4":"audio",".3gp":"audio",".m4a":"audio",".aac":"audio",".flac":"audio",".mkv":"audio",".wav":"audio"},Loader=__class__,Loader=Loader(function(){return this.init&&this.init.apply(this,arguments)},function(){this._map={},this.has=function(e){return this._map[e]},this.getMap=function(){return this._map},this.setMap=function(e){this._map=i18n.localizeResourceMap(e)},this.get=function(e){return"resources/images/"+e},this.preload=function(e,r,t){if("function"==typeof r&&(t=r,r=void 0),isArray(e)){var a=new lib.Callback;return e.forEach(function(e){e&&this.preload(e,r,a.chain())},this),t&&a.run(t),a}var o,e=e.replace(/^\\//,""),i={},n=this._map;for(o in n)0==o.indexOf(e)&&(i[n[o]&&n[o].sheet||o]=!0);return i=Object.keys(i),0==i.length&&logger.LOG&&console.log("LOG","ui.resource.loader","WARNING: No files to preload from path:",e,"-- A gamedev needs to update the code with the real resource paths."),e=this._loadGroup(merge({resources:i},r)),t&&e.run(t),e};var e=null;this.getSound=function(r){return e||(jsio("import AudioManager"),e=new AudioManager),GLOBAL.NATIVE&&GLOBAL.NATIVE.sound&&GLOBAL.NATIVE.sound.preloadSound?NATIVE.sound.preloadSound(r):(e.addSound(r),{complete:!0})},this.getImagePaths=function(e){var r,e=e.replace(/^\\//,""),t=[],a=this._map;for(r in a)0==r.indexOf(e)&&t.push(r);return t},this.getImage=function(e,r){var t=new Image;if(Image.get){var a=Image.get(e);if(a instanceof Image)return a}return a?(t.src=a,Image.set(e,t)):(r||logger.WARN&&console.warn("WARN","ui.resource.loader",e,"may not be properly cached!"),t.src=e),t},this._updateImageMap=function(e,r,t,a,o,i){var t=t||0,a=a||0,o=void 0==o?-1:o,i=void 0==i?-1:i,n=this._map[r];return n&&n.sheet?(r=n.scale||1,e.x=n.x-n.marginLeft,e.y=n.y-n.marginTop,e.width=n.w+n.marginLeft+n.marginRight,e.height=n.h+n.marginTop+n.marginBottom,e.x+=t*r,e.y+=a*r,o>0&&(e.width=o*r),i>0&&(e.height=i*r),e.marginLeft=Math.max(0,n.x-e.x),e.marginTop=Math.max(0,n.y-e.y),e.marginRight=Math.max(0,e.x+e.width-(n.x+n.w)),e.marginBottom=Math.max(0,e.y+e.height-(n.y+n.h)),e.x+=e.marginLeft,e.y+=e.marginTop,e.width-=e.marginLeft+e.marginRight,e.height-=e.marginTop+e.marginBottom,e.scale=r,e.url=n.sheet,e):(e.x=t,e.y=a,e.width=o,e.height=i,e.scale=1,e.url=r,void 0)},this._getRaw=function(e,r,t,a){if(!t&&_cache[r])return _cache[r];switch(t=null,e){case"audio":t=this.getSound(r);break;case"image":t=this.getImage(r,a);break;default:logger.ERROR&&console.error("ERROR","ui.resource.loader","unknown type for preloader",e)}return _cache[r]=t},this._loadGroup=function(e,r){for(var t=e.timeout,a=new lib.Callback,o=e.resources||[],i=o.length||0,n=[],u=0;i>u;++u){var s=o[u].substring(o[u].lastIndexOf(".")).split("|")[0];"image"==MIME[s]?(n.push({type:"image",resource:o[u]}),GLOBAL.NATIVE&&NATIVE.gl&&NATIVE.gl.touchTexture(o[u])):"audio"==MIME[s]&&n.push({type:"audio",resource:o[u]})}if(!n.length)return r&&a.run(r),a.fire(),a;var h=0,l=n.length,c=Math.min(l,e.parallel||5),g=0,d=bind(this,function(){var e,t=h++,o=n[t];if(o){e=this._getRaw(o.type,o.resource,!1,!0);var i=function(t){g>=l||(e.onreload=e.onload=e.onerror=function(){},++g,g>=l?(r&&r(o,t,!0,g,l),m&&clearTimeout(m),a.fire()):(r&&r(o,t,!1,g,l),setTimeout(d,0)))};if(e.reload&&e.complete){var u=e.onreload,s=e.onerror;e.onreload=function(){u&&u(),i(!1)},e.onerror=function(){s&&s(),i(!0)},e.reload()}else e.complete?i(!0===e.failed):(u=e.onload,s=e.onerror,e.onload=function(){u&&u(),e.failed=!1,i(!1)},e.onerror=function(){s&&s(),e.failed=!0,i(!0)})}}),m=null;return setTimeout(function(){for(var e=0;c>e;++e)d();t&&(m=setTimeout(function(){a.fire(),g=l},t))},0),a}});exports=new Loader;'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/resource/i18n.js",'var LOCALE_CODES=navigator.language&&navigator.language.split("-"),LANGUAGE_CODE=(LOCALE_CODES[0]||"en").toLowerCase(),REGION_CODE=(LOCALE_CODES[1]||"US").toUpperCase(),EU_REGIONS="AD AT BE BL CY DE EE ES EU FI FR GR IE IT LU LV MC ME MT MQ NL PM PT RE SI SK SM VA YT".split(" "),home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_resource_i18n=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_resource_i18n(function(){return this.init&&this.init.apply(this,arguments)},function(){var e={languageCode:LANGUAGE_CODE,regionCode:REGION_CODE,stringsPath:"resources/strings/",defaultStringsFile:"en.json"};this.init=function(s){s=merge(s,e),this._languageCode=s.languageCode,this._regionCode=s.regionCode,this._stringsPath=s.stringsPath,this._defaultStringsFile=s.defaultStringsFile,this._strings={},this.loadStrings(this._stringsPath,this._defaultStringsFile)},this.getLanguageCode=function(){return this._languageCode},this.getRegionCode=function(){return this._regionCode},this.loadStrings=function(e,s){var r=this._languageCode,t=e+r+"-"+this._regionCode+".json",r=e+r+".json",i=e+s,n=CACHE[t]||CACHE[r]||CACHE[i];if(n)try{this._strings=JSON.parse(n)}catch(o){console.error("Error loading strings JSON:"),console.error(o)}else console.error("No JSON found for files:",t,r,i)},this.getString=function(e){var s=this._strings[e];return void 0!==s?s:e}}),exports.localizeResourceMap=function(e){var s,r={},t="resources-"+LANGUAGE_CODE+"-"+REGION_CODE,i="resources-"+LANGUAGE_CODE,n="resources-"+REGION_CODE;for(s in e){var o=s,_=s.indexOf(t),g=s.indexOf(i),u=s.indexOf(n),a=s.indexOf("resources-EU");0===_?o="resources"+s.substring(t.length):0===g?o="resources"+s.substring(i.length):0===u?o="resources"+s.substring(n.length):0===a&&-1!==EU_REGIONS.indexOf(REGION_CODE)&&(o="resources"+s.substring(12)),r[o]=e[s]}return r};'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/AudioManager.js",'jsio("import device"),jsio("import util.path"),jsio("import event.Emitter as Emitter"),jsio("import ui.backend.sound.AudioLoader as AudioLoader"),window.AudioContext=window.AudioContext||window.webkitAudioContext;var _ctx=null,_muteAll=!1,_registeredAudioManagers=[],RawAudio=__class__,RawAudio=RawAudio(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){if("undefined"==typeof Audio)return null;var t,i=new Audio,s=RawAudio.prototype;for(t in s)!i[t]&&s.hasOwnProperty(t)&&(i[t]=s[t]);var e=null;return i.oldPlay=i.play,i.play=function(){4===i.readyState?i.oldPlay():e=setTimeout(i.play,32)},i.oldPause=i.pause,i.pause=function(){null!==e&&(clearTimeout(e),e=null),i.oldPause()},i},this.stop=function(){!this.paused&&this.pause(),void 0!==this.NETWORK_LOADING&&this.networkState===this.NETWORK_LOADING&&this.networkState===this.NETWORK_NO_SOURCE||isNaN(this.duration)||(this.currentTime=0)}}),MultiSound=__class__,MultiSound=MultiSound(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,i,s){s="string"==typeof s?{sources:[s]}:s||{},this._soundManager=t,this._name=i,this._isPaused=!1,this._lastSrc=null,this._sources=[],this._paths=[],this._useAudioContext=!1,this._gainNode=this._loader=null,this.loop=void 0!==s.loop?s.loop:s.background,this.isBackgroundMusic=s.background;var i=s.sources||[i],e=this._sources,u=this._paths,n=t.getPath(),o=t.getExt(),r=RegExp(o+"$","i"),a=this.loop,h=void 0!==s.volume?s.volume:1,d=bind(this,"isPaused"),c=function(){this.removeEventListener(arguments.callee),d()&&this.pause()};_ctx&&(this._useAudioContext=!0,this._loader=t.getAudioLoader(),this._gainNode=_ctx.createGain(),this._gainNode.connect(_ctx.destination),this._gainNode.gain.value=h);for(var _,l=0;_=i[l];++l)if(_=util.path.join(n,s.path,_),r.test(_)||(_+=o),u.push(_),!this._useAudioContext){var f=new RawAudio;f&&(f.loop=a,f.volume=h,f.isBackgroundMusic=s.background,f.src=_,f.preload=4!==f.readyState||t._preload&&!s.background?"auto":"none",f.addEventListener&&f.addEventListener("playing",c),e.push(f),f.isBackgroundMusic&&NATIVE&&NATIVE.sound&&NATIVE.sound.registerMusic(_,f))}},this.getVolume=function(){if(this._useAudioContext)return this._gainNode.gain.value;var t=this._sources[0];return t&&t.volume||0},this.setVolume=function(t){if(this._useAudioContext)this._gainNode.gain.value=t;else for(var i,s=0;i=this._sources[s];++s)i.volume=t},this.stop=function(){if(this._useAudioContext)this._lastSrc&&this._lastSrc.stop(0),this._lastSrc=null;else for(var t,i=0;t=this._sources[i];++i)t.stop()},this.pause=function(){if(this._isPaused=!0,this._useAudioContext)this.stop();else for(var t,i=0;t=this._sources[i];++i)t.pause()},this.isPaused=function(){return this._isPaused},this.isPlaying=function(){var t=!1;if(!this._useAudioContext&&null!==this._lastSrc){var i=this._lastSrc.currentTime,s=this._lastSrc.duration;(isNaN(s)||s>i)&&(t=!this.isPaused())}return t},this.getDuration=function(){return this._lastSrc&&this._lastSrc.duration||0},this.getTime=function(){return this._lastSrc&&this._lastSrc.currentTime||0},this.setTime=function(t){!this._useAudioContext&&this._lastSrc&&this.isBackgroundMusic&&this._lastSrc.duration&&(this._lastSrc.currentTime=t)},this.play=function(t){t=t||{},this._isPaused?this._isPaused=!1:this.stop();var i=t.loop||this.loop,s=t.time||0,e=t.duration?1e3*t.duration:void 0;if(this._useAudioContext){var t=this._loader,u=this._paths[Math.random()*this._paths.length|0],n=t.getBuffer(u);n?this._playFromBuffer(n,i,s,e):t.doOnLoad(u,bind(this,function(t){this._playFromBuffer(t[0],i,s,e)}))}else t=this._getRandom(),t.play(),t.muted&&(t.muted=!1,t.muted=!0),this.setTime(s),void 0!==e&&setTimeout(bind(this,"pause"),e),this._lastSrc=t},this._playFromBuffer=function(t,i,s,e){var u=_ctx.createBufferSource();u.buffer=t,u.loop=i,u.connect(this._gainNode),void 0!==e?u.start(_ctx.currentTime,s,e):u.start(_ctx.currentTime,s),this._lastSrc=u},this._getRandom=function(){return this._sources[Math.random()*this._sources.length|0]}}),home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_AudioManager=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_AudioManager(function(){return this.init&&this.init.apply(this,arguments)},Emitter,function(t){this.init=function(i){if(i=i||{},t(this,"init",arguments),this._loader=null,this.setPath(i.path),this._map=i.files||i.map,this._preload=i.preload,this._sounds={},this._areEffectsMuted=this._isMusicMuted=!1,this._currentMusic=null,this._key="",this.setMuted(_muteAll),_registeredAudioManagers.push(this),i.persist&&this.persistState(i.persist),null===_ctx&&"undefined"!=typeof AudioContext)try{_ctx=new AudioContext}catch(s){logger.WARN&&console.warn("WARN","AudioManager","HTML5 AudioContext init failed, falling back to Audio!")}else logger.WARN&&console.warn("WARN","AudioManager","HTML5 AudioContext not supported, falling back to Audio!");if(_ctx&&this.setAudioContext(),"undefined"!=typeof Audio){var e=new Audio;e.canPlayType("audio/mpeg")?this._ext=".mp3":e.canPlayType("audio/ogg")&&(this._ext=".ogg")}else logger.WARN&&console.warn("WARN","AudioManager","HTML5 Audio not supported!");void 0===this._ext&&(this._ext=".mp3",logger.WARN&&console.warn("WARN","AudioManager","Warning: sound support unclear - defaulting to .mp3"));for(var u in this._map)this.addSound(u,this._map[u]);if(_ctx&&this._preload){var n=[];for(u in this._sounds)e=this._sounds[u],n=n.concat(e._paths);this.preloadSounds(n)}},this.getAudioContext=function(){return _ctx},this.setAudioContext=function(){this._loader?this._loader.setAudioContext(_ctx):this._loader=new AudioLoader({ctx:_ctx})},this.getAudioLoader=function(){return this._loader},this.preloadSounds=function(t){this._loader&&this._loader.load(t)},this.getExt=function(){return this._ext},this.getPath=function(){return this._path},this.setPath=function(t){t&&(t=t.replace(/\\/$/,"")),this._path=t||""},this.addSound=function(t,i){this._sounds[t]=new MultiSound(this,t,i)},this.persistState=function(t){if(this._key=t,t=localStorage.getItem(this._key))try{t=JSON.parse(t)}catch(i){}t&&(logger.LOG&&console.log("LOG","AudioManager","Restoring Audio API state!"),this.setMusicMuted(t.isMusicMuted),this.setEffectsMuted(t.areEffectsMuted))},this._persist=function(){""!==this._key&&localStorage.setItem(this._key,JSON.stringify({isMusicMuted:this._isMusicMuted,areEffectsMuted:this._areEffectsMuted}))},this.getMuted=function(){return this._isMusicMuted&&this._areEffectsMuted},this.getMusicMuted=function(){return this._isMusicMuted},this.getEffectsMuted=function(){return this._areEffectsMuted},this.setMuted=function(t){this.setMusicMuted(t),this.setEffectsMuted(t)},this.setMusicMuted=function(t){_muteAll&&(t=!0),this._isMusicMuted=t,this._persist(),this._currentMusic&&(t?this._currentMusic.pause():this._currentMusic.play())},this.setEffectsMuted=function(t){if(_muteAll&&(t=!0),this._areEffectsMuted=t,this._persist(),t)for(var i in this._sounds)t=this._sounds[i],t.isBackgroundMusic||t.stop()},this.getSound=function(t){var i=this._sounds[t];return i||logger.WARN&&console.warn("WARN","AudioManager","Warning: no sound named "+t),i},this.setVolume=function(t,i){var s=this.getSound(t);return s?(s.setVolume(i),!0):!1},this.getVolume=function(t){return(t=this.getSound(t))?t.getVolume():null},this.setTime=function(t,i){var s=this.getSound(t);return s?(s.setTime(i||0),!0):!1},this.getTime=function(t){return t=this.getSound(t),t?t.getTime():!1},this.getDuration=function(t){return t=this.getSound(t),t?t.getDuration():!1},this.play=function(t,i){var s=this.getSound(t);return s?(i=i||{},s.isBackgroundMusic?(this._currentMusic&&this._currentMusic.stop(),this._currentMusic=s,this._isMusicMuted||s.play(i)):this._areEffectsMuted||s.play(i),!0):!1},this.pause=function(t){return(t=this.getSound(t))?(this._currentMusic===t&&(this._currentMusic=null),t.pause(),!0):!1},this.stop=function(t){return(t=this.getSound(t))?(this._currentMusic===t&&(this._currentMusic=null),t.stop(),!0):!1},this.isPaused=function(t){return t=this.getSound(t),t?t.isPaused():!1},this.isPlaying=function(t){return t=this.getSound(t),t?t.isPlaying():!1},this.playBackgroundMusic=this.play,this.pauseBackgroundMusic=function(){this._currentMusic&&this._currentMusic.pause()}}),exports.muteAll=function(t){_muteAll=t;for(var i=0,s=_registeredAudioManagers.length;s>i;i++)_registeredAudioManagers[i].setMuted(t)};'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/util/path.js",'var util=jsio.__jsio.__util;exports.join=util.buildPath,exports.resolveRelativePath=util.resolveRelativePath,exports.splitPath=util.splitPath,exports.relative=util.relative,exports.splitExt=function(e){var e=exports.splitPath(e),t=e.filename.lastIndexOf(".");return-1==t?(e.basename=e.filename,e.ext=""):(e.basename=e.filename.substring(0,t),e.ext=e.filename.substring(t)),e};'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/sound/AudioLoader.js",'var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_sound_AudioLoader=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_sound_AudioLoader(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(o){this._ctx=o.ctx,this._bufferMap={},this._loadingMap={},this._onLoadMap={}},this.load=function(o,e){for(var i={fileCount:o.length,loadedCount:0,buffers:[],callback:e||function(){logger.LOG&&console.log("LOG","ui.backend.sound.AudioLoader","Finished loading audio files:",o)}},t=0,n=o.length;n>t;t++)this._loadFile(o[t],t,i)},this._loadFile=function(o,e,i){var t=this._ctx,n=this._bufferMap,s=this._loadingMap,r=this._onLoadMap,d=new XMLHttpRequest;d.open("GET",o,!0),d.responseType="arraybuffer",d.onload=function(){t.decodeAudioData(d.response,function(t){if(t){s[o]=!1,i.buffers[e]=n[o]=t,++i.loadedCount===i.fileCount&&i.callback(i.buffers);var d=r[o];d&&(d([t]),r[o]=null)}else logger.ERROR&&console.error("ERROR","ui.backend.sound.AudioLoader","Error decoding audio file data:",o)},function(o){logger.ERROR&&console.error("ERROR","ui.backend.sound.AudioLoader","Error with AudioContext decodeAudioData:",o)})},d.onerror=function(){logger.ERROR&&console.error("ERROR","ui.backend.sound.AudioLoader","Error with audio XHR on URL:",o)},s[o]=!0,d.send()},this.getAudioContext=function(){return this._ctx},this.setAudioContext=function(o){this._ctx=o},this.getBuffer=function(o){return this._bufferMap[o]||null},this.isLoading=function(o){return this._loadingMap[o]||!1},this.doOnLoad=function(o,e){if(this.isLoading(o))this._onLoadMap[o]=e;else{var i=this.getBuffer(o);i?e([i]):this.load([o],e)}}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/Color.js",'var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_Color=__class__,RGBA=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_Color(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this.b=this.g=this.r=0,this.a=1,this.update.apply(this,arguments)},this.update=function(e){if(2<arguments.length)this.r=arguments[0],this.g=arguments[1],this.b=arguments[2],this.a=void 0!==arguments[3]?arguments[3]:1;else if("string"==typeof e){var n=cache[e];n?this.set(n):this.parse(e)}else e&&this.set(e)},this.get=function(){return{r:this.r,g:this.g,b:this.b,a:this.a}},this.set=function(e){void 0!==e&&(this.r=e.r||0,this.g=e.g||0,this.b=e.b||0,this.a=void 0!==e.a?e.a:1)};var e=/rgba?\\(\\s*([.0-9]+)\\s*,\\s*([.0-9]+)\\s*,\\s*([.0-9]+)\\s*,?\\s*([.0-9]+)?\\s*\\)/;this.parse=function(n){var w=n.match(e);w?(this.r=parseInt(w[1])||0,this.g=parseInt(w[2])||0,this.b=parseInt(w[3])||0,void 0!==w[4]?(w=parseFloat(w[4]),this.a=isNaN(w)?1:w):this.a=1):(this.a=1,w=n.length,5===w?(w=n.substring(4,5),this.a=("0x"+w+w|0)/255,n=n.substring(0,4)):9===w&&(this.a=("0x"+n.substring(7,9)|0)/255,n=n.substring(0,7)),n="0x"+n.slice(1).replace(5>n.length&&/./g,"$&$&"),w=[n>>16,n>>8&255,255&n],this.r=w[0],this.g=w[1],this.b=w[2])},this.toHex=function(){return"#"+((256+this.r<<8|this.g)<<8|this.b).toString(16).slice(1)},this.toString=function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a+")"}});exports.parse=function(e){return cache[e]||(cache[e]=new RGBA(e))};var cache={aliceblue:new RGBA(240,248,255),antiquewhite:new RGBA(250,235,215),aqua:new RGBA(0,255,255),aquamarine:new RGBA(127,255,212),azure:new RGBA(240,255,255),beige:new RGBA(245,245,220),bisque:new RGBA(255,228,196),black:new RGBA(0,0,0),blanchedalmond:new RGBA(255,235,205),blue:new RGBA(0,0,255),blueviolet:new RGBA(138,43,226),brown:new RGBA(165,42,42),burlywood:new RGBA(222,184,135),cadetblue:new RGBA(95,158,160),chartreuse:new RGBA(127,255,0),chocolate:new RGBA(210,105,30),coral:new RGBA(255,127,80),cornflowerblue:new RGBA(100,149,237),cornsilk:new RGBA(255,248,220),crimson:new RGBA(220,20,60),cyan:new RGBA(0,255,255),darkblue:new RGBA(0,0,139),darkcyan:new RGBA(0,139,139),darkgoldenrod:new RGBA(184,134,11),darkgray:new RGBA(169,169,169),darkgreen:new RGBA(0,100,0),darkgrey:new RGBA(169,169,169),darkkhaki:new RGBA(189,183,107),darkmagenta:new RGBA(139,0,139),darkolivegreen:new RGBA(85,107,47),darkorange:new RGBA(255,140,0),darkorchid:new RGBA(153,50,204),darkred:new RGBA(139,0,0),darksalmon:new RGBA(233,150,122),darkseagreen:new RGBA(143,188,143),darkslateblue:new RGBA(72,61,139),darkslategray:new RGBA(47,79,79),darkslategrey:new RGBA(47,79,79),darkturquoise:new RGBA(0,206,209),darkviolet:new RGBA(148,0,211),deeppink:new RGBA(255,20,147),deepskyblue:new RGBA(0,191,255),dimgray:new RGBA(105,105,105),dimgrey:new RGBA(105,105,105),dodgerblue:new RGBA(30,144,255),firebrick:new RGBA(178,34,34),floralwhite:new RGBA(255,250,240),forestgreen:new RGBA(34,139,34),fuchsia:new RGBA(255,0,255),gainsboro:new RGBA(220,220,220),ghostwhite:new RGBA(248,248,255),gold:new RGBA(255,215,0),goldenrod:new RGBA(218,165,32),gray:new RGBA(128,128,128),grey:new RGBA(128,128,128),green:new RGBA(0,128,0),greenyellow:new RGBA(173,255,47),honeydew:new RGBA(240,255,240),hotpink:new RGBA(255,105,180),indianred:new RGBA(205,92,92),indigo:new RGBA(75,0,130),ivory:new RGBA(255,255,240),khaki:new RGBA(240,230,140),lavender:new RGBA(230,230,250),lavenderblush:new RGBA(255,240,245),lawngreen:new RGBA(124,252,0),lemonchiffon:new RGBA(255,250,205),lightblue:new RGBA(173,216,230),lightcoral:new RGBA(240,128,128),lightcyan:new RGBA(224,255,255),lightgoldenrodyellow:new RGBA(250,250,210),lightgray:new RGBA(211,211,211),lightgreen:new RGBA(144,238,144),lightgrey:new RGBA(211,211,211),lightpink:new RGBA(255,182,193),lightsalmon:new RGBA(255,160,122),lightseagreen:new RGBA(32,178,170),lightskyblue:new RGBA(135,206,250),lightslategray:new RGBA(119,136,153),lightslategrey:new RGBA(119,136,153),lightsteelblue:new RGBA(176,196,222),lightyellow:new RGBA(255,255,224),lime:new RGBA(0,255,0),limegreen:new RGBA(50,205,50),linen:new RGBA(250,240,230),magenta:new RGBA(255,0,255),maroon:new RGBA(128,0,0),mediumaquamarine:new RGBA(102,205,170),mediumblue:new RGBA(0,0,205),mediumorchid:new RGBA(186,85,211),mediumpurple:new RGBA(147,112,219),mediumseagreen:new RGBA(60,179,113),mediumslateblue:new RGBA(123,104,238),mediumspringgreen:new RGBA(0,250,154),mediumturquoise:new RGBA(72,209,204),mediumvioletred:new RGBA(199,21,133),midnightblue:new RGBA(25,25,112),mintcream:new RGBA(245,255,250),mistyrose:new RGBA(255,228,225),moccasin:new RGBA(255,228,181),navajowhite:new RGBA(255,222,173),navy:new RGBA(0,0,128),oldlace:new RGBA(253,245,230),olive:new RGBA(128,128,0),olivedrab:new RGBA(107,142,35),orange:new RGBA(255,165,0),orangered:new RGBA(255,69,0),orchid:new RGBA(218,112,214),palegoldenrod:new RGBA(238,232,170),palegreen:new RGBA(152,251,152),paleturquoise:new RGBA(175,238,238),palevioletred:new RGBA(219,112,147),papayawhip:new RGBA(255,239,213),peachpuff:new RGBA(255,218,185),peru:new RGBA(205,133,63),pink:new RGBA(255,192,203),plum:new RGBA(221,160,221),powderblue:new RGBA(176,224,230),purple:new RGBA(128,0,128),red:new RGBA(255,0,0),rosybrown:new RGBA(188,143,143),royalblue:new RGBA(65,105,225),saddlebrown:new RGBA(139,69,19),salmon:new RGBA(250,128,114),sandybrown:new RGBA(244,164,96),seagreen:new RGBA(46,139,87),seashell:new RGBA(255,245,238),sienna:new RGBA(160,82,45),silver:new RGBA(192,192,192),skyblue:new RGBA(135,206,235),slateblue:new RGBA(106,90,205),slategray:new RGBA(112,128,144),slategrey:new RGBA(112,128,144),snow:new RGBA(255,250,250),springgreen:new RGBA(0,255,127),steelblue:new RGBA(70,130,180),tan:new RGBA(210,180,140),teal:new RGBA(0,128,128),thistle:new RGBA(216,191,216),tomato:new RGBA(255,99,71),transparent:new RGBA(0,0,0,0),turquoise:new RGBA(64,224,208),violet:new RGBA(238,130,238),wheat:new RGBA(245,222,179),white:new RGBA(255,255,255),whitesmoke:new RGBA(245,245,245),yellow:new RGBA(255,255,0),yellowgreen:new RGBA(154,205,50)};'),
jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/filter.js",'jsio("import ui.Color as Color"),jsio("import ui.resource.Image as Image"),exports.Filter=__class__;var Filter=exports.Filter=exports.Filter(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){this._color=new Color(t),this._type=t.type||"",this._views=[]},this.get=function(){var t=this._color.get();return t.type=this._type,t.priority=0,t},this.getType=function(){return this._type},this.update=function(t){t=t||this.get(),this._color.update(t),this._type=void 0!==t.type?t.type:this._type;for(var t=this._views,i=0,e=t.length;e>i;i++){var s=t[i];s.__view.filterColor=this.getColorString(),s.__view.filterType=Filter.TYPES[this.getType()]||0}},this.setView=function(t){var i=this._views;-1===i.indexOf(t)&&i.push(t)},this.removeView=function(t){var i=this._views,t=i.indexOf(t);-1!==t&&i.splice(t,1)},this.getColorString=function(){return this._color.toString()}});Filter.TYPES={None:0,LinearAdd:1,Multiply:2,Tint:3},exports.LinearAddFilter=__class__,exports.LinearAddFilter=exports.LinearAddFilter(function(){return this.init&&this.init.apply(this,arguments)},Filter,function(t){this.init=function(){t(this,"init",arguments),this._type="LinearAdd"}}),exports.TintFilter=__class__,exports.TintFilter=exports.TintFilter(function(){return this.init&&this.init.apply(this,arguments)},Filter,function(t){this.init=function(){t(this,"init",arguments),this._type="Tint"}}),exports.MultiplyFilter=__class__,exports.MultiplyFilter=exports.MultiplyFilter(function(){return this.init&&this.init.apply(this,arguments)},Filter,function(t){this.init=function(){t(this,"init",arguments),this._type="Multiply"}}),exports.PositiveMaskFilter=__class__,exports.PositiveMaskFilter=exports.PositiveMaskFilter(function(){return this.init&&this.init.apply(this,arguments)},Filter,function(t){this.init=function(i){t(this,"init",arguments),this._type="PositiveMask",i.image&&(this._mask=new Image({url:i.image}))},this.getMask=function(){return this._mask}}),exports.NegativeMaskFilter=__class__,exports.NegativeMaskFilter=exports.NegativeMaskFilter(function(){return this.init&&this.init.apply(this,arguments)},Filter,function(t){this.init=function(i){t(this,"init",arguments),this._type="NegativeMask",i.image&&(this._mask=new Image({url:i.image}))},this.getMask=function(){return this._mask}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/dev_error.js",'function render(e,n){function o(n){e.fillText(n,r,t),t+=20}e.fillStyle="rgb(0, 0, 255)",e.fillRect(0,0,e.canvas.width,e.canvas.height);var r=30,t=40;e.fillStyle="#FFF",e.font=\'bold 12px Monaco,"Bitstream Vera Sans Mono","Lucida Console",Terminal,monospace\',o(n.message),t+=40,n.stack.split("\\n").map(o)}exports.render=function(e){logger.ERROR&&console.error("ERROR",".dev_error","unhandled tick exception"),logger.ERROR&&console.error("ERROR",".dev_error",e.stack);for(var n,o=document.getElementsByTagName("canvas"),r=0;n=o[r];++r)render(n.getContext("2d"),e)};'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/FlashAPI.js",'jsio("import lib.PubSub"),jsio("import .SoundManager"),jsio("from util.underscore import _");var soundManager=new SoundManager;soundManager.url="media/swf",soundManager.flashVersion=9,soundManager.useMovieStar=!0,soundManager.debugMode=!1,soundManager.consoleOnly=!0,soundManager.useHighPerformance=!0,soundManager.useFastPolling=!0;var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_FlashAPI=__class__,AudioAPI=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_FlashAPI(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(n){this.init=function(s){s=merge(s,{map:{},background:[]}),n(this,"init",[s]),this._map={},_.each(s.background,function(n){s.map[n]={name:n}},this),soundManager.onready(bind(this,function(){logger.LOG&&console.log("LOG",".FlashAPI","SoundManager onReady");for(key in s.map)logger.LOG&&console.log("LOG",".FlashAPI","SoundManager key: ",key),(this._map[key]=soundManager.createSound({id:key,bufferTime:3,url:"media/audio/"+key+".mp3"})).load();this.publish("Ready")}))},this.canPlay=function(n){return n in this._map},this.setVolume=function(n){this._soundPlaying&&soundManager.setVolume(this._soundPlaying,n),this._backgroundSoundPlaying&&soundManager.setVolume(this._backgroundSoundPlaying,n)},this.setMuted=function(n){(this.muted=n)&&this.setVolume(0)},this.play=function(n,s){this.canPlay(n)&&!this.muted&&(void 0===s&&(s=1),this._soundPlaying=n,this._map[n].setVolume(100*s|0),this._map[n].play())},this.pause=function(){this._map[this._soundPlaying].pause(),this._soundPlaying=null},this.playBackgroundMusic=function(n,s){this.canPlay(n)&&!this.muted&&(void 0===s&&(s=1),this._backgroundSoundPlaying=n,this._map[n].setVolume(100*s|0),this._map[n].play())},this.pauseBackgroundMusic=function(){this._backgroundSoundPlaying&&(this._map[this._backgroundSoundPlaying].pause(),this._backgroundSoundPlaying=null)}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/SoundManager.js",'var SoundManager=exports=function(e,t){function n(e){return function(t){return this._t&&this._t._a?e.call(this,t):(Y._wD(this._t&&this._t.sID?Z+"ignoring "+t.type+": "+this._t.sID:Z+"ignoring "+t.type),null)}}this.flashVersion=8,this.debugMode=!0,this.debugFlash=!1,this.useConsole=!0,this.waitForWindowLoad=this.consoleOnly=!1,this.nullURL="about:blank",this.allowPolling=!0,this.useFastPolling=!1,this.useMovieStar=!0,this.bgColor="#ffffff",this.useHighPerformance=!1,this.flashPollingInterval=null,this.flashLoadTimeout=1e3,this.wmode=null,this.allowScriptAccess="always",this.useFlashBlock=!1,this.useHTML5Audio=!0,this.html5Test=/^(probably|maybe)$/i,this.preferFlash=!0,this.audioFormats={mp3:{type:[\'audio/mpeg; codecs="mp3"\',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a"],type:[\'audio/mp4; codecs="mp4a.40.2"\',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:[\'audio/wav; codecs="1"\',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.defaultOptions={autoLoad:!1,stream:!0,autoPlay:!1,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onstop:null,onfailure:null,onfinish:null,onbeforefinish:null,onbeforefinishtime:5e3,onbeforefinishcomplete:null,onjustbeforefinish:null,onjustbeforefinishtime:200,multiShot:!0,multiShotEvents:!1,position:null,pan:0,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.version=null,this.versionNumber="V2.97a.20110801",this.movieURL=null,this.url=e||null,this.altURL=null,this.enabled=this.swfLoaded=!1,this.o=null,this.movieID="sm2-container",this.id=t||"sm2movie",this.swfCSS={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.didFlashBlock=this.specialWmodeCase=!1,this.filePattern=null,this.filePatterns={flash8:/\\.mp3(\\?.*)?$/i,flash9:/\\.mp3(\\?.*)?$/i},this.baseMimeTypes=/^\\s*audio\\/(?:x-)?(?:mp(?:eg|3))\\s*(?:$|;)/i,this.netStreamMimeTypes=/^\\s*audio\\/(?:x-)?(?:mp(?:eg|3))\\s*(?:$|;)/i,this.netStreamTypes="aac flv mov mp4 m4v f4v m4a mp4v 3gp 3g2".split(" "),this.netStreamPattern=RegExp("\\\\.("+this.netStreamTypes.join("|")+")(\\\\?.*)?$","i"),this.mimePattern=this.baseMimeTypes,this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.hasHTML5="undefined"!=typeof Audio&&"undefined"!=typeof(new Audio).canPlayType,this.html5={usingFlash:null},this.flash={},this.ignoreFlash=this.html5Only=!1;var o,i,a,s,r,l,u,d,f,h,c,p,m,_,g,y,w,M,v,D,S,b,O,L,T,P,F,I,C,H,E,k,x,A,R,U,N,B,j,W,q,V,J,K,Q,$,X,z,G,Y=this,Z="HTML5::",ee=navigator.userAgent,te=window,ne=te.location.href.toString(),oe=this.flashVersion,ie=document,ae=[],se=!0,re=!1,le=!1,ue=!1,de=!1,fe=!1,he=0,ce=["log","info","warn","error"],pe=null,me=null,_e=!1,ge=!1,ye=null,we=Array.prototype.slice,Me=!1,ve=ee.match(/(ipad|iphone|ipod)/i),De=ee.match(/(mobile|pre\\/|xoom)/i)||ve,Se=ee.match(/msie/i),be=ee.match(/webkit/i),Oe=ee.match(/safari/i)&&!ee.match(/chrome/i),Le=ee.match(/opera/i),Te=!ne.match(/usehtml5audio/i)&&!ne.match(/sm2\\-ignorebadua/i)&&Oe&&ee.match(/OS X 10_6_([3-7])/i),Pe="undefined"!=typeof console&&"undefined"!=typeof console.log,Fe="undefined"!=typeof ie.hasFocus?ie.hasFocus():null,Ie=Oe&&"undefined"==typeof ie.hasFocus,Ce=!Ie,He=/(mp3|mp4|mpa)/i,Ee=ie.location?ie.location.protocol.match(/http/i):null,ke=Ee?"":"http:";this.useAltURL=!Ee,this._global_a=null,De&&(Y.useHTML5Audio=!0,Y.preferFlash=!1,ve&&(Me=Y.ignoreFlash=!0)),this.supported=this.ok=function(){return ye?ue&&!de:Y.useHTML5Audio&&Y.hasHTML5},this.getMovie=function(e){return Se?te[e]:Oe?i(e)||ie[e]:i(e)},this.createSound=function(e){function t(){return n=k(n),Y.sounds[a.id]=new o(a),Y.soundIDs.push(a.id),Y.sounds[a.id]}var n=null,i=null,a=null;return ue&&Y.ok()?(2===arguments.length&&(e={id:arguments[0],url:arguments[1]}),a=n=d(e),a.id.toString().charAt(0).match(/^[0-9]$/)&&Y._wD("soundManager.createSound(): "+I("badID",a.id),2),Y._wD("soundManager.createSound(): "+a.id+" ("+a.url+")",1),R(a.id,!0)?(Y._wD("soundManager.createSound(): "+a.id+" exists",1),Y.sounds[a.id]):(j(a)?(i=t(),Y._wD("Loading sound "+a.id+" via HTML5"),i._setup_html5(a)):(oe>8&&Y.useMovieStar&&(null===a.isMovieStar&&(a.isMovieStar=a.serverURL||a.type&&a.type.match(Y.netStreamPattern)||a.url.match(Y.netStreamPattern)?!0:!1),a.isMovieStar&&Y._wD("soundManager.createSound(): using MovieStar handling"),a.isMovieStar&&(a.usePeakData&&(l("noPeak"),a.usePeakData=!1),a.loops>1&&l("noNSLoop"))),a=x(a,"soundManager.createSound(): "),i=t(),8===oe?Y.o._createSound(a.id,a.onjustbeforefinishtime,a.loops||1,a.usePolicyFile):(Y.o._createSound(a.id,a.url,a.onjustbeforefinishtime,a.usePeakData,a.useWaveformData,a.useEQData,a.isMovieStar,a.isMovieStar?a.bufferTime:!1,a.loops||1,a.serverURL,a.duration||null,a.autoPlay,!0,a.autoLoad,a.usePolicyFile),a.serverURL||(i.connected=!0,a.onconnect&&a.onconnect.apply(i))),!a.serverURL&&(a.autoLoad||a.autoPlay)&&i.load(a)),!a.serverURL&&a.autoPlay&&i.play(),i)):(A("soundManager.createSound(): "+I(ue?"notOK":"notReady")),!1)},this.destroySound=function(e,t){if(!R(e))return!1;var n,o=Y.sounds[e];for(o._iO={},o.stop(),o.unload(),n=0;n<Y.soundIDs.length;n++)if(Y.soundIDs[n]===e){Y.soundIDs.splice(n,1);break}return t||o.destruct(!0),delete Y.sounds[e],!0},this.load=function(e,t){return R(e)?Y.sounds[e].load(t):!1},this.unload=function(e){return R(e)?Y.sounds[e].unload():!1},this.start=this.play=function(e,t){return ue&&Y.ok()?R(e)?Y.sounds[e].play(t):(t instanceof Object||(t={url:t}),t&&t.url?(Y._wD(\'soundManager.play(): attempting to create "\'+e+\'"\',1),t.id=e,Y.createSound(t).play()):!1):(A("soundManager.play(): "+I(ue?"notOK":"notReady")),!1)},this.setPosition=function(e,t){return R(e)?Y.sounds[e].setPosition(t):!1},this.stop=function(e){return R(e)?(Y._wD("soundManager.stop("+e+")",1),Y.sounds[e].stop()):!1},this.stopAll=function(){var e;Y._wD("soundManager.stopAll()",1);for(e in Y.sounds)Y.sounds.hasOwnProperty(e)&&Y.sounds[e].stop()},this.pause=function(e){return R(e)?Y.sounds[e].pause():!1},this.pauseAll=function(){var e;for(e=Y.soundIDs.length;e--;)Y.sounds[Y.soundIDs[e]].pause()},this.resume=function(e){return R(e)?Y.sounds[e].resume():!1},this.resumeAll=function(){var e;for(e=Y.soundIDs.length;e--;)Y.sounds[Y.soundIDs[e]].resume()},this.togglePause=function(e){return R(e)?Y.sounds[e].togglePause():!1},this.setPan=function(e,t){return R(e)?Y.sounds[e].setPan(t):!1},this.setVolume=function(e,t){return R(e)?Y.sounds[e].setVolume(t):!1},this.mute=function(e){var t=0;if("string"!=typeof e&&(e=null),e)return R(e)?(Y._wD(\'soundManager.mute(): Muting "\'+e+\'"\'),Y.sounds[e].mute()):!1;for(Y._wD("soundManager.mute(): Muting all sounds"),t=Y.soundIDs.length;t--;)Y.sounds[Y.soundIDs[t]].mute();return Y.muted=!0},this.muteAll=function(){Y.mute()},this.unmute=function(e){if("string"!=typeof e&&(e=null),e)return R(e)?(Y._wD(\'soundManager.unmute(): Unmuting "\'+e+\'"\'),Y.sounds[e].unmute()):!1;for(Y._wD("soundManager.unmute(): Unmuting all sounds"),e=Y.soundIDs.length;e--;)Y.sounds[Y.soundIDs[e]].unmute();return Y.muted=!1,!0},this.unmuteAll=function(){Y.unmute()},this.toggleMute=function(e){return R(e)?Y.sounds[e].toggleMute():!1},this.getMemoryUse=function(){var e=0;return Y.o&&8!==oe&&(e=parseInt(Y.o._getMemoryUse(),10)),e},this.disable=function(e){var t;if("undefined"==typeof e&&(e=!1),de)return!1;for(de=!0,l("shutdown",1),t=Y.soundIDs.length;t--;)T(Y.sounds[Y.soundIDs[t]]);return u(e),K.remove(te,"load",c),!0},this.canPlayMIME=function(e){var t;return Y.hasHTML5&&(t=W({type:e})),!ye||t?t:e?e.match(Y.mimePattern)?!0:!1:null},this.canPlayURL=function(e){var t;return Y.hasHTML5&&(t=W({url:e})),!ye||t?t:e?e.match(Y.filePattern)?!0:!1:null},this.canPlayLink=function(e){return"undefined"!=typeof e.type&&e.type&&Y.canPlayMIME(e.type)?!0:Y.canPlayURL(e.href)},this.getSoundById=function(e,t){if(!e)throw Error("soundManager.getSoundById(): sID is null/undefined");var n=Y.sounds[e];return!n&&!t&&Y._wD(\'"\'+e+\'" is an invalid sound ID.\',2),n},this.onready=function(e,t){if(e&&e instanceof Function)return ue&&Y._wD(I("queue","onready")),t||(t=te),f("onready",e,t),h(),!0;throw I("needFunction","onready")},this.ontimeout=function(e,t){if(e&&e instanceof Function)return ue&&Y._wD(I("queue","ontimeout")),t||(t=te),f("ontimeout",e,t),h({type:"ontimeout"}),!0;throw I("needFunction","ontimeout")},this._wD=this._writeDebug=function(e,t,n){var o,a;if(!Y.debugMode)return!1;if("undefined"!=typeof n&&n&&(e=e+" | "+(new Date).getTime()),Pe&&Y.useConsole&&(n=ce[t],"undefined"!=typeof console[n]?console[n](e):console.log(e),Y.useConsoleOnly))return!0;try{if(o=i("soundmanager-debug"),!o)return!1;a=ie.createElement("div"),++he%2===0&&(a.className="sm2-alt"),t="undefined"==typeof t?0:parseInt(t,10),a.appendChild(ie.createTextNode(e)),t&&(t>=2&&(a.style.fontWeight="bold"),3===t&&(a.style.color="#ff3333")),o.insertBefore(a,o.firstChild)}catch(s){}return!0},this._debug=function(){var e,t;for(l("currentObj",1),e=0,t=Y.soundIDs.length;t>e;e++)Y.sounds[Y.soundIDs[e]]._debug()},this.reboot=function(){Y._wD("soundManager.reboot()"),Y.soundIDs.length&&Y._wD("Destroying "+Y.soundIDs.length+" SMSound objects...");var e,t;for(e=Y.soundIDs.length;e--;)Y.sounds[Y.soundIDs[e]].destruct();try{Se&&(me=Y.o.innerHTML),pe=Y.o.parentNode.removeChild(Y.o),Y._wD("Flash movie removed.")}catch(n){l("badRemove",2)}me=pe=ye=null,Y.enabled=v=ue=_e=ge=re=le=de=Y.swfLoaded=!1,Y.soundIDs=Y.sounds=[],Y.o=null;for(e in ae)if(ae.hasOwnProperty(e))for(t=ae[e].length;t--;)ae[e][t].fired=!1;Y._wD("soundManager: Rebooting..."),te.setTimeout(Y.beginDelayedInit,20)},this.getMoviePercent=function(){return Y.o&&"undefined"!=typeof Y.o.PercentLoaded?Y.o.PercentLoaded():null},this.beginDelayedInit=function(){fe=!0,M(),setTimeout(function(){return ge?!1:(S(),w(),ge=!0)},20),p()},this.destruct=function(){Y._wD("soundManager.destruct()"),Y.disable(!0)},z={abort:n(function(){Y._wD(Z+"abort: "+this._t.sID)}),canplay:n(function(){if(this._t._html5_canplay)return!0;this._t._html5_canplay=!0,Y._wD(Z+"canplay: "+this._t.sID+", "+this._t.url),this._t._onbufferchange(0);var e=isNaN(this._t.position)?null:this._t.position/1e3;if(this._t.position&&this.currentTime!==e){Y._wD(Z+"canplay: setting position to "+e);try{this.currentTime=e}catch(t){Y._wD(Z+"setting position failed: "+t.message,2)}}}),load:n(function(){this._t.loaded||(this._t._onbufferchange(0),this._t._whileloading(this._t.bytesTotal,this._t.bytesTotal,this._t._get_html5_duration()),this._t._onload(!0))}),emptied:n(function(){Y._wD(Z+"emptied: "+this._t.sID)}),ended:n(function(){Y._wD(Z+"ended: "+this._t.sID),this._t._onfinish()}),error:n(function(){Y._wD(Z+"error: "+this.error.code),this._t._onload(!1)}),loadeddata:n(function(){var e=this._t,t=e.bytesTotal||1;Y._wD(Z+"loadeddata: "+this._t.sID),e._loaded||Oe||(e.duration=e._get_html5_duration(),e._whileloading(t,t,e._get_html5_duration()),e._onload(!0))}),loadedmetadata:n(function(){Y._wD(Z+"loadedmetadata: "+this._t.sID)}),loadstart:n(function(){Y._wD(Z+"loadstart: "+this._t.sID),this._t._onbufferchange(1)}),play:n(function(){Y._wD(Z+"play: "+this._t.sID+", "+this._t.url),this._t._onbufferchange(0)}),playing:n(function(){Y._wD(Z+"playing: "+this._t.sID+", "+this._t.url),this._t._onbufferchange(0)}),progress:n(function(e){if(this._t.loaded)return!1;var t,n,o;o=0;var i="progress"===e.type;n=e.target.buffered;var a=e.loaded||0,s=e.total||1;if(n&&n.length){for(t=n.length;t--;)o=n.end(t)-n.start(t);if(a=o/e.target.duration,i&&n.length>1){for(o=[],n=n.length,t=0;n>t;t++)o.push(e.target.buffered.start(t)+"-"+e.target.buffered.end(t));Y._wD(Z+"progress: timeRanges: "+o.join(", "))}i&&!isNaN(a)&&Y._wD(Z+"progress: "+this._t.sID+": "+Math.floor(100*a)+"% loaded")}isNaN(a)||(this._t._onbufferchange(0),this._t._whileloading(a,s,this._t._get_html5_duration()),a&&s&&a===s&&z.load.call(this,e))}),ratechange:n(function(){Y._wD(Z+"ratechange: "+this._t.sID)}),suspend:n(function(e){Y._wD(Z+"suspend: "+this._t.sID),z.progress.call(this,e)}),stalled:n(function(){Y._wD(Z+"stalled: "+this._t.sID)}),timeupdate:n(function(){this._t._onTimer()}),waiting:n(function(){Y._wD(Z+"waiting: "+this._t.sID),this._t._onbufferchange(1)})},o=function(e){var t,n,o,i=this;this.sID=e.id,this.url=e.url,this._iO=this.instanceOptions=this.options=d(e),this.pan=this.options.pan,this.volume=this.options.volume,this._lastURL=null,this.isHTML5=!1,this._a=null,this.id3={},this._debug=function(){if(Y.debugMode){var e,t,n=null,o=[];for(n in i.options)null!==i.options[n]&&(i.options[n]instanceof Function?(e=i.options[n].toString(),e=e.replace(/\\s\\s+/g," "),t=e.indexOf("{"),o.push(" "+n+": {"+e.substr(t+1,Math.min(Math.max(e.indexOf("\\n")-1,64),64)).replace(/\\n/g,"")+"... }")):o.push(" "+n+": "+i.options[n]));Y._wD("SMSound() merged options: {\\n"+o.join(", \\n")+"\\n}")}},this._debug(),this.load=function(e){var t=null;if("undefined"!=typeof e?(i._iO=d(e,i.options),i.instanceOptions=i._iO):(e=i.options,i._iO=e,i.instanceOptions=i._iO,i._lastURL&&i._lastURL!==i.url&&(l("manURL"),i._iO.url=i.url,i.url=null)),i._iO.url||(i._iO.url=i.url),Y._wD("SMSound.load(): "+i._iO.url,1),i._iO.url===i.url&&0!==i.readyState&&2!==i.readyState)return l("onURL",1),i;if(i._lastURL=i.url,i.loaded=!1,i.readyState=1,i.playState=0,j(i._iO))t=i._setup_html5(i._iO),t._called_load?Y._wD(Z+"ignoring request to load again: "+i.sID):(Y._wD(Z+"load: "+i.sID),i._html5_canplay=!1,t.load(),t._called_load=!0,i._iO.autoPlay&&i.play());else try{i.isHTML5=!1,i._iO=x(k(i._iO)),8===oe?Y.o._load(i.sID,i._iO.url,i._iO.stream,i._iO.autoPlay,i._iO.whileloading?1:0,i._iO.loops||1,i._iO.usePolicyFile):Y.o._load(i.sID,i._iO.url,i._iO.stream?!0:!1,i._iO.autoPlay?!0:!1,i._iO.loops||1,i._iO.autoLoad?!0:!1,i._iO.usePolicyFile)}catch(n){l("smError",2),r("onload",!1),b({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}return i},this.unload=function(){return 0!==i.readyState&&(Y._wD(\'SMSound.unload(): "\'+i.sID+\'"\'),i.isHTML5?(n(),i._a&&(i._a.pause(),i._a.src="")):8===oe?Y.o._unload(i.sID,Y.nullURL):Y.o._unload(i.sID),t()),i},this.destruct=function(e){Y._wD(\'SMSound.destruct(): "\'+i.sID+\'"\'),i.isHTML5?(n(),i._a&&(i._a.pause(),i._a.src="",Me||i._remove_html5_events(),i._a._t=null,i._a=null)):(i._iO.onfailure=null,Y.o._destroySound(i.sID)),e||Y.destroySound(i.sID,!0)},this.start=this.play=function(e,t){var n,t=void 0===t?!0:t;if(e||(e={}),i._iO=d(e,i._iO),i._iO=d(i._iO,i.options),i.instanceOptions=i._iO,i._iO.serverURL&&!i.connected)return i.getAutoPlay()||(Y._wD("SMSound.play():  Netstream not connected yet - setting autoPlay"),i.setAutoPlay(!0)),i;if(j(i._iO)&&(i._setup_html5(i._iO),o()),1===i.playState&&!i.paused){if(!(n=i._iO.multiShot))return Y._wD(\'SMSound.play(): "\'+i.sID+\'" already playing (one-shot)\',1),i;Y._wD(\'SMSound.play(): "\'+i.sID+\'" already playing (multi-shot)\',1)}if(i.loaded)Y._wD(\'SMSound.play(): "\'+i.sID+\'"\');else if(0===i.readyState)Y._wD(\'SMSound.play(): Attempting to load "\'+i.sID+\'"\',1),i.isHTML5||(i._iO.autoPlay=!0),i.load(i._iO);else{if(2===i.readyState)return Y._wD(\'SMSound.play(): Could not load "\'+i.sID+\'" - exiting\',2),i;Y._wD(\'SMSound.play(): "\'+i.sID+\'" is loading - attempting to play..\',1)}return!i.isHTML5&&9===oe&&i.position>0&&i.position===i.duration&&(Y._wD(\'SMSound.play(): "\'+i.sID+\'": Sound at end, resetting to position:0\'),i._iO.position=0),i.paused&&i.position&&i.position>0?(Y._wD(\'SMSound.play(): "\'+i.sID+\'" is resuming from paused state\',1),i.resume()):(Y._wD(\'SMSound.play(): "\'+i.sID+\'" is starting to play\'),i.playState=1,i.paused=!1,(!i.instanceCount||i._iO.multiShotEvents||!i.isHTML5&&oe>8&&!i.getAutoPlay())&&i.instanceCount++,i.position="undefined"==typeof i._iO.position||isNaN(i._iO.position)?0:i._iO.position,i.isHTML5||(i._iO=x(k(i._iO))),i._iO.onplay&&t&&(i._iO.onplay.apply(i),i._onplay_called=!0),i.setVolume(i._iO.volume,!0),i.setPan(i._iO.pan,!0),i.isHTML5?(o(),n=i._setup_html5(),i.setPosition(i._iO.position),n.play()):Y.o._start(i.sID,i._iO.loops||1,9===oe?i._iO.position:i._iO.position/1e3)),i},this.stop=function(e){return 1===i.playState&&(i._onbufferchange(0),i.resetOnPosition(0),i.isHTML5||(i.playState=0),i.paused=!1,i._iO.onstop&&i._iO.onstop.apply(i),i.isHTML5?i._a&&(i.setPosition(0),i._a.pause(),i.playState=0,i._onTimer(),n(),i.unload()):(Y.o._stop(i.sID,e),i._iO.serverURL&&i.unload()),i.instanceCount=0,i._iO={}),i},this.setAutoPlay=function(e){Y._wD("sound "+i.sID+" turned autoplay "+(e?"on":"off")),i._iO.autoPlay=e,i.isHTML5||(Y.o._setAutoPlay(i.sID,e),e&&!i.instanceCount&&1===i.readyState&&(i.instanceCount++,Y._wD("sound "+i.sID+" incremented instance count to "+i.instanceCount)))},this.getAutoPlay=function(){return i._iO.autoPlay},this.setPosition=function(e){void 0===e&&(e=0);var t=i.isHTML5?Math.max(e,0):Math.min(i.duration||i._iO.duration,Math.max(e,0));if(i.position=t,e=i.position/1e3,i.resetOnPosition(i.position),i._iO.position=t,i.isHTML5){if(i._a)if(i._html5_canplay){if(i._a.currentTime!==e){Y._wD("setPosition("+e+"): setting position");try{i._a.currentTime=e,(0===i.playState||i.paused)&&i._a.pause()}catch(n){Y._wD("setPosition("+e+"): setting position failed: "+n.message,2)}}}else Y._wD("setPosition("+e+"): delaying, sound not ready")}else e=9===oe?i.position:e,i.readyState&&2!==i.readyState&&Y.o._setPosition(i.sID,e,i.paused||!i.playState);return i.isHTML5&&i.paused&&i._onTimer(!0),i},this.pause=function(e){return i.paused||0===i.playState&&1!==i.readyState?i:(Y._wD("SMSound.pause()"),i.paused=!0,i.isHTML5?(i._setup_html5().pause(),n()):(e||void 0===e)&&Y.o._pause(i.sID),i._iO.onpause&&i._iO.onpause.apply(i),i)},this.resume=function(){return i.paused?(Y._wD("SMSound.resume()"),i.paused=!1,i.playState=1,i.isHTML5?(i._setup_html5().play(),o()):(i._iO.isMovieStar&&i.setPosition(i.position),Y.o._pause(i.sID)),!i._onplay_called&&i._iO.onplay?(i._iO.onplay.apply(i),i._onplay_called=!0):i._iO.onresume&&i._iO.onresume.apply(i),i):i},this.togglePause=function(){return Y._wD("SMSound.togglePause()"),0===i.playState?(i.play({position:9!==oe||i.isHTML5?i.position/1e3:i.position}),i):(i.paused?i.resume():i.pause(),i)},this.setPan=function(e,t){return"undefined"==typeof e&&(e=0),"undefined"==typeof t&&(t=!1),i.isHTML5||Y.o._setPan(i.sID,e),i._iO.pan=e,t||(i.pan=e,i.options.pan=e),i},this.setVolume=function(e,t){return"undefined"==typeof e&&(e=100),"undefined"==typeof t&&(t=!1),i.isHTML5?i._a&&(i._a.volume=Math.max(0,Math.min(1,e/100))):Y.o._setVolume(i.sID,Y.muted&&!i.muted||i.muted?0:e),i._iO.volume=e,t||(i.volume=e,i.options.volume=e),i},this.mute=function(){return i.muted=!0,i.isHTML5?i._a&&(i._a.muted=!0):Y.o._setVolume(i.sID,0),i},this.unmute=function(){i.muted=!1;var e="undefined"!=typeof i._iO.volume;return i.isHTML5?i._a&&(i._a.muted=!1):Y.o._setVolume(i.sID,e?i._iO.volume:i.options.volume),i},this.toggleMute=function(){return i.muted?i.unmute():i.mute()},this.onposition=function(e,t,n){return i._onPositionItems.push({position:e,method:t,scope:"undefined"!=typeof n?n:i,fired:!1}),i},this.processOnPosition=function(){var e,t;if(e=i._onPositionItems.length,!e||!i.playState||i._onPositionFired>=e)return!1;for(;e--;)t=i._onPositionItems[e],!t.fired&&i.position>=t.position&&(t.method.apply(t.scope,[t.position]),t.fired=!0,Y._onPositionFired++);return!0},this.resetOnPosition=function(e){var t,n;if(t=i._onPositionItems.length,!t)return!1;for(;t--;)n=i._onPositionItems[t],n.fired&&e<=n.position&&(n.fired=!1,Y._onPositionFired--);return!0},o=function(){i.isHTML5&&U(i)},n=function(){i.isHTML5&&N(i)},t=function(){i._onPositionItems=[],i._onPositionFired=0,i._hasTimer=null,i._onplay_called=!1,i._a=null,i._html5_canplay=!1,i.bytesLoaded=null,i.bytesTotal=null,i.position=null,i.duration=i._iO&&i._iO.duration?i._iO.duration:null,i.durationEstimate=null,i.failures=0,i.loaded=!1,i.playState=0,i.paused=!1,i.readyState=0,i.muted=!1,i.didBeforeFinish=!1,i.didJustBeforeFinish=!1,i.isBuffering=!1,i.instanceOptions={},i.instanceCount=0,i.peakData={left:0,right:0},i.waveformData={left:[],right:[]},i.eqData=[],i.eqData.left=[],i.eqData.right=[]},t(),this._onTimer=function(e){var t={};return i._hasTimer||e?i._a&&(e||(i.playState>0||1===i.readyState)&&!i.paused)?(i.duration=i._get_html5_duration(),i.durationEstimate=i.duration,e=i._a.currentTime?1e3*i._a.currentTime:0,i._whileplaying(e,t,t,t,t),!0):(Y._wD(\'_onTimer: Warn for "\'+i.sID+\'": \'+(i._a?"":"Could not find element. ")+(0===i.playState?"playState bad, 0?":"playState = "+i.playState+", OK")),!1):void 0},this._get_html5_duration=function(){var e=i._a?1e3*i._a.duration:i._iO?i._iO.duration:void 0;return e&&!isNaN(e)&&e!==1/0?e:i._iO?i._iO.duration:null},this._setup_html5=function(e){var e=d(i._iO,e),n=Me?Y._global_a:i._a,o=decodeURI(e.url),a=n&&n._t?n._t.instanceOptions:null;if(n){if(n._t&&a.url===e.url&&(!i._lastURL||i._lastURL===a.url))return n;Y._wD("setting new URL on existing object: "+o+(i._lastURL?", old URL: "+i._lastURL:"")),Me&&n._t&&n._t.playState&&e.url!==a.url&&n._t.stop(),t(),n.src=e.url,i.url=e.url,i._lastURL=e.url,n._called_load=!1}else Y._wD("creating HTML5 Audio() element with URL: "+o),n=new Audio(e.url),n._called_load=!1,Me&&(Y._global_a=n);return i.isHTML5=!0,i._a=n,n._t=i,i._add_html5_events(),n.loop=e.loops>1?"loop":"",e.autoLoad||e.autoPlay?(n.autobuffer="auto",n.preload="auto",i.load(),n._called_load=!0):(n.autobuffer=!1,n.preload="none"),n.loop=e.loops>1?"loop":"",n},this._add_html5_events=function(){if(i._a._added_events)return!1;var e;Y._wD(Z+"adding event listeners: "+i.sID),i._a._added_events=!0;for(e in z)z.hasOwnProperty(e)&&i._a&&i._a.addEventListener(e,z[e],!1);return!0},this._remove_html5_events=function(){var e;Y._wD(Z+"removing event listeners: "+i.sID),i._a._added_events=!1;for(e in z)z.hasOwnProperty(e)&&i._a&&i._a.removeEventListener(e,z[e],!1)},this._onload=function(e){return e=e?!0:!1,Y._wD(\'SMSound._onload(): "\'+i.sID+\'"\'+(e?" loaded.":" failed to load? - "+i.url),e?1:2),e||i.isHTML5||(Y.sandbox.noRemote===!0&&Y._wD("SMSound._onload(): "+I("noNet"),1),Y.sandbox.noLocal===!0&&Y._wD("SMSound._onload(): "+I("noLocal"),1)),i.loaded=e,i.readyState=e?3:2,i._onbufferchange(0),i._iO.onload&&i._iO.onload.apply(i,[e]),!0},this._onbufferchange=function(e){return 0===i.playState||e&&i.isBuffering||!e&&!i.isBuffering?!1:(i.isBuffering=1===e,i._iO.onbufferchange&&(Y._wD("SMSound._onbufferchange(): "+e),i._iO.onbufferchange.apply(i)),!0)},this._onfailure=function(e,t,n){i.failures++,Y._wD(\'SMSound._onfailure(): "\'+i.sID+\'" count \'+i.failures),i._iO.onfailure&&1===i.failures?i._iO.onfailure(i,e,t,n):Y._wD("SMSound._onfailure(): ignoring")},this._onbeforefinish=function(){i.didBeforeFinish||(i.didBeforeFinish=!0,i._iO.onbeforefinish&&(Y._wD(\'SMSound._onbeforefinish(): "\'+i.sID+\'"\'),i._iO.onbeforefinish.apply(i)))},this._onjustbeforefinish=function(){i.didJustBeforeFinish||(i.didJustBeforeFinish=!0,i._iO.onjustbeforefinish&&(Y._wD(\'SMSound._onjustbeforefinish(): "\'+i.sID+\'"\'),i._iO.onjustbeforefinish.apply(i)))},this._onfinish=function(){var e=i._iO.onfinish;i._onbufferchange(0),i.resetOnPosition(0),i._iO.onbeforefinishcomplete&&i._iO.onbeforefinishcomplete.apply(i),i.didBeforeFinish=!1,i.didJustBeforeFinish=!1,i.instanceCount&&(i.instanceCount--,i.instanceCount||(i.playState=0,i.paused=!1,i.instanceCount=0,i.instanceOptions={},i._iO={},n()),i.instanceCount&&!i._iO.multiShotEvents||!e||(Y._wD(\'SMSound._onfinish(): "\'+i.sID+\'"\'),e.apply(i)))},this._whileloading=function(e,t,n,o){i.bytesLoaded=e,i.bytesTotal=t,i.duration=Math.floor(n),i.bufferLength=o,i._iO.isMovieStar?i.durationEstimate=i.duration:(i.durationEstimate=i._iO.duration?i.duration>i._iO.duration?i.duration:i._iO.duration:parseInt(i.bytesTotal/i.bytesLoaded*i.duration,10),void 0===i.durationEstimate&&(i.durationEstimate=i.duration)),3!==i.readyState&&i._iO.whileloading&&i._iO.whileloading.apply(i)},this._whileplaying=function(e,t,n,o,a){return isNaN(e)||null===e?!1:(i.position=e,i.processOnPosition(),!i.isHTML5&&oe>8&&(i._iO.usePeakData&&"undefined"!=typeof t&&t&&(i.peakData={left:t.leftPeak,right:t.rightPeak}),i._iO.useWaveformData&&"undefined"!=typeof n&&n&&(i.waveformData={left:n.split(","),right:o.split(",")}),i._iO.useEQData&&"undefined"!=typeof a&&a&&a.leftEQ&&(e=a.leftEQ.split(","),i.eqData=e,i.eqData.left=e,"undefined"!=typeof a.rightEQ&&a.rightEQ&&(i.eqData.right=a.rightEQ.split(",")))),1===i.playState&&(!i.isHTML5&&8===Y.flashVersion&&!i.position&&i.isBuffering&&i._onbufferchange(0),i._iO.whileplaying&&i._iO.whileplaying.apply(i),(i.loaded||!i.loaded&&i._iO.isMovieStar)&&i._iO.onbeforefinish&&i._iO.onbeforefinishtime&&!i.didBeforeFinish&&i.duration-i.position<=i._iO.onbeforefinishtime&&i._onbeforefinish()),!0)},this._onid3=function(e,t){Y._wD(\'SMSound._onid3(): "\'+this.sID+\'" ID3 data received.\');var n,o,a=[];for(n=0,o=e.length;o>n;n++)a[e[n]]=t[n];i.id3=d(i.id3,a),i._iO.onid3&&i._iO.onid3.apply(i)},this._onconnect=function(e){e=1===e,Y._wD(\'SMSound._onconnect(): "\'+i.sID+\'"\'+(e?" connected.":" failed to connect? - "+i.url),e?1:2),(i.connected=e)&&(i.failures=0,R(i.sID)&&(i.getAutoPlay()?i.play(void 0,i.getAutoPlay()):i._iO.autoLoad&&i.load()),i._iO.onconnect&&i._iO.onconnect.apply(i,[e]))},this._ondataerror=function(e){i.playState>0&&(Y._wD("SMSound._ondataerror(): "+e),i._iO.ondataerror&&i._iO.ondataerror.apply(i))}},D=function(){return ie.body||ie._docElement||ie.getElementsByTagName("div")[0]},i=function(e){return ie.getElementById(e)},d=function(e,t){var n,o,i={};for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);n="undefined"==typeof t?Y.defaultOptions:t;for(o in n)n.hasOwnProperty(o)&&"undefined"==typeof i[o]&&(i[o]=n[o]);return i},K=function(){function e(e){var e=we.call(e),t=e.length;return n?(e[1]="on"+e[1],t>3&&e.pop()):3===t&&e.push(!1),e}function t(e,t){var i=e.shift(),a=[o[t]];n?i[a](e[0],e[1]):i[a].apply(i,e)}var n=te.attachEvent,o={add:n?"attachEvent":"addEventListener",remove:n?"detachEvent":"removeEventListener"};return{add:function(){t(e(arguments),"add")},remove:function(){t(e(arguments),"remove")}}}(),j=function(e){return!e.serverURL&&(e.type?W({type:e.type}):W({url:e.url})||Y.html5Only)},W=function(e){function t(e){return Y.preferFlash&&Q&&!Y.ignoreFlash&&"undefined"!=typeof Y.flash[e]&&Y.flash[e]}if(!Y.useHTML5Audio||!Y.hasHTML5)return!1;var n,o=e.url||null,e=e.type||null,i=Y.audioFormats;if(e&&"undefined"!==Y.html5[e])return Y.html5[e]&&!t(e);if(!q){q=[];for(n in i)i.hasOwnProperty(n)&&(q.push(n),i[n].related&&(q=q.concat(i[n].related)));q=RegExp("\\\\.("+q.join("|")+")(\\\\?.*)?$","i")}if(n=o?o.toLowerCase().match(q):null,n&&n.length)n=n[1];else{if(!e)return!1;o=e.indexOf(";"),n=(-1!==o?e.substr(0,o):e).substr(6)}return n&&"undefined"!=typeof Y.html5[n]?Y.html5[n]&&!t(n):(e="audio/"+n,o=Y.html5.canPlayType({type:e}),(Y.html5[n]=o)&&Y.html5[e]&&!t(e))},J=function(){function e(e){var t,n,o=!1;if(!i||"function"!=typeof i.canPlayType)return!1;if(e instanceof Array){for(t=0,n=e.length;n>t&&!o;t++)(Y.html5[e[t]]||i.canPlayType(e[t]).match(Y.html5Test))&&(o=!0,Y.html5[e[t]]=!0,Y.flash[e[t]]=!(!Y.preferFlash||!Q||!e[t].match(He)));return o}return e=i&&"function"==typeof i.canPlayType?i.canPlayType(e):!1,!(!e||!e.match(Y.html5Test))}if(!Y.useHTML5Audio||"undefined"==typeof Audio)return!1;var t,n,o,i="undefined"!=typeof Audio?Le?new Audio(null):new Audio:null,a={};n=Y.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&(a[t]=e(n[t].type),a["audio/"+t]=a[t],Y.flash[t]=Y.preferFlash&&!Y.ignoreFlash&&t.match(He)?!0:!1,n[t]&&n[t].related))for(o=n[t].related.length;o--;)a["audio/"+n[t].related[o]]=a[t],Y.html5[n[t].related[o]]=a[t],Y.flash[n[t].related[o]]=a[t];return a.canPlayType=i?e:null,Y.html5=d(Y.html5,a),!0},y={notReady:"Not loaded yet - wait for soundManager.onload()/onready()",notOK:"Audio support is not available.",domError:"soundManager::createMovie(): appendChild/innerHTML call failed. DOM not ready or other error.",spcWmode:"soundManager::createMovie(): Removing wmode, preventing known SWF loading issue(s)",swf404:"soundManager: Verify that %s is a valid path.",tryDebug:"Try soundManager.debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:"soundManager: Non-HTTP page ("+ie.location.protocol+" URL?) Review Flash player security settings for this special case:\\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:"soundManager: Special case: Waiting for focus-related event..",waitImpatient:"soundManager: Getting impatient, still waiting for Flash%s...",waitForever:"soundManager: Waiting indefinitely for Flash (will recover if unblocked)...",needFunction:"soundManager: Function object expected for %s",badID:\'Warning: Sound ID "%s" should be a string, starting with a non-numeric character\',noMS:"MovieStar mode not enabled. Exiting.",currentObj:"--- soundManager._debug(): Current sound objects ---",waitEI:"soundManager::initMovie(): Waiting for ExternalInterface call from Flash..",waitOnload:"soundManager: Waiting for window.onload()",docLoaded:"soundManager: Document already loaded",onload:"soundManager::initComplete(): calling soundManager.onload()",onloadOK:"soundManager.onload() complete",init:"soundManager::init()",didInit:"soundManager::init(): Already called?",flashJS:"soundManager: Attempting to call Flash from JS..",noPolling:"soundManager: Polling (whileloading()/whileplaying() support) is disabled.",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:"Warning: Failed to remove flash movie.",noPeak:"Warning: peakData features unsupported for movieStar formats",shutdown:"soundManager.disable(): Shutting down",queue:"soundManager: Queueing %s handler",smFail:"soundManager: Failed to initialise.",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+Y.swfCSS.swfTimedout+" CSS..",fbLoaded:"Flash loaded",fbHandler:"soundManager::flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:"soundManager.load(): current URL already assigned.",badFV:\'soundManager.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.\',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",mfOn:"mobileFlash::enabling on-screen flash repositioning",policy:"Enabling usePolicyFile for data access"},I=function(){var e,t,n=we.call(arguments),o=n.shift(),o=y&&y[o]?y[o]:"";if(o&&n&&n.length)for(e=0,t=n.length;t>e;e++)o=o.replace("%s",n[e]);return o},k=function(e){return 8===oe&&e.loops>1&&e.stream&&(l("as2loop"),e.stream=!1),e},x=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(Y._wD((t||"")+I("policy")),e.usePolicyFile=!0),e},A=function(e){"undefined"!=typeof console&&"undefined"!=typeof console.warn?console.warn(e):Y._wD(e);\n\n},a=function(){return!1},T=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=a)},P=function(e){"undefined"==typeof e&&(e=!1),(de||e)&&(l("smFail",2),Y.disable(e))},F=function(e){var t=null;if(e)if(e.match(/\\.swf(\\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+Y.movieURL},_=function(){8!==oe&&9!==oe&&(Y._wD(I("badFV",oe,8)),Y.flashVersion=8);var e=Y.debugMode||Y.debugFlash?"_debug.swf":".swf";Y.useHTML5Audio&&!Y.html5Only&&Y.audioFormats.mp4.required&&Y.flashVersion<9&&(Y._wD(I("needfl9")),Y.flashVersion=9),oe=Y.flashVersion,Y.version=Y.versionNumber+(Y.html5Only?" (HTML5-only mode)":9===oe?" (AS3/Flash 9)":" (AS2/Flash 8)"),oe>8&&(Y.defaultOptions=d(Y.defaultOptions,Y.flash9Options),Y.features.buffering=!0),oe>8&&Y.useMovieStar?(Y.defaultOptions=d(Y.defaultOptions,Y.movieStarOptions),Y.filePatterns.flash9=RegExp("\\\\.(mp3|"+Y.netStreamTypes.join("|")+")(\\\\?.*)?$","i"),Y.mimePattern=Y.netStreamMimeTypes,Y.features.movieStar=!0):(Y.useMovieStar=!1,Y.features.movieStar=!1),Y.filePattern=Y.filePatterns[8!==oe?"flash9":"flash8"],Y.movieURL=(8===oe?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),Y.features.peakData=Y.features.waveformData=Y.features.eqData=oe>8},O=function(e,t){return Y.o&&Y.allowPolling?void Y.o._setPolling(e,t):!1},L=function(){if(Y.debugURLParam.test(ne)&&(Y.debugMode=!0),i(Y.debugID))return!1;var e,t,n,o;if(Y.debugMode&&!i(Y.debugID)&&(!Pe||!Y.useConsole||Y.useConsole&&Pe&&!Y.consoleOnly)){e=ie.createElement("div"),e.id=Y.debugID+"-toggle",t={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(ie.createTextNode("-")),e.onclick=E,e.title="Toggle SM2 debug console",ee.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand");for(o in t)t.hasOwnProperty(o)&&(e.style[o]=t[o]);if(t=ie.createElement("div"),t.id=Y.debugID,t.style.display=Y.debugMode?"block":"none",Y.debugMode&&!i(e.id)){try{n=D(),n.appendChild(e)}catch(a){throw Error(I("domError")+" \\n"+a.toString())}n.appendChild(t)}}},R=this.getSoundById,l=function(e,t){return e?Y._wD(I(e),t):""},ne.indexOf("sm2-debug=alert")+1&&Y.debugMode&&(Y._wD=function(e){window.alert(e)}),E=function(){var e=i(Y.debugID),t=i(Y.debugID+"-toggle");return e?(se?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),void(se=!se)):!1},r=function(e,t,n){if("undefined"!=typeof sm2Debugger)try{sm2Debugger.handleEvent(e,t,n)}catch(o){}return!0},H=function(){var e=[];return Y.debugMode&&e.push(Y.swfCSS.sm2Debug),Y.debugFlash&&e.push(Y.swfCSS.flashDebug),Y.useHighPerformance&&e.push(Y.swfCSS.highPerf),e.join(" ")},C=function(){var e=I("fbHandler"),t=Y.getMoviePercent(),n=Y.swfCSS,o={type:"FLASHBLOCK"};return Y.html5Only?!1:void(Y.ok()?(Y.didFlashBlock&&Y._wD(e+": Unblocked"),Y.oMC&&(Y.oMC.className=[H(),n.swfDefault,n.swfLoaded+(Y.didFlashBlock?" "+n.swfUnblocked:"")].join(" "))):(ye&&(Y.oMC.className=H()+" "+n.swfDefault+" "+(null===t?n.swfTimedout:n.swfError),Y._wD(e+": "+I("fbTimeout")+(t?" ("+I("fbLoaded")+")":""))),Y.didFlashBlock=!0,h({type:"ontimeout",ignoreInit:!0,error:o}),b(o)))},f=function(e,t,n){"undefined"==typeof ae[e]&&(ae[e]=[]),ae[e].push({method:t,scope:n||null,fired:!1})},h=function(e){if(e||(e={type:"onready"}),!ue&&e&&!e.ignoreInit||"ontimeout"===e.type&&Y.ok())return!1;var t,n={success:e&&e.ignoreInit?Y.ok():!de},o=e&&e.type?ae[e.type]||[]:[],i=[],a=[n],s=ye&&Y.useFlashBlock&&!Y.ok();for(e.error&&(a[0].error=e.error),n=0,t=o.length;t>n;n++)o[n].fired!==!0&&i.push(o[n]);if(i.length)for(Y._wD("soundManager: Firing "+i.length+" "+e.type+"() item"+(1===i.length?"":"s")),n=0,t=i.length;t>n;n++)i[n].scope?i[n].method.apply(i[n].scope,a):i[n].method.apply(this,a),s||(i[n].fired=!0);return!0},c=function(){te.setTimeout(function(){Y.useFlashBlock&&C(),h(),Y.onload instanceof Function&&(l("onload",1),Y.onload.apply(te),l("onloadOK",1)),Y.waitForWindowLoad&&K.add(te,"load",c)},1)},$=function(){if(void 0!==Q)return Q;var e,t=!1,n=navigator,o=n.plugins,i=te.ActiveXObject;if(o&&o.length)(n=n.mimeTypes)&&n["application/x-shockwave-flash"]&&n["application/x-shockwave-flash"].enabledPlugin&&n["application/x-shockwave-flash"].enabledPlugin.description&&(t=!0);else if("undefined"!=typeof i){try{e=new i("ShockwaveFlash.ShockwaveFlash")}catch(a){}t=!!e}return Q=t},B=function(){var e,t;if(ee.match(/iphone os (1|2|3_0|3_1)/i))return Y.hasHTML5=!1,Y.html5Only=!0,Y.oMC&&(Y.oMC.style.display="none"),!1;if(!Y.useHTML5Audio)return!0;if(!Y.html5||!Y.html5.canPlayType)return Y._wD("SoundManager: No HTML5 Audio() support detected."),Y.hasHTML5=!1,!0;if(Y.hasHTML5=!0,Te&&(Y._wD("soundManager::Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(Q?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1),$()))return!0;for(t in Y.audioFormats)Y.audioFormats.hasOwnProperty(t)&&(Y.audioFormats[t].required&&!Y.html5.canPlayType(Y.audioFormats[t].type)||Y.flash[t]||Y.flash[Y.audioFormats[t].type])&&(e=!0);return Y.ignoreFlash&&(e=!1),Y.html5Only=Y.hasHTML5&&Y.useHTML5Audio&&!e,!Y.html5Only},U=function(e){e._hasTimer||(e._hasTimer=!0)},N=function(e){e._hasTimer&&(e._hasTimer=!1)},b=function(e){e="undefined"!=typeof e?e:{},Y.onerror instanceof Function&&Y.onerror.apply(te,[{type:"undefined"!=typeof e.type?e.type:null}]),"undefined"!=typeof e.fatal&&e.fatal&&Y.disable()},X=function(){if(!Te||!$())return!1;var e,t,n=Y.audioFormats;for(t in n)if(n.hasOwnProperty(t)&&("mp3"===t||"mp4"===t)&&(Y._wD("soundManager: Using flash fallback for "+t+" format"),Y.html5[t]=!1,n[t]&&n[t].related))for(e=n[t].related.length;e--;)Y.html5[n[t].related[e]]=!1},this._setSandboxType=function(e){var t=Y.sandbox;t.type=e,t.description=t.types["undefined"!=typeof t.types[e]?e:"unknown"],Y._wD("Flash security sandbox type: "+t.type),"localWithFile"===t.type?(t.noRemote=!0,t.noLocal=!1,l("secNote",2)):"localWithNetwork"===t.type?(t.noRemote=!1,t.noLocal=!0):"localTrusted"===t.type&&(t.noRemote=!1,t.noLocal=!1)},this._externalInterfaceOK=function(e){if(Y.swfLoaded)return!1;var t=(new Date).getTime();Y._wD("soundManager::externalInterfaceOK()"+(e?" (~"+(t-e)+" ms)":"")),r("swf",!0),r("flashtojs",!0),Y.swfLoaded=!0,Ie=!1,Te&&X(),Se?setTimeout(s,100):s()},S=function(e,t){function n(){Y._wD("-- SoundManager 2 "+Y.version+(!Y.html5Only&&Y.useHTML5Audio?Y.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"")+(Y.html5Only?"":(Y.useMovieStar?", MovieStar mode":"")+(Y.useHighPerformance?", high performance mode, ":", ")+((Y.flashPollingInterval?"custom ("+Y.flashPollingInterval+"ms)":Y.useFastPolling?"fast":"normal")+" polling")+(Y.wmode?", wmode: "+Y.wmode:"")+(Y.debugFlash?", flash debug mode":"")+(Y.useFlashBlock?", flashBlock mode":""))+" --",1)}function o(e,t){return\'<param name="\'+e+\'" value="\'+t+\'" />\'}if(re&&le)return!1;if(Y.html5Only)return _(),n(),Y.oMC=i(Y.movieID),s(),le=re=!0,!1;var a,r=t||Y.url,u=Y.altURL||r;a=D();var d,f,h,c=H(),p=null,p=(p=ie.getElementsByTagName("html")[0])&&p.dir&&p.dir.match(/rtl/i),e="undefined"==typeof e?Y.id:e;if(_(),Y.url=F(Ee?r:u),t=Y.url,Y.wmode=Y.wmode||!Y.useHighPerformance||Y.useMovieStar?Y.wmode:"transparent",null!==Y.wmode&&(ee.match(/msie 8/i)||!Se&&!Y.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(Y.specialWmodeCase=!0,l("spcWmode"),Y.wmode=null),a={name:e,id:e,src:t,width:"auto",height:"auto",quality:"high",allowScriptAccess:Y.allowScriptAccess,bgcolor:Y.bgColor,pluginspage:ke+"//www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:Y.wmode,hasPriority:"true"},Y.debugFlash&&(a.FlashVars="debug=1"),Y.wmode||delete a.wmode,Se)r=ie.createElement("div"),f=[\'<object id="\'+e+\'" data="\'+t+\'" type="\'+a.type+\'" title="\'+a.title+\'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="\'+ke+\'//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0" width="\'+a.width+\'" height="\'+a.height+\'">\',o("movie",t),o("AllowScriptAccess",Y.allowScriptAccess),o("quality",a.quality),Y.wmode?o("wmode",Y.wmode):"",o("bgcolor",Y.bgColor),o("hasPriority","true"),Y.debugFlash?o("FlashVars",a.FlashVars):"","</object>"].join("");else{r=ie.createElement("embed");for(d in a)a.hasOwnProperty(d)&&r.setAttribute(d,a[d])}if(L(),c=H(),a=D())if(Y.oMC=i(Y.movieID)||ie.createElement("div"),Y.oMC.id)h=Y.oMC.className,Y.oMC.className=(h?h+" ":Y.swfCSS.swfDefault)+(c?" "+c:""),Y.oMC.appendChild(r),Se&&(d=Y.oMC.appendChild(ie.createElement("div")),d.className=Y.swfCSS.swfBox,d.innerHTML=f),le=!0;else{if(Y.oMC.id=Y.movieID,Y.oMC.className=Y.swfCSS.swfDefault+" "+c,d=c=null,Y.useFlashBlock||(Y.useHighPerformance?c={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(c={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},p&&(c.left=Math.abs(parseInt(c.left,10))+"px"))),be&&(Y.oMC.style.zIndex=1e4),!Y.debugFlash)for(h in c)c.hasOwnProperty(h)&&(Y.oMC.style[h]=c[h]);try{Se||Y.oMC.appendChild(r),a.appendChild(Y.oMC),Se&&(d=Y.oMC.appendChild(ie.createElement("div")),d.className=Y.swfCSS.swfBox,d.innerHTML=f),le=!0}catch(m){throw Error(I("domError")+" \\n"+m.toString())}}return re=!0,n(),Y._wD("soundManager::createMovie(): Trying to load "+t+(!Ee&&Y.altURL?" (alternate URL)":""),1),!0},w=function(){return Y.html5Only?(S(),!1):Y.o?!1:(Y.o=Y.getMovie(Y.id),Y.o||(pe?(Se?Y.oMC.innerHTML=me:Y.oMC.appendChild(pe),pe=null,re=!0):S(Y.id,Y.url),Y.o=Y.getMovie(Y.id)),Y.o&&l("waitEI"),Y.oninitmovie instanceof Function&&setTimeout(Y.oninitmovie,1),!0)},p=function(){setTimeout(m,1e3)},m=function(){if(_e)return!1;if(_e=!0,K.remove(te,"load",p),Ie&&!Fe)return l("waitFocus"),!1;var e;ue||(e=Y.getMoviePercent(),Y._wD(I("waitImpatient",100===e?" (SWF loaded)":e>0?" (SWF "+e+"% loaded)":""))),setTimeout(function(){e=Y.getMoviePercent(),ue||(Y._wD("soundManager: No Flash response within expected time.\\nLikely causes: "+(0===e?"Loading "+Y.movieURL+" may have failed (and/or Flash "+oe+"+ not present?), ":"")+"Flash blocked or JS-Flash security error."+(Y.debugFlash?" "+I("checkSWF"):""),2),!Ee&&e&&(l("localFail",2),Y.debugFlash||l("tryDebug",2)),0===e&&Y._wD(I("swf404",Y.url)),r("flashtojs",!1," (Check flash security or flash blockers)")),!ue&&Ce&&(null===e?Y.useFlashBlock||0===Y.flashLoadTimeout?(Y.useFlashBlock&&C(),l("waitForever")):P(!0):0===Y.flashLoadTimeout?l("waitForever"):P(!0))},Y.flashLoadTimeout)},g=function(){function e(){K.remove(te,"focus",g),K.remove(te,"load",g)}return Fe||!Ie?(e(),!0):(Fe=Ce=!0,Y._wD("soundManager::handleFocus()"),Oe&&Ie&&K.remove(te,"mousemove",g),_e=!1,e(),!0)},u=function(e){if(ue)return!1;if(Y.html5Only)return Y._wD("-- SoundManager 2: loaded --"),ue=!0,c(),r("onload",!0),!0;var t;return Y.useFlashBlock&&Y.flashLoadTimeout&&!Y.getMoviePercent()||(ue=!0,de&&(t={type:!Q&&ye?"NO_FLASH":"INIT_TIMEOUT"})),Y._wD("-- SoundManager 2 "+(de?"failed to load":"loaded")+" ("+(de?"security/load error":"OK")+") --",1),de||e?(Y.useFlashBlock&&Y.oMC&&(Y.oMC.className=H()+" "+(null===Y.getMoviePercent()?Y.swfCSS.swfTimedout:Y.swfCSS.swfError)),h({type:"ontimeout",error:t}),r("onload",!1),b(t),!1):(r("onload",!0),K.add(te,"unload",a),Y.waitForWindowLoad&&!fe?(l("waitOnload"),K.add(te,"load",c),!1):(Y.waitForWindowLoad&&fe&&l("docLoaded"),c(),!0))},G=function(){var e,t=[];if(Y.useHTML5Audio&&Y.hasHTML5){for(e in Y.audioFormats)Y.audioFormats.hasOwnProperty(e)&&t.push(e+": "+Y.html5[e]+(!Y.html5[e]&&Q&&Y.flash[e]?" (using flash)":Y.preferFlash&&Y.flash[e]&&Q?" (preferring flash)":Y.html5[e]?"":" ("+(Y.audioFormats[e].required?"required, ":"")+"and no flash support)"));Y._wD("-- SoundManager 2: HTML5 support tests ("+Y.html5Test+"): "+t.join(", ")+" --",1)}},s=function(){if(l("init"),ue)return l("didInit"),!1;if(Y.html5Only)return ue||(K.remove(te,"load",Y.beginDelayedInit),Y.enabled=!0,u()),!0;w();try{l("flashJS"),Y.o._externalInterfaceTest(!1),Y.allowPolling?O(!0,Y.flashPollingInterval||(Y.useFastPolling?10:50)):l("noPolling",1),Y.debugMode||Y.o._disableDebug(),Y.enabled=!0,r("jstoflash",!0)}catch(e){return Y._wD("js/flash exception: "+e.toString()),r("jstoflash",!1),b({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),P(!0),u(),!1}return u(),K.remove(te,"load",Y.beginDelayedInit),!0},M=function(){if(v)return!1;v=!0,L();var e=ne.toLowerCase(),t=null,t=null,n="undefined"!=typeof console&&"undefined"!=typeof console.log;return-1!==e.indexOf("sm2-usehtml5audio=")&&(t="1"===e.charAt(e.indexOf("sm2-usehtml5audio=")+18),n&&console.log((t?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),Y.useHTML5Audio=t),-1!==e.indexOf("sm2-preferflash=")&&(t="1"===e.charAt(e.indexOf("sm2-preferflash=")+16),n&&console.log((t?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),Y.preferFlash=t),!Q&&Y.hasHTML5&&(Y._wD("SoundManager: No Flash detected"+(Y.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5.")),Y.useHTML5Audio=!0,Y.preferFlash=!1),J(),Y.html5.usingFlash=B(),ye=Y.html5.usingFlash,G(),!Q&&ye&&(Y._wD("SoundManager: Fatal error: Flash is needed to play some required formats, but is not available."),Y.flashLoadTimeout=1),ie.removeEventListener&&ie.removeEventListener("DOMContentLoaded",M,!1),w(),!0},V=function(){return"complete"===ie.readyState&&(M(),ie.detachEvent("onreadystatechange",V)),!0},$(),K.add(te,"focus",g),K.add(te,"load",g),K.add(te,"load",p),Oe&&Ie&&K.add(te,"mousemove",g),ie.addEventListener?ie.addEventListener("DOMContentLoaded",M,!1):ie.attachEvent?ie.attachEvent("onreadystatechange",V):(r("onload",!1),b({type:"NO_DOM2_EVENTS",fatal:!0})),"complete"===ie.readyState&&setTimeout(M,100)};'),
jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/util/underscore.js",'(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=e.push,a=e.slice,o=e.concat,c=u.toString,l=u.hasOwnProperty,f=e.forEach,s=e.map,p=e.reduce,h=e.reduceRight,v=e.filter,g=e.every,d=e.some,m=e.indexOf,y=e.lastIndexOf,u=Array.isArray,b=Object.keys,x=Function.prototype.bind,_=function(n){return n instanceof _?n:this instanceof _?void(this._wrapped=n):new _(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports._=_):n._=_,_.VERSION="1.5.2";var w=_.each=_.forEach=function(n,t,e){if(null!=n)if(f&&n.forEach===f)n.forEach(t,e);else if(n.length===+n.length)for(var u=0,i=n.length;i>u&&t.call(e,n[u],u,n)!==r;u++);else for(var a=_.keys(n),u=0,i=a.length;i>u&&t.call(e,n[a[u]],a[u],n)!==r;u++);};_.map=_.collect=function(n,t,r){var e=[];return null==n?e:s&&n.map===s?n.map(t,r):(w(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)},_.reduce=_.foldl=_.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),p&&n.reduce===p)return e&&(t=_.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(w(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError("Reduce of empty array with no initial value");return r},_.reduceRight=_.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduceRight===h)return e&&(t=_.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i)var a=_.keys(n),i=a.length;if(w(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError("Reduce of empty array with no initial value");return r},_.find=_.detect=function(n,t,r){var e;return j(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},_.filter=_.select=function(n,t,r){var e=[];return null==n?e:v&&n.filter===v?n.filter(t,r):(w(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},_.reject=function(n,t,r){return _.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},_.every=_.all=function(n,t,e){t||(t=_.identity);var u=!0;return null==n?u:g&&n.every===g?n.every(t,e):(w(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var j=_.some=_.any=function(n,t,e){t||(t=_.identity);var u=!1;return null==n?u:d&&n.some===d?n.some(t,e):(w(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};_.contains=_.include=function(n,t){return null==n?!1:m&&n.indexOf===m?-1!=n.indexOf(t):j(n,function(n){return n===t})},_.invoke=function(n,t){var r=a.call(arguments,2),e=_.isFunction(t);return _.map(n,function(n){return(e?t:n[t]).apply(n,r)})},_.pluck=function(n,t){return _.map(n,function(n){return n[t]})},_.where=function(n,t,r){return _.isEmpty(t)?r?void 0:[]:_[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},_.findWhere=function(n,t){return _.where(n,t,!0)},_.max=function(n,t,r){if(!t&&_.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&_.isEmpty(n))return-(1/0);var e={computed:-(1/0),value:-(1/0)};return w(n,function(n,u,i){u=t?t.call(r,n,u,i):n,u>e.computed&&(e={value:n,computed:u})}),e.value},_.min=function(n,t,r){if(!t&&_.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&_.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return w(n,function(n,u,i){u=t?t.call(r,n,u,i):n,u<e.computed&&(e={value:n,computed:u})}),e.value},_.shuffle=function(n){var t,r=0,e=[];return w(n,function(n){t=_.random(r++),e[r-1]=e[t],e[t]=n}),e},_.sample=function(n,t,r){return arguments.length<2||r?n[_.random(n.length-1)]:_.shuffle(n).slice(0,Math.max(0,t))};var A=function(n){return _.isFunction(n)?n:function(t){return t[n]}};_.sortBy=function(n,t,r){var e=A(t);return _.pluck(_.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var E=function(n){return function(t,r,e){var u={},i=null==r?_.identity:A(r);return w(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};_.groupBy=E(function(n,t,r){(_.has(n,t)?n[t]:n[t]=[]).push(r)}),_.indexBy=E(function(n,t,r){n[t]=r}),_.countBy=E(function(n,t){_.has(n,t)?n[t]++:n[t]=1}),_.sortedIndex=function(n,t,r,e){for(var r=null==r?_.identity:A(r),t=r.call(e,t),u=0,i=n.length;i>u;){var a=u+i>>>1;r.call(e,n[a])<t?u=a+1:i=a}return u},_.toArray=function(n){return n?_.isArray(n)?a.call(n):n.length===+n.length?_.map(n,_.identity):_.values(n):[]},_.size=function(n){return null==n?0:n.length===+n.length?n.length:_.keys(n).length},_.first=_.head=_.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:a.call(n,0,t)},_.initial=function(n,t,r){return a.call(n,0,n.length-(null==t||r?1:t))},_.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:a.call(n,Math.max(n.length-t,0))},_.rest=_.tail=_.drop=function(n,t,r){return a.call(n,null==t||r?1:t)},_.compact=function(n){return _.filter(n,_.identity)};var O=function(n,t,r){return t&&_.every(n,_.isArray)?o.apply(r,n):(w(n,function(n){_.isArray(n)||_.isArguments(n)?t?i.apply(r,n):O(n,t,r):r.push(n)}),r)};_.flatten=function(n,t){return O(n,t,[])},_.without=function(n){return _.difference(n,a.call(arguments,1))},_.uniq=_.unique=function(n,t,r,e){_.isFunction(t)&&(e=r,r=t,t=!1);var r=r?_.map(n,r,e):n,u=[],i=[];return w(r,function(r,e){(t?e&&i[i.length-1]===r:_.contains(i,r))||(i.push(r),u.push(n[e]))}),u},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(n){var t=a.call(arguments,1);return _.filter(_.uniq(n),function(n){return _.every(t,function(t){return _.indexOf(t,n)>=0})})},_.difference=function(n){var t=o.apply(e,a.call(arguments,1));return _.filter(n,function(n){return!_.contains(t,n)})},_.zip=function(){for(var n=_.max(_.pluck(arguments,"length").concat(0)),t=Array(n),r=0;n>r;r++)t[r]=_.pluck(arguments,""+r);return t},_.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},_.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=_.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(m&&n.indexOf===m)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},_.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(y&&n.lastIndexOf===y)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(r=e?r:n.length;r--;)if(n[r]===t)return r;return-1},_.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0);for(var r=arguments[2]||1,e=Math.max(Math.ceil((t-n)/r),0),u=0,i=Array(e);e>u;)i[u++]=n,n+=r;return i};var k=function(){};_.bind=function(n,t){var r,e;if(x&&n.bind===x)return x.apply(n,a.call(arguments,1));if(!_.isFunction(n))throw new TypeError;return r=a.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(a.call(arguments)));k.prototype=n.prototype;var u=new k;k.prototype=null;var i=n.apply(u,r.concat(a.call(arguments)));return Object(i)===i?i:u}},_.partial=function(n){var t=a.call(arguments,1);return function(){return n.apply(this,t.concat(a.call(arguments)))}},_.bindAll=function(n){var t=a.call(arguments,1);if(0===t.length)throw Error("bindAll must be passed function names");return w(t,function(t){n[t]=_.bind(n[t],n)}),n},_.memoize=function(n,t){var r={};return t||(t=_.identity),function(){var e=t.apply(this,arguments);return _.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},_.delay=function(n,t){var r=a.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},_.defer=function(n){return _.delay.apply(_,[n,1].concat(a.call(arguments,1)))},_.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,u)};return function(){var l=new Date;!o&&r.leading===!1&&(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):!a&&r.trailing!==!1&&(a=setTimeout(c,f)),i}},_.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u)),o}},_.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},_.wrap=function(n,t){return function(){var r=[n];return i.apply(r,arguments),t.apply(this,r)}},_.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},_.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},_.keys=b||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t,r=[];for(t in n)_.has(n,t)&&r.push(t);return r},_.values=function(n){for(var t=_.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},_.pairs=function(n){for(var t=_.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},_.invert=function(n){for(var t={},r=_.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},_.functions=_.methods=function(n){var t,r=[];for(t in n)_.isFunction(n[t])&&r.push(t);return r.sort()},_.extend=function(n){return w(a.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},_.pick=function(n){var t={},r=o.apply(e,a.call(arguments,1));return w(r,function(r){r in n&&(t[r]=n[r])}),t},_.omit=function(n){var t,r={},u=o.apply(e,a.call(arguments,1));for(t in n)_.contains(u,t)||(r[t]=n[t]);return r},_.defaults=function(n){return w(a.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},_.clone=function(n){return _.isObject(n)?_.isArray(n)?n.slice():_.extend({},n):n},_.tap=function(n,t){return t(n),n};var F=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof _&&(n=n._wrapped),t instanceof _&&(t=t._wrapped);var u=c.call(n);if(u!=c.call(t))return!1;switch(u){case"[object String]":return n==""+t;case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var i=n.constructor,a=t.constructor;if(!(i===a||_.isFunction(i)&&i instanceof i&&_.isFunction(a)&&a instanceof a))return!1;if(r.push(n),e.push(t),i=0,a=!0,"[object Array]"==u){if(i=n.length,a=i==t.length)for(;i--&&(a=F(n[i],t[i],r,e)););}else{for(var o in n)if(_.has(n,o)&&(i++,!(a=_.has(t,o)&&F(n[o],t[o],r,e))))break;if(a){for(o in t)if(_.has(t,o)&&!i--)break;a=!i}}return r.pop(),e.pop(),a};_.isEqual=function(n,t){return F(n,t,[],[])},_.isEmpty=function(n){if(null==n)return!0;if(_.isArray(n)||_.isString(n))return 0===n.length;for(var t in n)if(_.has(n,t))return!1;return!0},_.isElement=function(n){return!(!n||1!==n.nodeType)},_.isArray=u||function(n){return"[object Array]"==c.call(n)},_.isObject=function(n){return n===Object(n)},w("Arguments Function String Number Date RegExp".split(" "),function(n){_["is"+n]=function(t){return c.call(t)=="[object "+n+"]"}}),_.isArguments(arguments)||(_.isArguments=function(n){return!(!n||!_.has(n,"callee"))}),"function"!=typeof/./&&(_.isFunction=function(n){return"function"==typeof n}),_.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},_.isNaN=function(n){return _.isNumber(n)&&n!=+n},_.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==c.call(n)},_.isNull=function(n){return null===n},_.isUndefined=function(n){return void 0===n},_.has=function(n,t){return l.call(n,t)},_.noConflict=function(){return n._=t,this},_.identity=function(n){return n},_.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},_.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var R={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",\'"\':"&quot;","\'":"&#x27;"}};R.unescape=_.invert(R.escape);var M={escape:RegExp("["+_.keys(R.escape).join("")+"]","g"),unescape:RegExp("("+_.keys(R.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(n){_[n]=function(t){return null==t?"":(""+t).replace(M[n],function(t){return R[n][t]})}}),_.result=function(n,t){if(null!=n){var r=n[t];return _.isFunction(r)?r.call(n):r}},_.mixin=function(n){w(_.functions(n),function(t){var r=_[t]=n[t];_.prototype[t]=function(){var n=[this._wrapped];return i.apply(n,arguments),n=r.apply(_,n),this._chain?_(n).chain():n}})};var I=0;_.uniqueId=function(n){var t=++I+"";return n?n+t:t},_.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g};var S=/(.)^/,T={"\'":"\'","\\\\":"\\\\","\\r":"r","\\n":"n","	":"t","\\u2028":"u2028","\\u2029":"u2029"},N=/\\\\|\'|\\r|\\n|\\t|\\u2028|\\u2029/g;_.template=function(n,t,r){var e,r=_.defaults({},r,_.templateSettings),u=RegExp([(r.escape||S).source,(r.interpolate||S).source,(r.evaluate||S).source].join("|")+"|$","g"),i=0,a="__p+=\'";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(N,function(n){return"\\\\"+T[n]}),r&&(a+="\'+\\n((__t=("+r+"))==null?\'\':_.escape(__t))+\\n\'"),e&&(a+="\'+\\n((__t=("+e+"))==null?\'\':__t)+\\n\'"),u&&(a+="\';\\n"+u+"\\n__p+=\'"),i=o+t.length,t}),a+="\';\\n",r.variable||(a="with(obj||{}){\\n"+a+"}\\n"),a="var __t,__p=\'\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\'\');};\\n"+a+"return __p;\\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}return t?e(t,_):(t=function(n){return e.call(this,n,_)},t.source="function("+(r.variable||"obj")+"){\\n"+a+"}",t)},_.chain=function(n){return _(n).chain()},_.mixin(_),w("pop push reverse shift sort splice unshift".split(" "),function(n){var t=e[n];_.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),("shift"==n||"splice"==n)&&0===r.length&&delete r[0],this._chain?_(r).chain():r}}),w(["concat","join","slice"],function(n){var t=e[n];_.prototype[n]=function(){var n=t.apply(this._wrapped,arguments);return this._chain?_(n).chain():n}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/FontBuffer.js",'jsio("import device");var randomColorElement=function(){var t=Math.floor(255*Math.random()).toString(16);return(1===t.length?"0":"")+t},randomColor=function(){return"#"+randomColorElement()+randomColorElement()+randomColorElement()},home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_FontBuffer=__class__,FontBuffer=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_FontBuffer(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){var t,e,i,s,r,h=[{size:24,count:8},{size:32,count:10},{size:64,count:8}],n=0;for(this._canvas=document.createElement("canvas"),this._canvas.width=1024,this._canvas.height=1024,this._ctx=this._canvas.getContext("2d"),this._list=[],s=0;s<h.length;s++){for(e=[],t=h[s],r=0;r<t.count;r++)i={previous:null,next:null,x:0,y:n,width:1024,height:0,hash:null,frame:0,refresh:!0,ctx:this._ctx},e.push(i),n+=t.size;this._list.push({size:t.size,lines:e})}this._hashMap={},this._currentFrame=0,this._frameTimeout=3,jsio("import ui.Engine").get().subscribe("Tick",this,this._onTick)},this._onTick=function(){this._currentFrame++;var t,e,i,s,r,h,n=this._currentFrame,o=this._frameTimeout,a=this._list;for(i=0,s=a.length;s>i;i++)for(t=a[i].lines,r=0,h=t.length;h>r;r++)for(e=t[r];e;)null===e.hash?e.next&&null===e.next.hash&&(e.width+=e.next.width,e.next=e.next.next):n>e.frame+o&&(this._ctx.fillStyle=randomColor(),this._ctx.fillRect(e.x,e.y,e.width,e.height),delete this._hashMap[e.hash],e.hash=null),e=e.next},this.alloc=function(t){var e,i,s=t.height,r=t.width+3,t=(t.strokeStyle||"")+"_"+(t.fillStyle||"")+"_"+(t.font||"")+"_"+t.text,h=this._list,n=this._hashMap[t];if(n)return n.frame=this._currentFrame,n.refresh=!1,n;for(n=0,e=h.length;e>n;n++)if(s<=h[n].size){for(h=h[n].lines,e=0,i=h.length;i>e;e++)for(n=h[e];n;){if(r<=n.width&&null===n.hash)return r!==n.width&&(n.next={previous:n,next:n.next,x:n.x+r,y:n.y,width:n.width-r,hash:null,frame:0,ctx:this._ctx}),n.frame=this._currentFrame,n.hash=t,n.width=r,n.height=s,n.refresh=!0,this._ctx.clearRect(n.x,n.y,r,s),this._hashMap[t]=n;n=n.next}break}return!1},this.getCanvas=function(){return this._canvas}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/Engine.js",'jsio("import event.Emitter as Emitter"),jsio("import event.input.dispatch as dispatch"),jsio("import timer"),jsio("import ui.backend.ReflowManager as ReflowManager"),jsio("import device");var _timers=[];timer.onTick=function(t){for(var i=_timers.length;i--;)_timers[i](t)};var __instance=null,home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_Engine=__class__,Engine=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_Engine(function(){return this.init&&this.init.apply(this,arguments)},Emitter,function(){this.init=function(t){__instance||(jsio("import .StackView"),__instance=this);var i=t&&t.canvas;"string"==typeof i&&GLOBAL.document&&document.getElementById&&(i=document.getElementById(i)),this._opts=t=merge(t,{keyListenerEnabled:!0,width:i&&i.width||device.width,height:i&&i.height||device.height,view:null,dtFixed:0,dtMinimum:0,clearEachFrame:!0,alwaysRepaint:!0,repaintOnEvent:!0,mergeMoveEvents:!1,continuousInputCheck:!device.isMobileBrowser&&!device.isMobile,showFPS:!1}),_timers.push(bind(this,this._tick)),this._doubleBuffered=!0,this._countdown=null,device.useDOM||(this._rootElement=new(device.get("Canvas"))({el:i,width:t.width,height:t.height,offscreen:!1}),this._rootElement.id="timestep_onscreen_canvas",this._ctx=this._rootElement.getContext("2d"),this._ctx.font="11px "+device.defaultFontFamily),this._view=t.view||new StackView,this._view.style.update({width:t.width,height:t.height}),device.useDOM&&(this._rootElement=this._view.getBacking().getElement()),this._view.__root=this,this._events=[],dispatch.KeyListener&&(this._keyListener=new dispatch.KeyListener),this._inputListener=new dispatch.InputListener({rootView:this._view,el:this._rootElement,keyListener:this._keyListener}),this._reflowMgr=ReflowManager.get(),this._tickBuffer=0,this._onTick=[],"browser"==device.name&&(i?(device.width=i.width,device.height=i.height,device.screen.width=i.width,device.screen.height=i.height):(t=device.get("doc"))&&t.setEngine(this)),this.updateOpts(this._opts)},this.updateOpts=function(t){if(this._opts=merge(t,this._opts),this._keyListener&&this._keyListener.setEnabled(this._opts.keyListenerEnabled),this._opts.scaleUI)if(Array.isArray(this._opts.scaleUI)){if(2!=this._opts.scaleUI.length)throw Error("Illegal value for engine option scaleUI: "+this._opts.scaleUI);this.scaleUI(this._opts.scaleUI[0],this._opts.scaleUI[1])}else this.scaleUI(576,1024);this._opts.showFPS?(this._applicationFPS||(jsio("import ui.backend.debug.FPSView as FPSView"),this._applicationFPS=new FPSView({application:this})),this._renderFPS=bind(this._applicationFPS,this._applicationFPS.render),this._tickFPS=bind(this._applicationFPS,this._applicationFPS.tick)):(this._renderFPS=function(){},this._tickFPS=function(){})},this.scaleUI=function(t,i){device.height>device.width?(this._view.baseWidth=t,this._view.baseHeight=device.height*(t/device.width),this._view.scale=device.width/this._view.baseWidth):(this._view.baseWidth=i,this._view.baseHeight=device.height*(i/device.width),this._view.scale=device.height/this._view.baseHeight),this._view.style.scale=this._view.scale},this.supports=function(t){return this._opts[t]},this.getInput=function(){return this._inputListener},this.getKeyListener=function(){return this._keyListener},this.getEvents=function(){return this._events},this.getElement=this.getCanvas=function(){return this._rootElement},this.getViewCtor=function(){return View},this.getView=function(){return this._view},this.setView=function(t){return this._view=t,this},this.show=function(){return this._rootElement.style.display="block",this},this.hide=function(){return this._rootElement.style.display="none",this},this.pause=function(){this.stopLoop(),this._keyListener&&this._keyListener.setEnabled(!1)},this.resume=function(){this.startLoop(),this._keyListener&&this._keyListener.setEnabled(!0)},this.stepFrame=function(t){this.pause(),this._countdown=t||1,this.resume()},this.startLoop=function(t){return this._running?void 0:(this._running=!0,this.now=0,timer.start(t||this._opts.dtMinimum),this.emit("resume"),this)},this.stopLoop=function(){return this._running?(this._running=!1,timer.stop(),this.emit("pause"),this):void 0},this.isRunning=function(){return this._running},this.doOnTick=function(t){1<arguments.length&&(t=bind.apply(this,arguments)),this._onTick.push(t)},this._tick=function(t){if(null!==this._countdown&&(this._countdown--,-1===this._countdown&&(this.pause(),this._countdown=null)),this._ctx){var i=this._ctx.getElement(),e=this._view.style;!i||e.width==i.width/e.scale&&e.height==i.height/e.scale||(e.width=i.width/e.scale,e.height=i.height/e.scale)}for(i=0;e=this._onTick[i];++i)e(t);if(e=this._inputListener.getEvents(),i=e.length,this._events=e,this._opts._mergeMoveEvents)for(var s=!1,i=i-1;i>=0;--i)e[i].type==dispatch.eventTypes.MOVE&&(s?e.splice(i,1):s=!0);for(i=0;s=e[i];++i)s.srcApp=this,dispatch.dispatchEvent(this._view,s);if(device.useDOM||(i>0?this._opts.repaintOnEvent&&this.needsRepaint():this._opts.continuousInputCheck&&(i=dispatch._evtHistory["input:move"])&&dispatch.dispatchEvent(this._view,new dispatch.InputEvent(i.id,i.type,i.srcPt))),this._opts.dtFixed)for(this._tickBuffer+=t;this._tickBuffer>=this._opts.dtFixed;)this._tickBuffer-=this._opts.dtFixed,this.now+=this._opts.dtFixed,this.__tick(this._opts.dtFixed);else this.__tick(t);this._reflowMgr.reflowViews(this._ctx),i=this._opts.alwaysRepaint||this._needsRepaint,!i&&this._doubleBuffered&&0<this._doubleBufferedState?(--this._doubleBufferedState,this.render(t)):i&&(this._doubleBufferedState=3,this.render(t)),this._needsRepaint=!1},this.render=function(t){this._opts.clearEachFrame&&this._ctx&&this._ctx.clear(),this._view.__view.constructor.absScale=1,this._view.__view.wrapRender(this._ctx,{}),this.publish("Render",this._ctx),this._ctx&&(DEBUG&&this._renderFPS(this._ctx,t),this._ctx.swap())},this.needsRepaint=function(){return this._needsRepaint=!0,this},this.__tick=function(t){this._tickFPS(t),this.publish("Tick",t),this._view.__view.wrapTick(t,this)}});exports.get=function(){return __instance};'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/event/input/dispatch.js",'jsio("import math.geom.Point as Point"),jsio("import device"),jsio("import lib.Enum"),exports.eventTypes=new lib.Enum("START","MOVE","SELECT","SCROLL","CLEAR"),exports.VERTICAL_AXIS=2,exports.HORIZONTAL_AXIS=1,exports.dispatchEvent=function(t,e){e.root=t,exports.traceEvt(t,e,e.srcPt);var r=e.depth;exports._evtHistory[e.type]=e;for(var n=exports._evtCb[e.type]||exports.getEvtCbName(e.type),o=r-1;o>=0;--o){var i=e.trace[o],p=e.pt[i.uid];if(i.publish(n+"Capture",e,p,0==o),e.cancelled||i.__input.blockEvents)return}for(var s="on"+n,o=0;r>o&&(i=e.trace[o],!i.__input.canHandleEvents||(p=e.pt[i.uid],i[s]&&i[s](e,p,0==o),i.publish(n,e,p,0==o),i._onEventPropagate(e,p,0==o),!e.cancelled));++o);},exports.traceEvt=function(t,e,r){if(r=t.style.localizePoint(new Point(r)),!t.getInput().containsEvent(e,r))return!1;var n=t.getInput().canHandleEvents;n&&(e.depth++,e.trace.unshift(t),e.pt[t.uid]=r);for(var o=t.getSubviews(),i=o.length-1;i>=0;--i)if(o[i].style.visible&&exports.traceEvt(o[i],e,r))return!0;return n?(e.target=t,!0):void 0},exports._evtHistory={},exports._activeInputOver={},exports.clearOverState=function(t){if(t){var e=exports._activeInputOver[t];if(e&&(delete exports._activeInputOver[t],e=e.trace))for(var r,n=0;r=e[n];++n)r.__input.onLeave(t)}else for(t in exports._activeInputOver)exports.clearOverState(t)},exports._isDragging=!1,exports.isDragging=function(){return exports._isDragging},exports._evtCb={},exports.getEvtCbName=function(t){var e=exports.eventTypes[t];return exports._evtCb[t]="Input"+e.charAt(0)+e.substring(1).toLowerCase()},exports.InputListener=device.get("Input"),exports.KeyListener=device.get("KeyListener"),jsio("import .InputEvent as exports.InputEvent");'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/event/input/InputEvent.js",'jsio("import math.geom.Point as Point"),jsio("import timer");var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_event_input_InputEvent=__class__,InputEvent=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_event_input_InputEvent(function(){return this.init&&this.init.apply(this,arguments)},function(){this.cancelled=!1,this.depth=0,this.init=function(t,i,e,s,n,o){this.id=t,this.type=i,this.point=this.pt={},this.srcPoint=this.srcPt=new Point(e,s),this.trace=[],this.root=n||null,this.when=timer.now,this.target=o||null},this.cancel=function(){this.cancelled=!0},this.clone=function(){return new InputEvent(this.id,this.type,this.srcPt.x,this.srcPt.y,this.root,this.target)}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/timer.js",'jsio("import device");var Timer=device.get("Timer"),MAX_TICK=1e4;exports.now=0,exports.frames=0,exports.reset=function(){this._last=null},exports.tick=function(e){try{e>MAX_TICK&&(exports.onLargeTick(e,MAX_TICK),e=1),exports.now+=e,exports.frames++,exports.onTick(e),ok=!0}finally{exports.debug&&!ok&&app.stopLoop()}},exports.onLargeTick=function(e,t){logger.WARN&&console.warn("WARN","timer","Dropping large tick: "+e+"; Threshold is set at: "+t)},exports.onTick=function(){},exports.debug=!1,exports.start=function(e){this.reset(),this.isRunning=!0,device.get("Timer").start(exports.tick,e)},exports.stop=function(){this.reset(),this.isRunning=!1,device.get("Timer").stop()},exports.getTickProgress=function(){var e=+new Date;return-(Timer.last||e)+e};'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/ReflowManager.js",'var DEBUG=!1,DEBUG_TIME=!0;if(DEBUG||DEBUG_TIME){var _debug={space:"",stepIn:function(){return this.space+=" ",!0},stepOut:function(){return this.space=this.space.slice(0,this.space.length-1),!0},log:function(){return logger.log.apply(logger,[this.space].concat(Array.prototype.slice.call(arguments,0))),!0}};logger.LOG&&console.log("LOG","ui.backend.ReflowManager","===== CREATING REFLOW MANAGER")}var MAX_REFLOW_THRESHOLD=20,_pool=new(Class(function(){this._pool=[],this.recycle=function(e){e.view=null,this._pool.push(e)},this.get=function(e){var t=this._pool.pop()||{};return t.view=e,t.count=0,t.needsReflow=!1,t}})),home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_ReflowManager=__class__,ReflowManager=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_ReflowManager(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this._pending={},this._pendingCount=this._iter=0},this.add=function(e){if(e.style.layout){var t=e.uid,t=this._pending[t]||(this._pending[t]=_pool.get(e));t.needsReflow||(++this._pendingCount,t.needsReflow=!0,DEBUG&&_debug.log("adding "+e+" ("+e.uid+")"+(" "+e.style.layout||"")+":",(void 0===e.style.width?"?":e.style.width)+"x"+(void 0===e.style.height?"?":e.style.height))),t.iter!=this._iter&&(t.iter=this._iter)}},this.reflow=function(e){void 0===e.style.__cachedWidth&&(e.style.__cachedWidth=e.style.width),void 0===e.style.__cachedHeight&&(e.style.__cachedHeight=e.style.height);var t=this._pending[e.uid];if(t&&t.needsReflow&&(t.needsReflow=!1,--this._pendingCount),e.__layout&&e.__layout.reflow(),e.reflow&&e.reflow(),e.__layout&&(t=e.style,t.__cachedWidth!=t.width||t.__cachedHeight!=t.height))for(var e=e.getSubviews(),t=0,i=e.length;i>t;++t)this.add(e[t])},this.reflowViews=function(){if(this._pendingCount){this._iter=0;var e;if(DEBUG&&_debug.stepIn(),DEBUG_TIME)var t=Date.now();for(;this._pendingCount;){for(;this._pendingCount;){++this._iter,e=0;for(var i in this._pending){DEBUG&&0==e&&1==this._iter&&console.log(" == beginning reflow == ");var n=this._pending[i];if(n.count>MAX_REFLOW_THRESHOLD){logger.WARN&&console.warn("WARN","ui.backend.ReflowManager","reflow loop detected for view",n.view.uid),this.cleanUp();break}n.needsReflow&&(++n.count,DEBUG&&_debug.log("-- reflow view",n.view.uid,"("+n.count+" times)")&&_debug.stepIn(),this.reflow(n.view),DEBUG&&_debug.stepOut(),++e)}DEBUG&&e&&_debug.log("***** iteration",this._iter,"reflowed",e,"views")}for(i in this._pending)if(e=this._pending[i].view,e.hasListeners("resize")){var n=e.style,s=n.width,o=n.height;(n.__cachedWidth!=s||n.__cachedHeight!=o)&&(DEBUG&&_debug.log("view",e.uid,"resize event firing",s+"x"+o,"(prev: "+n.__cachedWidth+"x"+n.__cachedHeight+")"),n.__cachedWidth=s,n.__cachedHeight=o,e.emit("resize"))}}this.cleanUp(),DEBUG&&_debug.stepOut(),DEBUG_TIME&&this._iter&&(i=Date.now(),_debug.log("total reflow time:",i-t))}},this.cleanUp=function(){for(var e in this._pending)_pool.recycle(this._pending[e]),delete this._pending[e];this._pendingCount=0}}),_instance=null;exports.get=function(){return _instance||(_instance=new ReflowManager)};'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/StackView.js",'jsio("import ui.View as View"),jsio("import animate");var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_StackView=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_StackView(function(){return this.init&&this.init.apply(this,arguments)},View,function(t){this.init=function(i){i=merge(i,{layout:"box"}),t(this,"init",[i]),this.stack=[]},this.getStack=function(){return this.stack},this.getCurrentView=function(){return this.stack.length?this.stack[this.stack.length-1]:null},this.push=function(t,i,s){!this.stack[0]&&!1!==i&&(i=!0);var e=this.getCurrentView();return e&&this._hide(e,i),t.style.y=0,t.style.width=this.style.width/t.style.scale,t.style.height=this.style.height/t.style.scale,this.stack.push(t),this._show(t,i,s),t},this._hide=function(t,i,s){t.publish("ViewWillDisappear"),i?(this.removeSubview(t),t.publish("ViewDidDisappear")):(this.getInput().blockEvents=!0,animate(t).then({x:(s?1:-1)*this.style.width}).then(bind(this,function(){this.removeSubview(t),t.publish("ViewDidDisappear"),this.getInput().blockEvents=!1})))},this._show=function(t,i,s){t.publish("ViewWillAppear"),t.style.visible=!0,i?(this.addSubview(t),t.style.x=0,t.publish("ViewDidAppear")):(t.style.x=(s?-1:1)*this.style.width,this.addSubview(t),animate(t).then({x:0}).then(bind(t,"publish","ViewDidAppear")))},this.hasView=function(t){return 0<=this.stack.indexOf(t)},this.remove=function(t){t=this.stack.indexOf(t),t>=0&&this.stack.splice(t,1)},this.pop=function(t,i){if(!this.stack.length)return!1;var s=this.stack.pop();return this._hide(s,t,!1===i?!1:!0),this.stack.length&&this._show(this.stack[this.stack.length-1],t,!0),s},this.popAll=function(t){for(;this.stack[1];)this.pop(t)}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/View.js",'jsio("import device"),jsio("import event.Emitter as Emitter"),jsio("import math.geom.Point as Point"),jsio("import math.geom.Rect as Rect"),jsio("import .backend.canvas.ViewBacking"),jsio("import ui.backend.ReflowManager as ReflowManager");var _reflowMgr=ReflowManager.get();jsio("import event.input.dispatch as dispatch"),jsio("import event.input.InputHandler as InputHandler"),jsio("import animate"),jsio("import util.setProperty");var KeyListener=device.get("KeyListener"),EventScheduler=__class__,EventScheduler=EventScheduler(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this._queue=[]},this.add=function(t){if(this._queue.push(t),!this._running){for(this._running=!0;t=this._queue.shift();)t();this._running=!1}}}),scheduler=new EventScheduler,FocusMgr=new(Class(function(){this.init=function(){this._keyListener=KeyListener&&new KeyListener,this._target=null,this._canChange=!0},this.focus=function(t){this._target!=t&&this._canChange&&(this._target&&this._target.onBlur&&this._target.onBlur(this),(this._target=t)&&t.onFocus&&this._target.onFocus(this))},this.blur=function(t){t.onBlur&&t.onBlur(this),this._target=!1},this.getKeyListener=function(){return this._keyListener},this.get=function(){return this}})),UID=0,_BackingCtor=null,home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_View=__class__,View=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_View(function(){return this.init&&this.init.apply(this,arguments)},Emitter,function(){this.init=function(t){t||(t={}),this.uid=++UID,this.__rightSibling=this.__leftSibling=this.__children=this.__parent=null,this.__input=new InputHandler(this,t),this.__view=this.style=new(t.Backing||_BackingCtor)(this,t),this._filter=null,this.__view._view=this,this.updateOpts(t)},this.updateOpts=function(t){if(t=t||{},this._opts)for(var i in t)this._opts[i]=t[i];else this._opts=t;return t.tag&&(this.tag=t.tag),t.filter&&(this._filter=t.filter),t.infinite&&(this._infinite=t.infinite),this.style.update(t),this.__input.update(t),t.superview&&t.superview.addSubview(this),t.parent&&t.parent.addSubview(this),t},this.getFilters=function(){logger.WARN&&console.warn("WARN","ui.View","View.getFilters() is deprecated! Use View.getFilter() instead.");var t={};return this._filter&&(t[this._filter.getType()]=this._filter),t},this.getFilter=function(){return this._filter},this.addFilter=function(t){logger.WARN&&console.warn("WARN","ui.View","View.addFilter() is deprecated! Use View.setFilter() instead."),this.setFilter(t)},this.setFilter=function(t){this._filter=t},this.removeFilter=function(){this._filter=null},util.setProperty(this,"render",{value:void 0,cb:function(){this.__view&&(this.__view.hasJSRender=!0)}}),util.setProperty(this,"tick",{value:void 0,cb:function(){this.__view&&(this.__view.hasJSTick=!0)}}),this.getAnimation=function(t){return animate(this,t)},this.animate=function(t,i,e){return this.getAnimation().then(t,i,e)},this.focus=function(){return FocusMgr.get().focus(this),this},this.blur=function(){return FocusMgr.get().blur(this),this},this.onFocus=function(){this._isFocused=!0},this.onBlur=function(){this._isFocused=!1},this.isDragging=function(){return this.__input.isDragging()},this.startDrag=function(t){this.__input.startDrag(t)},this.getInput=function(){return this.__input},this.isInputOver=function(){return!!this.__input.overCount},this.getInputOverCount=function(){return this._inputOverCount},this.setHandleEvents=this.canHandleEvents=function(t,i){this.__input.canHandleEvents=t,"boolean"==typeof i&&(this.__input.blockEvents=i)},this.setIsHandlingEvents=function(t){this.__input.canHandleEvents=t},this.isHandlingEvents=function(){return this.__input.canHandleEvents},this.needsRepaint=function(){this._needsRepaint=!0},this.needsReflow=function(){(this.reflow!=t||this.style.layout)&&(_reflowMgr.add(this),this._needsRepaint=!0)},this.reflowSync=function(){_reflowMgr.reflow(this)},this._onEventPropagate=function(t,i,e){if(e){var n,i=t.id;switch(t.type){case dispatch.eventTypes.SELECT:case dispatch.eventTypes.CLEAR:dispatch._evtHistory[dispatch.eventTypes.MOVE]=null,(e=dispatch._activeInputOver[i])&&dispatch.clearOverState(i);break;case dispatch.eventTypes.START:case dispatch.eventTypes.MOVE:var s=t.trace[0],r=null;if((e=dispatch._activeInputOver[i])&&s!=e.trace[0]){var h=e.trace;for(n=0;r=h[n];++n)r.uid in t.pt||r.__input.onLeave(i,s==r)}if(!e||s!=e.trace[0]){for(h=t.trace,n=t.depth-1;n>=0;--n)h[n].__input.onEnter(i,s==r);dispatch._activeInputOver[i]=t}}}},this.localizePoint=function(t){var i=this.getParents(),e=0;for(i.push(this);i[e];)t=i[e++].__view.localizePoint(t);return t},this.getSubview=function(t){return this.__view.getSubviews()[t]},this.getSubviews=function(){return this.__view.getSubviews()},this.getSuperview=function(){return this.__view.getSuperview()},this.connectEvent=function(t){this.__subs||(this.__subs=[],this.on("ViewAdded",bind(this,"_connectEvents")),this.on("ViewRemoved",bind(this,"_disconnectEvents")),this.__root&&this._connectEvents());var i=Array.prototype.slice.call(arguments,1);this.__subs.push([t,i]),this.__root&&t.on.apply(t,i)},this.disconnectEvent=function(t){if(this.__subs)for(var i,e=Array.prototype.slice.call(arguments,1),n=0;i=this.__subs[n];++n){var s;if(s=i[0]==t)t:{s=0;for(var r=e.length;r>s;++s)if(e[s]!=i[1][s]){s=!1;break t}s=!0}s&&(i[0].removeListener.apply(i[0],i[1]),this.__subs.splice(n--,1))}},this._connectEvents=function(){for(var t,i=0;t=this.__subs[i];++i)t[0].on.apply(t[0],t[1])},this._disconnectEvents=function(){for(var t,i=0;t=this.__subs[i];++i)t[0].removeListener.apply(t[0],t[1])},this.addSubview=function(t){if(this.__view.addSubview(t)&&(t.needsRepaint(),this._linkView(t),t.__input.resetOver(),this.publish("SubviewAdded",t),this.__root)){var i=this.__root;scheduler.add(bind(this,function e(n){n.style.__firstRender||(n.style.__firstRender=!0,n.needsReflow()),n.__root=i,n.emit("ViewAdded",t);for(var s,n=n.getSubviews(),r=0;s=n[r];++r)e(s)},t))}return t},this._linkView=function(t){this._unlinkView(t),this.__children&&(this.__children.__leftSibling=t),t.__leftSibling=null,t.__rightSibling=this.__children,this.__children=t,t.__parent=this},this._unlinkView=function(t){t.__parent&&(t.__leftSibling&&(t.__leftSibling.__rightSibling=t.__rightSibling),t.__rightSibling&&(t.__rightSibling.__leftSibling=t.__leftSibling),t.__parent.__children==t&&(t.__parent.__children=t.__rightSibling),t.__leftSibling=null,t.__rightSibling=null,t.__parent=null)},this.removeSubview=function(t){return this.__view.removeSubview(t)&&(this._unlinkView(t),this.publish("SubviewRemoved",t),t.__root&&scheduler.add(bind(this,function i(t){t.__root=null,t.emit("ViewRemoved",this);for(var e,t=t.getSubviews(),n=0;e=t[n];++n)i(e)},t))),t},this.removeFromSuperview=function(){var t=this.__view.getSuperview();t&&t.removeSubview(this)},this.removeAllSubviews=function(){for(var t=this.getSubviews(),i=t.length;i--;)this.removeSubview(t[i])},util.setProperty(this,"_superview",{get:this.getSuperview,set:function(){}}),util.setProperty(this,"_subviews",{get:this.getSubviews,set:function(){}});var t=function(){};this.reflow=t,this.getEngine=this.getApp=function(){return this.__root},this.getParents=this.getSuperviews=function(){for(var t=[],i=this.getSuperview();i;)t.unshift(i),i=i.getSuperview();return t},this.buildView=function(){},this.containsLocalPoint=function(t){if(this._infinite)return!0;var i=this.style,e=i.width,i=i.height;return e>0&&i>0?t.x<=e&&t.y<=i&&0<=t.x&&0<=t.y:e>0?t.x<=e&&t.y>=i&&0<=t.x&&0>=t.y:i>0?t.x>=e&&t.y<=i&&0>=t.x&&0<=t.y:t.x>=e&&t.y>=i&&0>=t.x&&0>=t.y},this._boundingShape={},this.getBoundingShape=function(t){if(this._infinite)return!0;var i=this.style,e=i.width,n=i.height;if((!e||!n)&&i.layout){var s=this.getSuperview();s&&(s=s.getBoundingShape(!0),e||(e=s.width,i.layoutWidth&&(e*=parseInt(i.layoutWidth)/100)),!n)&&(n=s.height,i.layoutHeight&&(n*=parseInt(i.layoutHeight)/100))}return t?(this._boundingShape.x=i.x,this._boundingShape.y=i.y,this._boundingShape.width=e*i.scale,this._boundingShape.height=n*i.scale,this._boundingShape):new Rect(i.x,i.y,e*i.scale,n*i.scale)},this.getRelativeRegion=function(t,i){var e=this.getPosition(i||t.src);return new Rect((t.x-e.x)/e.scale,(t.y-e.y)/e.scale,t.width/e.scale,t.height/e.scale)},this.getPosition=function(t){for(var i=new Point,e=this,n=0,s=this.style,r=s.width,s=s.height,h=1;e&&e!=t;){var o=e.style.scale;i.add(-e.style.anchorX,-e.style.anchorY),i.rotate(e.style.r),i.scale(o),i.add(e.style.anchorX+e.style.x+e.style.offsetX,e.style.anchorY+e.style.y+e.style.offsetY),n+=e.style.r,r*=o,s*=o,h*=o,e=e.__view.getSuperview()}return{x:i.x,y:i.y,r:n%(2*Math.PI),width:r,height:s,scale:h,anchorX:this.style.anchorX,anchorY:this.style.anchorY}},this.getBacking=function(){return this.__view},this.show=function(){this.style.visible=!0,this.needsRepaint()},this.hide=function(){this.style.visible=!1,this.needsRepaint()},this.toString=this.getTag=function(){var t="View";return DEBUG&&(this.__tagClassName?t=this.__tagClassName:((t=this.constructor.name)||(t=this.constructor.toString().match(/^function ([^(]*)/)[1]),t&&(t=t.substr(t.lastIndexOf("_")+1)),this.__tagClassName=t||"unknown")),t+this.uid+(this.tag?":"+this.tag:"")}}),_extensions=[];View.addExtension=function(t){t.extend(View.BackingCtor),_extensions.push(t)},View.setDefaultViewBacking=function(t){_BackingCtor=View.BackingCtor=t,_extensions.forEach(function(t){t.extend(_BackingCtor)})},View.setDefaultViewBacking(backend.canvas.ViewBacking);'),
jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/canvas/ViewBacking.js",'jsio("import ..strPad"),jsio("import ..BaseBacking"),jsio("import util.setProperty as setProperty");var _styleKeys={},home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_canvas_ViewBacking=__class__,ViewBacking=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_canvas_ViewBacking(function(){return this.init&&this.init.apply(this,arguments)},BaseBacking,function(){this.constructor.absScale=1,this.init=function(i){this._view=i,this._subviews=[]},this.getSuperview=function(){return this._superview},this.getSubviews=function(){this._needsSort&&(this._needsSort=!1,this._subviews.sort());for(var i=[],t=this._subviews,s=t.length,e=0;s>e;++e)i[e]=t[e]._view;return i};var i=9e5;this.addSubview=function(t){var s=t.__view,e=s._superview;return e==this._view||this==s?!1:(e&&e.__view.removeSubview(t),t=this._subviews.length,this._subviews[t]=s,s._superview=this._view,s._setAddedAt(++i),t&&s.__sortKey<this._subviews[t-1].__sortKey&&(this._needsSort=!0),!0)},this.removeSubview=function(i){var t=this._subviews.indexOf(i.__view);return-1!=t?(this._subviews.splice(t,1),i.__view._superview=null,!0):!1},this.wrapTick=function(i,t){this._view.tick&&this._view.tick(i,t);for(var s,e=0;s=this._subviews[e];++e)s.wrapTick(i,t)},this.wrapRender=function(i,t){if(this.visible){this._needsSort&&(this._needsSort=!1,this._subviews.sort());var s=this._width,e=this._height;if(!(0>s||0>e)){i.save(),i.translate(this.x+this.anchorX+this.offsetX,this.y+this.anchorY+this.offsetY),this.r&&i.rotate(this.r),1!=this.scale&&(i.scale(this.scale,this.scale),ViewBacking.absScale*=this.scale),1!=this.scaleX&&i.scale(this.scaleX,1),1!=this.scaleY&&i.scale(1,this.scaleY),this.absScale=ViewBacking.absScale,1!=this.opacity&&(i.globalAlpha*=this.opacity),i.translate(-this.anchorX,-this.anchorY),this.clip&&i.clipRect(0,0,s,e);var r={},h=this._view.getFilter();h&&(r[h.getType()]=h),i.setFilters(r),(this.flipX||this.flipY)&&(i.translate(this.flipX?s/2:0,this.flipY?e/2:0),i.scale(this.flipX?-1:1,this.flipY?-1:1),i.translate(this.flipX?-s/2:0,this.flipY?-e/2:0));try{this.compositeOperation&&(i.globalCompositeOperation=this.compositeOperation),this.backgroundColor&&(i.fillStyle=this.backgroundColor,i.fillRect(0,0,s,e));var n=t.viewport;this._view.render&&this._view.render(i,t),this._renderSubviews(i,t),t.viewport=n}finally{i.clearFilters(),i.restore(),ViewBacking.absScale/=this.scale}}}},this._renderSubviews=function(i,t){for(var s,e=0,r=this._subviews;s=r[e++];)s.wrapRender(i,t)},this._onResize=function(){this._view.needsReflow()},this._sortIndex=strPad.initialValue,this._onZIndex=function(i,t){this._sortIndex=strPad.pad(t),this._setSortKey(),this._view.needsRepaint();var s=this._view.getSuperview();s&&(s.__view._needsSort=!0)},this._setAddedAt=function(i){this._addedAt=i,this._setSortKey()},this._setSortKey=function(){this.__sortKey=this._sortIndex+this._addedAt},this._onOffsetX=function(i){this.offsetX=i*this.width/100},this._onOffsetY=function(i){this.offsetY=i*this.height/100},this.toString=function(){return this.__sortKey}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/strPad.js",'var LEN=8,MAX=99999999,MIN=-99999999,PAD="00000000";exports.initialValue=PAD,exports.pad=function(t){return t=~~t,MIN>t&&(t=MIN),t>MAX&&(t=MAX),0>t?(t*=-1,"-"+PAD.substring(0,LEN-(""+t).length)+t):PAD.substring(0,LEN-(""+t).length)+t};'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/BaseBacking.js",'jsio("import util.setProperty as setProperty");var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_BaseBacking=__class__,BaseBacking=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_BaseBacking(function(){return this.init&&this.init.apply(this,arguments)},function(){var e=this.constructor.styleKeys={},t={x:{value:0},y:{value:0},offsetX:{value:0},offsetY:{value:0},offsetXPercent:{value:void 0,cb:"_onOffsetX"},offsetYPercent:{value:void 0,cb:"_onOffsetY"},anchorX:{value:0},anchorY:{value:0},centerAnchor:{value:!1},width:{cb:"_onResize"},height:{cb:"_onResize"},r:{value:0},opacity:{value:1},zIndex:{value:0,cb:"_onZIndex"},scale:{value:1},scaleX:{value:1},scaleY:{value:1},flipX:{value:!1},flipY:{value:!1},visible:{value:!0},shadowColor:{value:"black"},clip:{value:!1},backgroundColor:{value:""},compositeOperation:{value:void 0}};this.constructor.addProperty=function(t,s){e[t]=!0,setProperty(this.prototype,t,s)};for(var s in t)this.constructor.addProperty(s,t[s]);this.localizePoint=function(e){return e.x-=this.x+this.anchorX+this.offsetX,e.y-=this.y+this.anchorY+this.offsetY,this.r&&e.rotate(-this.r),e.scale(1/this.scale),e.x+=this.anchorX,e.y+=this.anchorY,e},this.copy=function(){var t,s={};for(t in e)s[t]=this[t];return s},this.update=function(t){for(var s in t)t.hasOwnProperty(s)&&e.hasOwnProperty(s)&&(this[s]=t[s]);return this}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/event/input/InputHandler.js",'jsio("import math.geom.Point as Point"),jsio("import event.input.dispatch as dispatch");var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_event_input_InputHandler=__class__,InputHandler=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_event_input_InputHandler(function(){return this.init&&this.init.apply(this,arguments)},function(){this.overCount=this.dragCount=this.startCount=0,this.canHandleEvents=!0,this.blockEvents=!1,this.init=function(t,i){this.view=t,this.update(i)},this.update=function(t){"canHandleEvents"in t&&(this.canHandleEvents=t.canHandleEvents),"blockEvents"in t&&(this.blockEvents=t.blockEvents)},this.containsEvent=function(t,i){return!this.blockEvents&&(!this.view._superview||this.view.containsLocalPoint(i))},this.onEnter=function(t,i){var n=this.view,r=this._over||(this._over={});t in r||(r[t]=!0,this.overCount++,n.onInputOver&&n.onInputOver(r,this.overCount,i),n.publish("InputOver",r,this.overCount,i))},this.onLeave=function(t,i){var n=this.view,r=this._over||(this._over={});t in r&&(delete r[t],--this.overCount,n.onInputOut&&n.onInputOut(r,this.overCount,i),n.publish("InputOut",r,this.overCount,i))},this.resetOver=function(){delete this._over,this.overCount=0},this.startDrag=function(t){var t=t||{},i=this.view,n=t.inputStartEvt||t.inputStartEvent||dispatch._evtHistory[dispatch.eventTypes.START],r=n.id,s=this._isDragging||(this._isDragging={});s[r]||(s[r]=!0,++this.dragCount,++this.startCount,r=n.root,i=new dispatch.InputEvent(n.id,"input:drag",n.srcPt.x,n.srcPt.y,r,i),i.didDrag=!1,i.radius=t.radius*t.radius||0,r.subscribe("InputMoveCapture",this,"onDragStart",i),r.subscribe("InputSelectCapture",this,"onDragStop",i))},this.isDragging=function(){return this.dragCount&&dispatch._isDragging},this.onDragStart=function(t,i){var n=i.srcPt.x-t.srcPt.x,r=i.srcPt.y-t.srcPt.y;n*n+r*r<=t.radius||t.didDrag||(t.didDrag=!0,--this.startCount,n=this.view,0==this.startCount&&t.root.unsubscribe("InputMoveCapture",this,"onDragStart"),t.currPt=t.srcPt,t.localPt=n.localizePoint(new Point(t.currPt)),n.onDragStart&&n.onDragStart(t),n.publish("DragStart",t),t.root.subscribe("InputMoveCapture",this,"onDrag",t),this.onDrag(t,i))},this.onDrag=function(t,i){if(t.id==i.id&&(i.srcPt.x!=t.currPt.x||i.srcPt.y!=t.currPt.y)){var n=this.view;t.prevPt=t.currPt,t.currPt=i.srcPt,t.prevLocalPt=t.localPt,t.localPt=n.localizePoint(new Point(t.currPt));var r=Point.subtract(t.localPt,t.prevLocalPt);dispatch._isDragging=!0,n.onDrag&&n.onDrag(t,i,r),n.publish("Drag",t,i,r)}},this.onDragStop=function(t,i){var n=t.id,r=this._isDragging||(this._isDragging={});r[n]&&t.id==i.id&&(delete r[n],--this.dragCount,this.dragCount||(t.root.unsubscribe("InputMoveCapture",this,"onDragStart"),t.root.unsubscribe("InputMoveCapture",this,"onDrag"),t.root.unsubscribe("InputSelectCapture",this,"onDragStop"),dispatch._isDragging=!1),t.didDrag)&&(n=this.view,i.cancel(),n.onDragStop&&n.onDragStop(t,i),n.publish("DragStop",t,i))}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/animate.js",'jsio("import ui.backend.canvas.animate as exports");'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/canvas/animate.js",'function getTransition(t){return"function"==typeof t?t:TRANSITIONS[0|t]}jsio("import event.Emitter as Emitter"),jsio("import animate.transitions as transitions"),jsio("import timer");var anim_uid=0;exports=function(t,i){if("undefined"==typeof Engine&&(jsio("import ui.Engine as Engine"),jsio("import ui.View as View"),jsio("import device")),device.useDOM&&t instanceof View&&!i)return t.getAnimation();var i=i||0,e=groups[i]||(groups[i]=new Group),s=t.__anim_id||(t.__anim_id="__anim_"+ ++anim_uid),n=e.get(s);return n||(n=t instanceof View?new ViewAnimator(t,e):new Animator(t,e),e.add(s,n)),n},exports.getViewAnimator=function(){return ViewAnimator},exports.setViewAnimator=function(t){ViewAnimator=t};var Group=__class__,Group=Group(function(){return this.init&&this.init.apply(this,arguments)},Emitter,function(){this.init=function(){this._anims={},this._pending=[]},this.get=function(t){return this._anims[t]},this.add=function(t,i){return this._anims[t]=i,i.id=t,i},this.isActive=function(){for(var t in this._anims)if(this._anims[t].hasFrames())return!0;return!1},this.onAnimationFinish=function(t){delete this._anims[t.id],this.isActive()||this.publish("Finish")}}),groups={0:new Group};exports.getGroup=function(t){return groups[t||0]};var TRANSITIONS=[transitions.easeInOut,transitions.linear,transitions.easeIn,transitions.easeOut,transitions.easeInOut,transitions.easeInQuad,transitions.easeOutQuad,transitions.easeInOutQuad,transitions.easeInCubic,transitions.easeOutCubic,transitions.easeInOutCubic,transitions.easeInQuart,transitions.easeOutQuart,transitions.easeInOutQuart,transitions.easeInQuint,transitions.easeOutQuint,transitions.easeInOutQuint,transitions.easeInSine,transitions.easeOutSine,transitions.easeInOutSine,transitions.easeInExpo,transitions.easeOutExpo,transitions.easeInOutExpo,transitions.easeInCirc,transitions.easeOutCirc,transitions.easeInOutCirc,transitions.easeInElastic,transitions.easeOutElastic,transitions.easeInOutElastic,transitions.easeInBack,transitions.easeOutBack,transitions.easeInOutBack,transitions.easeOutBounce,transitions.easeInBounce,transitions.easeInOutBounce];exports.linear=1,exports.easeIn=2,exports.easeOut=3,exports.easeInOut=4,exports.easeInQuad=5,exports.easeOutQuad=6,exports.easeInOutQuad=7,exports.easeInCubic=8,exports.easeOutCubic=9,exports.easeInOutCubic=10,exports.easeInQuart=11,exports.easeOutQuart=12,exports.easeInOutQuart=13,exports.easeInQuint=14,exports.easeOutQuint=15,exports.easeInOutQuint=16,exports.easeInSine=17,exports.easeOutSine=18,exports.easeInOutSine=19,exports.easeInExpo=20,exports.easeOutExpo=21,exports.easeInOutExpo=22,exports.easeInCirc=23,exports.easeOutCirc=24,exports.easeInOutCirc=25,exports.easeInElastic=26,exports.easeOutElastic=27,exports.easeInOutElastic=28,exports.easeInBack=29,exports.easeOutBack=30,exports.easeInOutBack=31,exports.easeInBounce=32,exports.easeOutBounce=33,exports.easeInOutBounce=34;var Frame=__class__,Frame=Frame(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){this.subject=t.subject,this.target=t.target,this.duration=t.duration||0,this.transition=getTransition(t.transition),this.onTick=t.onTick},this.exec=function(){},this.onInterrupt=function(){}}),CallbackFrame=__class__,CallbackFrame=CallbackFrame(function(){return this.init&&this.init.apply(this,arguments)},Frame,function(){this.exec=function(){this.target.apply(this.subject,arguments)}}),WaitFrame=Frame,ObjectFrame=__class__,ObjectFrame=ObjectFrame(function(){return this.init&&this.init.apply(this,arguments)},Frame,function(){this.exec=function(t,i,e){if(!this.base){this.base={};for(var s in this.target)this.base[s]=this.subject[s]}for(s in this.target)this.subject[s]=(this.target[s]-this.base[s])*t+this.base[s];if(e){i={};for(s in this.target)i[s]=this.subject[s]+" -> "+this.target[s];logger.LOG&&console.log("LOG","ui.backend.canvas.animate",this.duration,t,JSON.stringify(i))}}}),ViewStyleFrame=__class__,ViewStyleFrame=ViewStyleFrame(function(){return this.init&&this.init.apply(this,arguments)},Frame,function(){this._resolvedDeltas=!1,this.init=function(t){this.subject=t.subject,this.target=merge({},t.target),this.duration=0===t.duration?0:t.duration||500,this.transition=getTransition(t&&t.transition),this.onTick=t.onTick},this.resolveDeltas=function(t){var i=this.target;this._resolvedDeltas=!0;for(var e in i){var s=e.substring(1);"d"==e.charAt(0)&&!(e in t)&&s in t&&(i[s]=i[e]+t[s],delete i[e])}},this.exec=function(t,i,e){var s=this._baseStyle||(this._baseStyle=this.subject.style.copy()),i=this.target;this._resolvedDeltas||this.resolveDeltas(this._baseStyle);var n,s=this._baseStyle;for(n in i)n in s&&(this.subject.style[n]=(i[n]-s[n])*t+s[n]);if(e){e={};for(n in i)e[n]=this.subject.style[n]+" -> "+i[n];logger.LOG&&console.log("LOG","ui.backend.canvas.animate",timer.now,this.duration,t,JSON.stringify(e))}},this.onInterrupt=function(){}});exports.Animator=__class__;var Animator=exports.Animator=exports.Animator(function(){return this.init&&this.init.apply(this,arguments)},Emitter,function(){this.init=function(t,i){this.subject=t,this._group=i,this.clear(),this._isPaused=!1},this.clear=function(){return this._elapsed=0,this._queue=[],this._unschedule(),this},this.pause=function(){this._isPaused||(this._isPaused=!0,this._unschedule())},this.resume=function(){this._isPaused&&(this._isPaused=!1,this._schedule())},this._schedule=function(){this._isScheduled||(this._isScheduled=!0,Engine.get().subscribe("Tick",this,"onTick"))},this._unschedule=function(){this._isScheduled&&(this._isScheduled=!1,Engine.get().unsubscribe("Tick",this,"onTick"))},this.isPaused=function(){return this._isPaused},this.hasFrames=function(){return!!this._queue[0]},this.wait=function(t){return this.then(new WaitFrame({duration:t}))},this.buildFrame=function(t){return"function"==typeof t.target?new CallbackFrame(t):"object"==typeof t.target?new ObjectFrame(t):new WaitFrame(t)},this.now=function(t,i,e,s){return e=e||(this._queue[0]?exports.easeOut:exports.easeInOut),t=t instanceof Frame?t:this.buildFrame({subject:this.subject,target:t,duration:i,transition:e,onTick:s}),(i=this._queue[0])&&i.onInterrupt(t),this.clear(),this.then(t)},this.then=function(t,i,e,s){return t=t instanceof Frame?t:this.buildFrame({subject:this.subject,target:t,duration:i,transition:e,onTick:s}),this._queue.length||(this._elapsed=0),this._queue.push(t),this._schedule(),this},this.debug=function(){return this._debug=!0,this},this.commit=function(){for(var t,i=this._elapsed=0;t=this._queue[i];++i)this._elapsed+=t.duration;return this.next(),this},this.onTick=function(t){this._isScheduled&&(this._elapsed+=t,this.next(),!this._isScheduled)&&this._group.onAnimationFinish(this)},this.next=function(){var t;if(this._queue[0]){for(;t=this._queue[0];){var i=this._elapsed>=t.duration,e=i?1:this._elapsed/t.duration,s=t.transition(e);i&&(this._elapsed-=t.duration);try{t.exec(s,e,this._debug),t.onTick&&t.onTick.call(t.subject,s,e)}finally{if(i&&t==this._queue[0]&&this._queue.shift(),!i||this._isPaused)return}}this._unschedule()}}}),ViewAnimator=__class__,ViewAnimator=ViewAnimator(function(){return this.init&&this.init.apply(this,arguments)},Animator,function(t){this.buildFrame=function(i){return"object"==typeof i.target?new ViewStyleFrame(i):t(this,"buildFrame",arguments)}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/animate/transitions.js","exports.linear=function(t){return t},exports.easeIn=exports.easeInQuad=function(t){return t*t},exports.easeOut=exports.easeOutQuad=function(t){return t*(2-t)},exports.easeInOutQuad=function(t){return 1>(t*=2)?.5*t*t:-.5*(--t*(t-2)-1)},exports.easeInCubic=function(t){return t*t*t},exports.easeOutCubic=function(t){return(t-=1)*t*t+1},exports.easeInOut=exports.easeInOutCubic=function(t){return 1>(t*=2)?.5*t*t*t:.5*((t-=2)*t*t+2)},exports.easeInQuart=function(t){return t*t*t*t},exports.easeOutQuart=function(t){return-1*((t-=1)*t*t*t-1)},exports.easeInOutQuart=function(t){return 1>(t*=2)?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},exports.easeInQuint=function(t){return t*t*t*t*t},exports.easeOutQuint=function(t){return(t-=1)*t*t*t*t+1},exports.easeInOutQuint=function(t){return 1>(t*=2)?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},exports.easeInSine=function(t){return 0==t?0:1==t?1:-1*Math.cos(t*(Math.PI/2))+1},exports.easeOutSine=function(t){return 0==t?0:1==t?1:Math.sin(t*(Math.PI/2))},exports.easeInOutSine=function(t){return 0==t?0:1==t?1:-.5*(Math.cos(Math.PI*t)-1)},exports.easeInExpo=function(t){return 0==t?0:1==t?1:0==t?0:Math.pow(2,10*(t-1))},exports.easeOutExpo=function(t){return 0==t?0:1==t?1:1==t?1:-Math.pow(2,-10*t)+1},exports.easeInOutExpo=function(t){return 0==t?0:1==t?1:1>(t*=2)?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},exports.easeInCirc=function(t){return 0==t?0:1==t?1:-1*(Math.sqrt(1-t*t)-1)},exports.easeOutCirc=function(t){return 0==t?0:1==t?1:Math.sqrt(1-(t-=1)*t)},exports.easeInOutCirc=function(t){return 0==t?0:1==t?1:1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},exports.easeInElastic=function(t){return 0==t?0:1==t?1:-(Math.pow(2,10*(t-=1))*Math.sin(2*(t-.075)*Math.PI/.3))},exports.easeOutElastic=function(t){return 0==t?0:1==t?1:Math.pow(2,-10*t)*Math.sin(2*(t-.075)*Math.PI/.3)+1},exports.easeInOutElastic=function(t){return 0==t?0:2==(t*=2)?1:1>t?-.5*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-.1125)*Math.PI/.45):.5*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-.1125)*Math.PI/.45)+1},exports.easeInBack=function(t){return 0==t?0:1==t?1:t*t*(2.70158*t-1.70158)},exports.easeOutBack=function(t){return 0==t?0:1==t?1:(t-=1)*t*(2.70158*t+1.70158)+1},exports.easeInOutBack=function(t){if(0==t)return 0;if(1==t)return 1;var e=1.70158;return 1>(t*=2)?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},exports.easeOutBounce=function(t){return 0==t?0:1==t?1:1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},exports.easeInBounce=function(t){return 1-exports.easeOutBounce(1-t)},exports.easeInOutBounce=function(t){return.5>t?.5*exports.easeInBounce(2*t):.5*exports.easeOutBounce(2*t-1)+.5};"),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/debug/FPSView.js",'function strokeRect(t,i,e){t.fillStyle=e,t.fillRect(i.x,i.y,1,i.height),t.fillRect(i.x,i.y,i.width,1),t.fillRect(i.x+i.width-1,i.y,1,i.height),t.fillRect(i.x,i.y+i.height-1,i.width,1)}function fillRect(t,i,e){t.fillStyle=e,t.fillRect(i.x,i.y,i.width,i.height)}jsio("import device"),jsio("import lib.Enum as Enum"),jsio("import math.geom.Rect as Rect"),jsio("import math.geom.intersect as intersect"),jsio("import event.input.dispatch as dispatch");var viewModes=new Enum("FPS","DT"),Graph=__class__,Graph=Graph(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){var i=device.get("Canvas");this._width=t.width,this._height=t.height,this._maxValue=t.maxValue,this._backgroundColor=t.backgroundColor,this._colors=t.colors,this._axisColor=t.axisColor,this._canvas=new i({width:t.width,height:t.height}),this._ctx=this._canvas.getContext("2d"),this._ctx.fillStyle=t.backgroundColor,this._ctx.fillRect(0,0,t.width,t.height),this._index=this._offset=0},this.addValues=function(t,i){var e,s,h=this._ctx,o=this._width,r=this._height,_=this._maxValue,l=(this._offset+this._index)%o;for(h.fillStyle=this._backgroundColor,h.fillRect(l,0,2,r),s=t.length;s;)e=t[--s],e>_&&(e=_),e=~~(e/_*r),h.fillStyle=this._colors[s],h.fillRect(l,r-e,2,e);h.fillStyle=this._axisColor,i&&h.fillRect(l,0,1,r),h.fillRect(l,25,2,1),h.fillRect(l,50,2,1),h.fillRect(l,75,2,1),this._index<o?this._index+=2:(this._offset+=2,this._offset>=o&&(this._offset=0))},this.render=function(t,i,e){var s=this._offset,h=this._width,o=this._height;0===s?t.drawImage(this._canvas,0,0,h,o,i,e,h,o):(t.drawImage(this._canvas,s,0,h-s,o,i,e,h-s,o),t.drawImage(this._canvas,0,0,s,o,h-s+i,e,s,o))}}),home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_debug_FPSView=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_debug_FPSView(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){this._application=t.application,this._time=+new Date+1e3,this._frames=0,this._fps=20,this._dt=10,this._minimized=!0,this._rectTop=new Rect(1,1,200,16),this._rectMin=new Rect(0,0,24,15),this._rectMax=new Rect(0,0,202,117),this._rect=this._rectMin,this._rectFPS=new Rect(141,1,30,15),this._rectDT=new Rect(171,1,30,15),this._borderColor="rgb(100,100,150)",this._backgroundColor="#17182E",this._textColor="#FFFFFF",this._viewMode=viewModes.DT,this._graphs={},this._graphs[viewModes.FPS]=new Graph({width:200,height:100,maxValue:60,backgroundColor:this._backgroundColor,colors:["rgba(170,170,252,0.3)","rgb(170,170,252)"],axisColor:"#FFFFFF"}),this._graphs[viewModes.DT]=new Graph({width:200,height:100,maxValue:66,backgroundColor:this._backgroundColor,colors:["rgba(255,0,0,0.5)","rgb(254,255,170)"],axisColor:"#FFFFFF"})},this.tick=function(t){var i=+new Date;if(i>this._time?(this._time=i+1e3,this._fps=this._frames,this._frames=1):this._frames++,i=this._application.getEvents(),i.length&&this._handleEvents(i),this._dt=.8*this._dt+.2*t,!this._minimized)switch(this._viewMode){case viewModes.DT:this._graphs[viewModes.DT].addValues([this._dt,t],1===this._frames);break;case viewModes.FPS:this._graphs[viewModes.FPS].addValues([this._fps,1e3/t],1===this._frames)}},this._handleEvents=function(t){for(var i=dispatch.eventTypes,e=t.length;e;){var s=t[--e];switch(s.type){case i.START:intersect.ptAndRect(s.srcPt,this._rect)&&(this._minimized?this._minimized=!1:intersect.ptAndRect(s.srcPt,this._rectFPS)?this._viewMode=viewModes.FPS:intersect.ptAndRect(s.srcPt,this._rectDT)?this._viewMode=viewModes.DT:this._minimized=!0,this._rect=this._minimized?this._rectMin:this._rectMax)}}},this.render=function(t){if(t.save(),t.textBaseline="top",t.textAlign="center",t.font="12px Verdana",this._minimized)fillRect(t,this._rect,this._backgroundColor);else{fillRect(t,this._rectTop,this._backgroundColor),this._graphs[this._viewMode].render(t,1,17),t.fillStyle=this._borderColor,t.fillRect(0,16,this._rect.width,1);var i=this._viewMode===viewModes.FPS,e=this._viewMode===viewModes.DT;fillRect(t,this._rectFPS,i?this._borderColor:this._backgroundColor),t.fillStyle=i?this._textColor:this._borderColor,t.fillText("FPS",this._rectFPS.x+this._rectFPS.width/2,0),fillRect(t,this._rectDT,e?this._borderColor:this._backgroundColor),t.fillStyle=e?this._textColor:this._borderColor,t.fillText("DT",this._rectDT.x+this._rectDT.width/2,0)}strokeRect(t,this._rect,this._borderColor),t.fillStyle=this._textColor,t.fillText(this._fps,12,0),t.restore()},this.getFPS=function(){return this._fps}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/initialize.js",'jsio("import device"),jsio("from util.browser import $"),device.registerDevice("browser","platforms.browser"),exports.init=function(){var e;if(device.isMobileBrowser){device.setUseDOM(!0);var i=device.screen;if(device.isIOS||device.isAndroid){var d=!1;window.addEventListener("focus",function(e){e=e.target.tagName,("TEXTAREA"==e||"INPUT"==e)&&(d=!0)},!0),document.addEventListener("blur",function(){d&&(d=!1)},!0),device.hideAddressBar=function(){!d&&device.isMobileBrowser&&(device.isIOS||device.isAndroid)&&(device.isIOS?(window.scrollTo(0,1),window.scrollTo(0,0)):window.scrollTo(0,-1))},CONFIG.unlockViewport||window.addEventListener("touchstart",bind(device,"hideAddressBar"),!0)}var n,t,r;e=function(){device.isIOS&&device.hideAddressBar();var e=window.outerWidth,d=window.outerHeight,c=window.orientation;n==e&&t==d&&r==c||(n=e,t=d,r=c,i.isPortrait=d>e,i.isLandscape=!i.isPortrait,7<=device.iosVersion&&(90==c||-90==c)?(e=i.width,d=i.height,d>e&&(e=d,d=i.width)):(e=window.innerWidth,d=window.innerHeight),device.width==e&&device.height==d&&device.orientation==c)||(device.width=e,device.height=d,device.orientation=c,device.screen.publish("Resize",device.width,device.height,device.orientation))}}else e=function(){var e=window.document,i=window.innerWidth||e.clientWidth||e.clientWidth,e=window.innerHeight||e.clientHeight||e.clientHeight;(i!=device.width||e!=device.height)&&(device.width=i,device.height=e,device.screen.width=i,device.screen.height=e,i>e?(device.screen.isPortrait=!1,device.screen.isLandscape=!0,device.screen.orientation="landscape"):(device.screen.isPortrait=!0,device.screen.isLandscape=!1,device.screen.orientation="portrait"),device.screen.publish("Resize",i,e))};$.onEvent(window,"resize",e,!1),$.onEvent(window,"orientationchange",e,!1),e()};'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/Input.js",'jsio("import device"),jsio("from util.browser import $"),jsio("import event.input.dispatch as input");var eventTypes=input.eventTypes,UID=-1,home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_Input=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_Input(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(e){(device.simulatingMobileNative||device.simulatingMobileBrowser)&&(this._simulateMobile=!0),this._evtQueue=[],this._rootView=e.rootView,e.el&&(device.isMobileBrowser&&(this._toggleNode=$({parent:document.body})),this.setElement(e.el)),this._isOver=!1,this._keyListener=e.keyListener,device.useDOM&&$.onEvent(document,device.events.start,this,"handleMouse",eventTypes.START),this.enable(),this._hasFocus=!1,document.addEventListener&&(document.addEventListener("focus",bind(this,"onFocusCapture"),!0),document.addEventListener("blur",bind(this,"onBlurCapture"),!0))},this.enable=function(){this._handleMove=$.onEvent(document,device.events.move,this,"handleMouse",eventTypes.MOVE),this._handleSelect=$.onEvent(document,device.events.end,this,"handleMouse",eventTypes.SELECT),this._handleScroll=$.onEvent(window,"DOMMouseScroll",this,"handleMouse",eventTypes.SCROLL),this._handleWheel=$.onEvent(window,"mousewheel",this,"handleMouse",eventTypes.SCROLL)},this.disable=function(){this._handleMove&&(this._handleMove(),this._handleMove=!1),this._handleSelect&&(this._handleSelect(),this._handleSelect=!1),this._handleScroll&&(this._handleScroll(),this._handleScroll=!1),this._handleWheel&&(this._handleWheel(),this._handleWheel=!1)},this.onFocusCapture=function(e){var t=e.target.tagName;("TEXTAREA"==t||"INPUT"==t)&&(this._hasFocus=e.target,this._keyListener&&this._keyListener.setEnabled(!1))},this.onBlurCapture=function(){this._hasFocus&&(this._hasFocus=null,this._keyListener&&this._keyListener.setEnabled(!0))},this.setElement=function(e){if(this._el=e,this._elEvents)for(var t,s=0;t=this._elEvents[s];++s)t();e.ondragstart=function(){return!1},e.onselectstart=function(){return!1},this._elEvents=[],device.useDOM||this._elEvents.push($.onEvent(e,device.events.start,this,"handleMouse",eventTypes.START)),!device.isMobileBrowser&&!device.isNative&&(this._elEvents.push($.onEvent(e,"mouseover",this,"onMouseOver")),this._elEvents.push($.onEvent(e,"mouseout",this,"onMouseOut")))},this.onMouseOver=function(){this._isOver=!0},this.onMouseOut=function(){this._isOver=!1},this.onMouseDown=function(){this._isMouseDown=!0},this.onMouseUp=function(){this._isMouseUp=!0},this.getEvents=function(){return this._evtQueue},this.allowScrollEvents=function(e){this._allowScrollEvents=e},this.handleMouse=function(e,t){var s=t.target;if(!(this._hasFocus&&this._hasFocus==s||s&&s.getAttribute&&s.getAttribute("noCapture"))){var i=device.isMobileBrowser;if(device.useDOM||i||this._isDown||!this._el||t.target==this._el)if(i?($.stopEvent(t),t.returnValue=!1):!this._isOver||this._allowScrollEvents&&e==eventTypes.SCROLL||(t.stopPropagation&&t.stopPropagation(),e!=eventTypes.START&&($.stopEvent(t),t.returnValue=!1)),t.touches)for(var n,s=0;n=t.changedTouches[s];++s)this.handleMouse(e,n,!0);else{var o;if("offsetX"in t&&!device.useDOM)n=t.offsetX,o=t.offsetY;else if(this._el.getBoundingClientRect)o=this._el.getBoundingClientRect(),n=t.pageX-o.left,o=t.pageY-o.top;else{for(i=this._el;i;)n+=i.offsetTop,o+=i.offsetLeft,i=i.parentNode;n=t.pageX-n,o=t.pageY-o}if(i=t.identifier||UID,this._simulateMobile)switch(e){case eventTypes.START:this._moveOK=!0;break;case eventTypes.MOVE:if(!this._moveOK)return;break;case eventTypes.SELECT:this._moveOK=!1}if(e==eventTypes.START?this._isDown=!0:e==eventTypes.SELECT&&(this._isDown=!1,this._toggleNode&&(document.body.removeChild(this._toggleNode),document.body.appendChild(this._toggleNode))),n=new input.InputEvent(i,e,n,o),device.useDOM){for(;s&&!s._view;)s=s.parentNode;if(!s)return;n.target=s._view}e==eventTypes.SCROLL&&("wheelDeltaX"in t?(n.scrollDelta=t.wheelDeltaY/120,n.scrollAxis=input.VERTICAL_AXIS,t.wheelDeltaX&&t.wheelDeltaY?(s=n.clone(),s.scrollDelta=t.wheelDeltaX/120,s.scrollAxis=input.HORIZONTAL_AXIS,input.dispatchEvent(this._rootView,s)):t.wheelDeltaX&&(n.scrollDelta=t.wheelDeltaX/120,n.scrollAxis=input.HORIZONTAL_AXIS)):t.detail?(n.scrollDelta=-t.detail,n.scrollAxis="axis"in t?t.axis==t.VERTICAL_AXIS?input.VERTICAL_AXIS:input.HORIZONTAL_AXIS:input.VERTICAL_AXIS):t.wheelDelta&&(n.scrollDelta=(window.opera?1:-1)*t.wheelDelta/120,n.scrollAxis=input.VERTICAL_AXIS)),input.dispatchEvent(this._rootView,n)}}}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/InputPrompt.js",'var KeyboardTypes={Default:0,NumbersAndPunctuation:2,URL:3,NumberPad:4,PhonePad:5,EmailAddress:7,DecimalPad:8},home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_InputPrompt=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_InputPrompt(function(){return this.init&&this.init.apply(this,arguments)},function(){var t={onChange:function(){},title:"",message:"",value:"",prompt:""};this.init=function(e){e=merge(e,t),this.onChange=e.onChange,this.onSubmit=e.onSubmit,this._value=e.value,this._message=e.title||e.message||e.prompt},this.show=function(){var t=window.prompt(this._message,this._value);null!==t?(this._value=t,this.onChange&&this.onChange(t),this.onSubmit&&this.onSubmit(t)):this.onChange&&this.onChange(t)},this.getValue=function(){return this._value},this.setValue=function(t){return this._value=t,this},this.setMessage=function(t){return this._message=t,this},this.setOkButton=function(t){return this._okText=t,this},this.setCancelButton=function(t){return this._cancelText=t,this},this.setKeyboardType=function(){return logger.WARN&&console.warn("WARN",".InputPrompt","Setting keyboard type in the browser does nothing"),this},this.requestFocus=function(){return this.show(),this},this.closeEditField=function(){},this.setHint=function(){},this.refresh=function(){}}),exports.showStatusBar=function(){},exports.hideStatusBar=function(){},exports.KeyboardTypes=KeyboardTypes;'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/KeyListener.js",'jsio("import lib.PubSub as PubSub"),jsio("import lib.Enum"),jsio("import event.input.keys as keyConstants"),jsio("import device"),jsio("import timer"),jsio("from util.browser import $");var gListenerSingleton=null,gCancelKeys=lib.Enum(keyConstants.SPACE,keyConstants.LEFT,keyConstants.RIGHT,keyConstants.UP,keyConstants.DOWN),home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_KeyListener=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_KeyListener(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){return gListenerSingleton?gListenerSingleton:(gListenerSingleton=this,this._el=t=t||document,this._events=[],this._shortcuts=[],this._isEnabled=!0,this._keyMap={},$.onEvent(t,"keydown",this,"onKeyDown"),$.onEvent(t,"keypress",this,"onKeyPress"),$.onEvent(t,"keyup",this,"onKeyUp"),void $.onEvent(window,"blur",this,"liftAll"))},this.setEnabled=function(t){this._isEnabled=t},this.captureShortcut=function(t){this._shortcuts.push(t)},this.getPressed=function(){return this._keyMap},this.onKeyDown=function(t){if(this._isEnabled){var e={code:t.keyCode,ctrl:t.ctrlKey,shift:t.shiftKey,alt:t.altKey,meta:t.metaKey,lifted:!1,dt:timer.getTickProgress()};if(e.ctrl||e.shift||e.alt||e.meta){for(var s,i=!1,n=0;s=this._shortcuts[n];++n)s.compare(e)&&(s.publish("Down",e),i=!0);i&&$.stopEvent(t)}else $.stopEvent(t),t.keyCode in this._keyMap||(this._events.push(e),this._keyMap[t.keyCode]=+new Date)}},this.liftAll=function(){var t,e=timer.getTickProgress();for(t in this._keyMap)this._events.push({code:t,lifted:!0,dt:e});this._keyMap={}},this.onKeyUp=function(t){var e=timer.getTickProgress();delete this._keyMap[t.keyCode],this._events.push({code:t.keyCode,lifted:!0,dt:e}),$.stopEvent(t)},this.onKeyPress=function(t){this._isEnabled&&t.keyCode in gCancelKeys&&$.stopEvent(t)},this.peekEvents=function(){return this._events},this.popEvents=function(){return this._events.splice(0,this._events.length)}}),merge(exports.prototype,keyConstants),exports.Shortcut=__class__,exports.Shortcut=exports.Shortcut(function(){return this.init&&this.init.apply(this,arguments)},PubSub,function(){this.init=function(t,e,s,i,n){this.ctrl=!!e,this.shift=!!s,this.alt=!!i,this.meta=!!n,this.code=!!t},this.compare=function(t){return this.ctrl==t.ctrl&&this.alt==t.alt&&this.meta==t.meta&&this.shift==t.shift&&this.code==t.code}});'),
jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/event/input/keys.js","exports={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,BREAK:19,CAPS:20,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,META_LEFT:91,WIN_LEFT:91,META_RIGHT:92,WIN_RIGHT:92,SELECT:93,EQUAL:187,MINUS:189,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,MUTE:173,VOL_DOWN:174,VOL_UP:175,FORWARD:176,BACK:177,STOP:178,PLAY_PAUSE:179};"),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/MobileBrowserAPI.js",'jsio("import lib.PubSub"),jsio("import device"),jsio("from util.underscore import _");var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_MobileBrowserAPI=__class__,AudioAPI=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_MobileBrowserAPI(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(e){var i={oneChannelOnly:device.isMobileBrowser,compiledFilename:"compiled"};this.init=function(t){t=merge(t,i),e(this,"init",[t]),this._opts=t,this._map=t.map,this._audios={},this.oneChannelOnly=t.oneChannelOnly,setInterval(bind(this,"_ontimeupdate"),200),this.oneChannelOnly||_.each(t.background,function(e){t.map[e]={name:e}},this),this._load(),this.oneChannelOnly&&(this._boundLoadHandler=bind(this,"_playFirst"),document.body.addEventListener(device.events.start,this._boundLoadHandler,!0)),window.addEventListener("pagehide",bind(this,"pause"),!1)},this._createChannel=function(e,i){var t=new Audio(i);this._audios[e]=t,t.addEventListener("error",bind(this,"_onerror")),t.addEventListener("timeupdate",bind(this,"_ontimeupdate")),t.load()},this.setMuted=function(e){(this.muted=e)&&this.setVolume(0)},this.setVolume=function(e){_.each(this._audios,function(i){i.volume=e})},this.unload=function(){this.pause(),_.each(this._audios,function(e){e.src=""},this)},this._load=function(){this._audios={};var e=this._opts.path.replace(/\\/$/,"");if(this.oneChannelOnly)this._createChannel("AUDIO",e+"/"+this._opts.compiledFilename+".m4a");else for(var i in this._map)this._map.hasOwnProperty(i)&&"SILENCE"!=i&&this._createChannel(i,e+"/"+i+".mp3");logger.INFO&&console.info("INFO",".MobileBrowserAPI","now loading",this._opts.src),this._publishedReady||(this.publish("Ready"),this._publishedReady=!0)},this._playFirst=function(){document.body.removeEventListener(device.events.start,this._boundLoadHandler,!0),this._audios.AUDIO.play()},this._ontimeupdate=function(){_.each(this._audios,function(e){e.paused&&!e._pausedOnce&&(e.pause(),e._pausedOnce=!0,e._ready=!0),this.oneChannelOnly&&(!this._nowPlaying||e.currentTime>=this._nowPlaying.end)&&this.play("SILENCE")},this)},this._onerror=function(e){var i,t="";for(i in e)t+=e[i]+" ";logger.INFO&&console.info("INFO",".MobileBrowserAPI","ERROR",t)},this.canPlay=function(e){if(!this._map[e])return!1;var i=null;if(this.oneChannelOnly&&(i=this._map[e].end,e="AUDIO"),e=this._audios[e],!e)return!1;if(e._ready||!i)return!0;try{var t=e.seekable.end();return t>=i}catch(n){return logger.LOG&&console.log("LOG",".MobileBrowserAPI",n),!1}},this.play=function(e,i){if(!this.muted)if(void 0===i&&(i=1),this.canPlay(e)){var t=this._audios[this.oneChannelOnly?"AUDIO":e];try{t.paused||t.pause();var n=0;this.oneChannelOnly&&null!=this._map[e].start&&(n=this._map[e].start),t.currentTime!=n&&(t.currentTime=n),t.volume=i,t.play(),this._nowPlaying=this._map[e]}catch(s){}}else logger.INFO&&console.info("INFO",".MobileBrowserAPI","Not ready yet")},this.pause=function(){_.each(this._audios,function(e){e.pause()},this)},this.playBackgroundMusic=function(e,i){if(!this.muted){if(this.oneChannelOnly)return!1;this._backgroundSoundPlaying=e,this.play(e,i)}},this.pauseBackgroundMusic=function(){this._backgroundSoundPlaying&&this._audios[this._backgroundSoundPlaying].pause()}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/StatusBar.js","exports.show=function(){},exports.hide=function(){},exports.getHeight=function(){return 0};"),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/TextBox.js",'jsio("from util.browser import $");var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_TextBox=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_TextBox(function(){return this.init&&this.init.apply(this,arguments)},function(){var t={padding:0,lineHeight:1.4,border:"none",display:"none",textAlign:"center",verticalAlign:"middle",fontSize:16,fontFamily:null,fontWeight:"",opacity:1,position:"absolute",backgroundColor:"transparent",top:0,left:0};this.init=function(e){var e=merge(e,{color:"black",height:20}),i=merge({},t);e.color&&(i.color=e.color),this._el=$({tag:e.multiLine?"textarea":"input",attrs:{type:"text"},style:i}),$.onEvent(this._el,"blur",this,"onBlur"),$.onEvent(this._el,"focus",this,"onFocus"),$.onEvent(this._el,"change",this,"onChange"),$.onEvent(this._el,"click",this,"onClick")},this.onBlur=this.onFocus=this.onChange=this.onClick=function(){},this.destroy=function(){$.remove(this._el),this._el=null},this.setApp=function(t){t==this._app&&this._el.parentNode||(this._app=t,t=t._ctx.canvas,logger.LOG&&console.log("LOG",".TextBox","setting parent",this._el),t.parentNode.appendChild(this._el))},this.change=function(){},this.click=function(){},this.selectAll=function(){this._el.focus(),this._el.select()},this.show=function(){$.show(this._el)},this.hide=function(){$.hide(this._el)},this.setValue=function(t){return this._el.value=t,this},this.setOpacity=function(t){return this._el.style.opacity=t,this},this.setType=function(t){return this._el.type=t,this},this.setVisible=function(t){return this[t?"show":" hide"]()},this.getX=function(){return parseInt(this._el.style.left)},this.getY=function(){return parseInt(this._el.style.top)},this.getWidth=function(){return this._el.offsetWidth},this.getHeight=function(){return this._el.offsetHeight},this.getValue=function(){return this._el.value},this.getOpacity=function(){return this._el.style.opacity},this.getType=function(){return this._el.type},this.getVisible=function(){return this._el.parentNode&&"block"==this._el.style.display},this.setPosition=function(t){this._el.style.top=t.y+"px",this._el.style.left=t.x+"px"},this.getPosition=function(){return{x:this.getX(),y:this.getY()}},this.setDimensions=function(t){return this._el.style.width=t.width+"px",this._el.style.height=t.height+"px",this},this.getDimensions=function(){return{width:this.getWidth(),height:this.getHeight()}}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/TextInput.js",'function checkTab(e){var t=e.target,l=t.selectionStart,n=t.selectionEnd;if(9==e.keyCode)if(e.preventDefault(),e.shiftKey)if(l!=n&&-1!=t.value.slice(l,n).indexOf("\\n")){for(var a=l;a&&"\\n"!=t.value.charAt(a-1);)--a;var e=t.value.slice(0,a),s=t.value.slice(n,t.value.length),a=t.value.slice(a,n).replace(RegExp("(^|\\n)"+tab,"g"),function(e){return n-=tab.length,"\\n"==e.charAt(0)?"\\n":(l-=tab.length,"")});t.value=e.concat(a).concat(s),t.selectionStart=l,t.selectionEnd=n}else{for(a=l;a&&"\\n"!=t.value.charAt(a-1);)--a;t.value.substring(a,a+tab.length)==tab&&(t.value=t.value.slice(0,a).concat(t.value.slice(a+tab.length,t.value.length)),l==n?t.selectionStart=t.selectionEnd=l-(l==a?0:tab.length):(t.selectionStart=l-(l==a?0:tab.length),t.selectionEnd=n-tab.length))}else if(l!=n&&-1!=t.value.slice(l,n).indexOf("\\n")){for(a=l;a&&"\\n"!=t.value.charAt(a-1);)--a;e=t.value.slice(0,a),s=t.value.slice(n,t.value.length),a=t.value.slice(a,n).replace(/\\n/g,function(){return n+=tab.length,"\\n"+tab}),t.value=e.concat(tab).concat(a).concat(s),t.selectionStart=l+tab.length,t.selectionEnd=n+tab.length}else{for(a=l;a&&"\\n"!=t.value.charAt(a-1);)--a;t.value=t.value.slice(0,a).concat(tab).concat(t.value.slice(a,t.value.length)),l==n?t.selectionStart=t.selectionEnd=l+tab.length:(t.selectionStart=l+tab.length,t.selectionEnd=n+tab.length)}else!e.shiftKey&&!e.metaKey&&!e.ctrlKey&&(8==e.keyCode&&t.value.slice(l-tabLength,l)==tab?(e.preventDefault(),t.value=t.value.slice(0,l-tabLength).concat(t.value.slice(l,t.value.length)),t.selectionStart=t.selectionEnd=l-tab.length):46==e.keyCode&&t.value.slice(n,n+tabLength)==tab?(e.preventDefault(),t.value=t.value.slice(0,l).concat(t.value.slice(l+tabLength,t.value.length)),t.selectionStart=t.selectionEnd=l):37==e.keyCode&&t.value.slice(l-tabLength,l)==tab?(e.preventDefault(),t.selectionStart=t.selectionEnd=l-tabLength):39==e.keyCode&&t.value.slice(l,l+tabLength)==tab&&(e.preventDefault(),t.selectionStart=t.selectionEnd=l+tabLength))}jsio("import lib.PubSub"),jsio("from util.browser import $");var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_TextInput=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_TextInput(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){this.init=function(e){this._el=$({tag:"input",parent:document.body,style:{position:"absolute",left:"-100px",top:"-100px"},attrs:{type:"text",value:e&&e.value||""}}),this._value=this._el.value,this._selectionEnd=this._selectionStart=0,$.onEvent(this._el,"keydown",this,"checkValue"),$.onEvent(this._el,"keyup",this,"checkValue"),$.onEvent(this._el,"keypress",this,"checkValue"),$.onEvent(this._el,"focus",this,"onFocus"),$.onEvent(this._el,"blur",this,"onBlur")},this.onFocus=function(){this.publish("Focus")},this.onBlur=function(){this.publish("Blur")},this.checkValue=function(e){var t=e.target,e=t.selectionStart,t=t.selectionEnd,l=this._el.value;l!=this._value&&(this.publish("ChangeValue",l),this._value=l),e!=this._selectionStart&&(this._selectionStart=e,this.publish("ChangeSelectionStart",e)),t!=this._selectionEnd&&(this._selectionEnd=t,this.publish("ChangeSelectionEnd",t))},this.focus=function(){logger.LOG&&console.log("LOG",".TextInput","focus"),this._el.focus()},this.blur=function(){this._el.blur()}});var tab="    ",tabLength=4;Array.prototype.map.call(document.getElementsByTagName("textarea"),function(e){e.addEventListener("keydown",checkTab,!1)});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/Timer.js",'function sendPostMessage(){window.postMessage("timestep.TICK","*")}function sendTimeout(){setTimeout(onFrame,MIN_DT)}function sendTimeoutNow(){setTimeout(onFrame,0)}function onFrame(){if(_onTick){var e=+new Date,i=e-(exports.last||e);exports.last=e,_onTick(i),driverId=i>MIN_DT?fastDriver.call(window,onFrame):mainDriver.call(window,onFrame)}}var _onTick=null,disableRequestAnimFrame=!1,disablePostMessage=!0,asFastAsPossible=!1,MIN_DT=16;if(window.postMessage){var postMessageCb=function(e){"timestep.TICK"==e.data&&onFrame()};window.addEventListener?window.addEventListener("message",postMessageCb,!1):window.attachEvent("onmessage",postMessageCb)}else disablePostMessage=!0,tickNow=sendTimeoutNow;var fastDriver=sendTimeoutNow,mainDriver=sendTimeout,cancelDriver,driverId;if(asFastAsPossible)disablePostMessage?mainDriver=sendTimeoutNow:fastDriver=mainDriver=sendPostMessage;else{var reqAnim=window.requestAnimationFrame,cancelAnim=window.cancelAnimationFrame,prefixes=["","webkit","moz","o","ms"];if(!disableRequestAnimFrame)for(var i=0;i<prefixes.length&&!reqAnim;++i)reqAnim=window[prefixes[i]+"RequestAnimationFrame"],cancelAnim=window[prefixes[i]+"CancelAnimationFrame"]||window[prefixes[i]+"CancelRequestAnimationFrame"];reqAnim?(fastDriver=mainDriver=reqAnim,cancelDriver=cancelAnim):disablePostMessage||(fastDriver=sendPostMessage)}exports.last=null,exports.start=function(e){_onTick=e,driverId=mainDriver.call(window,onFrame)},exports.stop=function(){_onTick=null,driverId&&(cancelDriver.call(window,driverId),driverId=null)};'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/platforms/browser/EditText.js",'jsio("from util.browser import $"),jsio("import squill.Widget"),jsio("import device");var __keyboardIsOpen=!1,InputField=__class__,InputField=InputField(function(){return this.init&&this.init.apply(this,arguments)},squill.Widget,function(t){this._def={tag:"input",parent:document.body,style:{position:"absolute",background:"transparent",border:"none",outline:"none",zIndex:"990000",left:"0px",top:"0px"}},this.buildWidget=function(){this.initKeyEvents(),this.initFocusEvents()},this.setValue=function(t){this._prevValue=this._el.value=t},this.setCursor=function(t){this._el.selectionStart=this._el.selectionEnd=t},this.setPlaceholder=function(t){this._el.placeholder=t},this.setMaxLength=function(t){this._el.maxlength=t},this.show=function(){t(this,"show",arguments),this._el.focus()},this.onKeyUp=function(t){var e=this._el;_focused&&_focused.onChange(e.value,this._prevValue,e.selectionStart,e.selectionEnd),this._prevValue=e.value,13==t.keyCode&&_focused&&_focused.closeEditField()},this.getValue=function(){return this._el.value},this.onBlur=function(){if(this.hide(),__keyboardIsOpen){__keyboardIsOpen=!1;var t=new Event("keyboardClosed");t.height=device.screen.height,window.dispatchEvent(t)}_focused=null},this.setFontColor=function(){this._el.style.color=this._opts.color},this.setHorizontalPadding=function(t,e){this._el.style.paddingLeft=t+"px",this._el.style.paddingRight=e+"px"},this.setFontSize=function(t){this._el.style.fontSize=t+"px"},this.setFontFamily=function(t){this._el.style.fontFamily=t},this.setPosition=function(t,e,i,s){var n=this._el.style;n.top=e-1+"px",n.left=t+"px",n.width=i+"px",n.height=s+"px"}}),_input=new InputField;_input.hide();var _focused=null,home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_EditText=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_platforms_browser_EditText(function(){return this.init&&this.init.apply(this,arguments)},function(){var t={hint:"",inputType:"default",maxLength:-1};this.init=function(e){this._opts=merge(e,t),this._textEditView=e.textEditView,this.onFocusChange=e.onFocusChange||function(){},this.onSubmit=e.onSubmit||function(){}},this.onChange=function(t,e,i){this._value=t,this._opts.onChange&&this._opts.onChange(t,e,i)},this.getValue=function(){return this._value},this.setValue=function(t){this._value=t,this.onChange(t)},this.requestFocus=function(t){_focused!==this&&(null!=_focused&&_focused.removeFocus(t),this.onFocusChange(!0)),_focused=this},this.closeEditField=function(t){console.log("TextEditView editText removeFocus"),null!=_focused&&_focused.removeFocus(t),this._showTextBox(),_input.hide(),__keyboardIsOpen&&(__keyboardIsOpen=!1,t=new Event("keyboardClosed"),t.height=device.screen.height,window.dispatchEvent(t))},this._hideTextBox=function(){this._textEditView._textBox.style.visible=!1},this._showTextBox=function(){this._textEditView._textBox.style.visible=!0},this.refresh=function(t,e,i,s){this._hideTextBox();var e=this._textEditView._textBox,i=this._textEditView.getPosition(),n=i.width/this._textEditView.style.width;_input.setCursor(s),_input.setValue(t),_input.setPlaceholder(this._opts.hint),_input.setMaxLength(this._opts.maxLength),_input.setFontColor(this._opts.color),_input.setHorizontalPadding(this._opts.paddingLeft*n,this._opts.paddingRight*n),_input.setFontSize(e.getOpts().size*n),_input.setFontFamily(e.getOpts().fontFamily),_input.setPosition(i.x,i.y,i.width,i.height),_input.show(),__keyboardIsOpen||(__keyboardIsOpen=!0,t=new Event("keyboardOpened"),t.height=.6*device.screen.height,window.dispatchEvent(t))},this.hasFocus=function(){return this==_focused},this.removeFocus=function(t){this.onFocusChange(!1),t||this.onSubmit(_input.getValue()),_focused==this&&(_focused=null)},this.setHint=function(t){this._opts.hint=t}});'),jsio.setCachedSrc("modules/devkit-core/modules/squill/Alpha.js",'jsio("from util.browser import $"),jsio("import .Widget"),jsio("import .jscolor.jscolor as jscolor");var alphaSelect=!1,alphaIndicator,home_weeby_projects_swarm_modules_devkit_core_modules_squill_Alpha=__class__,Alpha=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_Alpha(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(e){this._css="lph",this._type="text",this.init=function(t){t=merge(t,{tag:"input"}),e(this,"init",[t])},this.buildWidget=function(){var e=this._el;e.widget=this,$.onEvent(e,"focus",this,"_onFocus"),$.onEvent(e,"blur",this,"_onBlur"),$.onEvent(e,"change",this,"_onChange"),alphaSelect||(alphaSelect=document.createElement("div"),alphaSelect.style.display="none",alphaSelect.className="colorMenu",document.body.appendChild(alphaSelect),$.onEvent(alphaSelect,"mousedown",this,"_onSelect"),e=document.createElement("canvas"),e.width=20,e.height=100,alphaSelect.appendChild(e),$.style(e,{"float":"left",width:"20px",height:"100px",margin:"8px 0 0 12px",border:"1px solid #000",borderColor:"ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow",backgroundColor:"red"}),$.onEvent(e,"mousedown",this,"_onMouseDown"),$.onEvent(e,"mousemove",this,"_onMouseMove"),$.onEvent(e,"mouseup",this,"_onMouseUp"),$.onEvent(e,"mouseout",this,"_onMouseOut"),alphaIndicator=document.createElement("img"),alphaIndicator.src="img/colorpicker/arrow.gif",alphaSelect.appendChild(alphaIndicator),$.style(alphaIndicator,{position:"absolute",left:"4px",top:"2px",border:"0px hidden"}),e=e.getContext("2d"),linearGradient=e.createLinearGradient(0,0,0,100),linearGradient.addColorStop(0,"#FFFFFF"),linearGradient.addColorStop(1,"#000000"),e.fillStyle=linearGradient,e.fillRect(0,0,20,100))},this._showIndicator=function(e){return 0>e&&(e=0),e>100&&(e=100),$.style(alphaIndicator,{position:"absolute",left:"4px",top:2+e+"px",border:"0px hidden"}),e},this._showMouseAlpha=function(e){alphaSelect.target.value=100-this._showIndicator(e.offsetY),alphaSelect.widget.publish("Change",parseInt(alphaSelect.target.value,10))},this._onChange=function(){var e=this._el.value;isNaN(e)||(e=parseInt(e,10),e>=0&&100>=e&&alphaSelect.widget.publish("Change",e))},this._onFocus=function(e){var t=this._el.getBoundingClientRect(),o=t.right+4,i=t.top;i+122>window.innerHeight&&(i=t.bottom-122),o+44>window.innerWidth&&(o=t.left-48),$.style(alphaSelect,{position:"absolute",width:"44px",height:"122px",zIndex:"1000000",left:o+"px",top:i+"px",display:"block"}),alphaSelect.widget=e.target.widget,alphaSelect.target=e.target,this._showIndicator(100-(isNaN(alphaSelect.target.value)?0:parseInt(alphaSelect.target.value,10)))},this._onBlur=function(){alphaSelect.style.display="none"},this._onSelect=function(e){$.stopEvent(e)},this._onMouseDown=function(e){$.stopEvent(e),this._showMouseAlpha(e),this._mouseDown=!0},this._onMouseMove=function(e){this._mouseDown&&this._showMouseAlpha(e),$.stopEvent(e)},this._onMouseOut=function(e){this._mouseDown=!1,$.stopEvent(e)},this._onMouseUp=function(e){this._mouseDown=!1,$.stopEvent(e)},this.setValue=function(e){this._el.value=e},this.getValue=function(){return this._el.value}});'),jsio.setCachedSrc("modules/devkit-core/modules/squill/Widget.js",'function shallowCopy(t){var e,i={};for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}jsio("from util.browser import $"),jsio("import .Element, .Events, .global"),jsio("import .i18n"),jsio("import .Delegate"),jsio("import .models.Model as Model"),jsio("import .models.bindings as bindings"),jsio("from .__imports__ import classes as WIDGET_CLASSES");var uid=0,WidgetSet=__class__,WidgetSet=WidgetSet(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){this._target=t,this.events=[]},this.getTarget=function(){return this._target},this.hasWidget=function(t){return!!this._target[t]},this.addWidget=function(t,e){this._target[t]=e},this.addSubscription=function(t,e){this._target.dispatchEvent&&t.subscribe.apply(t,[e,this._target,"dispatchEvent",t.getId()].concat(Array.prototype.slice.call(arguments,2)))}}),modules_devkit_core_modules_squill_Widget=__class__,Widget=exports=modules_devkit_core_modules_squill_Widget(function(){return this.init&&this.init.apply(this,arguments)},[Element,Events],function(){function t(t){t=$.id(t),t.parentNode.insertBefore(this._el,t),t.parentNode.removeChild(t)}this._css="widget",this._name="",this.__getDef__=function(){function t(t){for(var e in t)"attrs"==e||"style"==e?i[e]=merge(i[e],t[e]):"className"==e&&i.className?i.className=t.className+" "+i.className:"children"==e?i.children?i.children.push(t.children):i.children=[t.children]:i.hasOwnProperty(e)||(i[e]=t[e])}var e=this.constructor,i={};do e.prototype.hasOwnProperty("_def")&&t(e.prototype._def);while(e=e.prototype.__parentClass__);return this.hasOwnProperty("_def")&&t(this._def),i},this.init=function(t){t=t||{},this._children=[];var e=this._def=this.__getDef__();this._id=e.id,this.__model=new Model(e.model),e.className&&(t.className=t.className?t.className+" "+e.className:e.className),e.attrs&&(t.attrs=merge(t.attrs,e.attrs)),e.style&&(t.style=merge(t.style,e.style)),this._opts=t;for(var i in e)"children"!=i&&!t.hasOwnProperty(i)&&e.hasOwnProperty(i)&&(t[i]=e[i]);t.name&&(this._name=t.name),t.delegate&&(this.delegate=t.delegate);var s;t.widgetParent&&(s=t.widgetParent),this.controller=t.controller||s,t.parent&&(e=t.parent,e instanceof Widget?(s||(s=t.parent),t.parent=e.getContainer()):e.appendChild||delete t.parent),s?s.addWidget(this):(t.parent||t.el)&&this.build(t.el)},this.getOpts=function(){return this._opts},this.getId=function(){return this._id||this._el&&this._el.id},this.build=function(t){if(!this._el||this._el!=t){var t=this._opts,e=t.children;e&&delete t.children,this._el=$.create(this._opts),e&&(t.children=e),this.buildContent()}return this},this.getParent=function(){return this._el&&this._el.parentNode},this.getWidgetParent=function(){return this._widgetParent},this.setWidgetParent=function(t){this._widgetParent!=t&&(this._widgetParent.removeWidget(this),t.addWidget(this),this._widgetParent=t)},this.getChildren=function(){return this._children},this.forEachDescend=function(t,e){for(var i=this._children.length,s=0;i>s;++s){var n=this._children[s];t.call(e,n),n.forEachDescend&&n.forEachDescend(t,e)}},this.getFirstChild=function(){return this._children&&this._children.length?this._children[0]:null},this.dispatchEvent=function(t,e){this.delegate.call(this,t,e)},this.addElement=function(t){this._el.appendChild(t)},this.addWidget=function(t,e,i){if(this._el||this.build(),e=t.parent||e||this.getContainer()||this._el,!(t instanceof Widget)){var s=merge({},t,{parent:e,__result:i});if(s.children){var n=s.children;delete s.children}"type"in s&&!s.type&&logger.WARN&&console.warn("WARN","squill.Widget","Did you forget to provide a type?",s),s.type&&"string"!=typeof s.type?t=new s.type(s):WIDGET_CLASSES[s.type]?t=new(jsio("import "+WIDGET_CLASSES[s.type]))(s):i?("image"==s.type&&(s=merge({tag:"img"},s)),t=$(s)):t=new Widget(s),i&&s.id&&!i.hasWidget(s.id)&&i.addWidget(s.id,t)}if(t instanceof Widget&&(t.getWidgetParent()!=this&&((s=t.getWidgetParent())&&s.removeWidget(this),t._widgetParent=this,t.controller||(t.controller=this),this._children.push(t)),t.getParent()!=e&&t.setParent(e)),n)if(t.buildChildren)i||(i=new WidgetSet(t)),t.buildChildren(n,null,i);else for(e=0;s=n[e];++e)this.addWidget(s,t,i);return t},this.removeWidget=function(t){t=this._children.indexOf(t),t>=0&&this._children.splice(t,1)},this.getContainer=function(){return this._el},this.getName=function(){return this._name},this.setName=function(t){this._name=t},this.buildContent=function(){var t=this._opts;null!==global.getWidgetPrefix()&&$.addClass(this._el,global.getWidgetPrefix()+this._css),this.delegate||(this.delegate=new Delegate),t.errorLabel&&(this._errorLabel=$.create({html:t.errorLabel,className:global.getWidgetPrefix()+"textInputErrorLabel",parent:this._el}));var e=this._def;if(e.children)for(var i=new WidgetSet(this),s=e.children.length-1;s>=0;--s)this.buildChildren(e.children[s],null,i);e=t.__result||i||new WidgetSet(this),t.children&&this.buildChildren(t.children,null,e),t.data&&this.setData&&bindings.parseData(this,t.data),this.buildWidget(this._el,e)},this.buildChildren=function(t,e,i){e||(e=this.getContainer()||this._el);for(var s=0,n=t.length;n>s;++s)this.addWidget(t[s],e,i)},this.buildWidget=function(){},this.errors=function(){return this.validators.map(function(t){return 0==t.isValid?t.message:void 0})},this.validate=function(){for(var t=!0,e=0,i=this.validators.length;i>e;++e)var s=this.validators[e],t=t&&(s.isValid=s.call(this));return this._isValid=t},this._isValid=!0,this.isValid=function(){return this._isValid},this.validators=[],this.getI18n=function(t,e){var i=t in this._opts?this._opts:i18n.get(e||this._opts.id);return i&&i[t]||""},this.getElement=function(){return this._el||this.build(),this._el},this.addClass=function(t){$.addClass(this._el,t)},this.removeClass=function(t){$.removeClass(this._el,t)},this.hasClass=function(t){return 0<=(" "+this._el.className+" ").indexOf(t)},this.toggleClass=function(t,e){void 0===e&&(e=!this.hasClass(t)),e?this.addClass(t):this.removeClass(t)},this.onBeforeShow=function(){for(var t,e=0;t=this._children[e];++e)t.onBeforeShow.apply(t,arguments)},this.onShow=function(){this._isShowing=!0;for(var t,e=0;t=this._children[e];++e)t.onShow.apply(t,arguments)},this.onBeforeHide=function(){for(var t,e=0;t=this._children[e];++e)t.onBeforeHide.apply(t,arguments)},this.onHide=function(){this._isShowing=!1;for(var t,e=0;t=this._children[e];++e)t.onHide.apply(t,arguments)},this.isShowing=function(){return this._isShowing},this.show=function(){this.onBeforeShow();var t=this._opts&&this._opts.style,t=t&&"none"!=t.display&&t.display||"block";this._el&&(this._el.style.display=t),this.onShow()},this.hide=function(){return this.onBeforeHide(),$.hide(this.getElement()),this.onHide(),this},this.removeChildren=function(){this._children.forEach(function(t){t.remove()})},this.remove=function(){this.onBeforeHide(),$.remove(this.getElement()),this.onHide()},this.getModel=function(){return this.__model},this.setModel=function(t,e){1==arguments.length?this.__model.setObject(t):this.__model.set(t,e)},this.putHere=function(){this._el||this.build();var e="jsioWidgetId"+ ++uid;return global.getTargetDocument().write(\'<div id="\'+e+\'"></div>\'),setTimeout(bind(this,t,e),0),this},this.appendTo=this.setParent=function(t){return(t=t&&(t.getContainer&&t.getContainer()||t.appendChild&&t||$.id(t)))&&(this._el?t.appendChild(this._el):(this._opts.parent=t,this.build())),this}}),map={},lowerCaseMap={};Widget.register=function(t,e){if(e in map)throw Error("A widget with name \'"+e+"\' is already registered");map[e]=t,lowerCaseMap[e.toLowerCase()]=t},Widget.get=function(t){return lowerCaseMap[t.toLowerCase()]},Widget.WidgetSet=WidgetSet;'),jsio.setCachedSrc("modules/devkit-core/modules/squill/Element.js",'jsio("import lib.PubSub"),jsio("from util.browser import $");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_Element=__class__,Element=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_Element(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){this.init=function(t){this._opts=JS.merge(t,{win:window,tag:"div"})},this.build=function(){return this._el||(this._opts.el?(this._el=this._opts.el,$.apply(this._el,this._opts)):this._el=$.create(this._opts),this.buildContent()),this},this.getId=function(){return this._el&&this._el.id||this._opts&&this._opts.id},this.buildContent=function(){},this.destroy=function(){},this.getElement=function(){return this._el||this.build()._el},this.appendChild=function(t){return this._el||this.build(),this._el.appendChild(t instanceof Element?t._el:t),this},this.appendTo=function(t){return this._el||this.build(),t.appendChild(t instanceof Element?this:this._el),this},this.setPos=function(t,i){this._el.style.x=t+"px",this._el.style.y=i+"px"},this.center=function(){var t=$(window);this.setPos(Math.max(0,t.width-this._el.offsetWidth)/2,Math.max(0,t.height-this._el.offsetHeight)/2)},this.remove=function(){$.remove(this._el)}});'),jsio.setCachedSrc("modules/devkit-core/modules/squill/Events.js",'jsio("from util.browser import $"),jsio("import .Drag"),jsio("import lib.PubSub");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_Events=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_Events(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){var t=Array.prototype.slice,s=/(iPod|iPhone|iPad|Android)/i.test(navigator.userAgent);this.event=function(s,i,n){this._eventEnabled||(this._eventEnabled={});var e=[this,n].concat(t.call(arguments,3)),n=bind.apply(this,e),o=this._eventEnabled;o[i]=!0,$.onEvent(s,i,function(){return o[i]?n.apply(this,arguments):void 0})},this.isDragging=function(){return this._isDragging||!1},this.initDragEvents=function(t){if(!this.__drag){var s=this.__drag=new Drag;s.subscribe("DragStart",this,"onDragStart"),s.subscribe("Drag",this,"onDrag"),s.subscribe("DragStop",this,"onDragStop")}s=bind(this.__drag,"startDrag"),t||(t=this._el),t.addEventListener&&t.addEventListener("touchstart",s,!0),$.onEvent(t,"mousedown",s)},this.initMouseEvents=function(t){return t=t||this._el,s?(this.event(t,"touchstart","_onTouchStart"),this.event(t,"touchend","_onTouchEnd")):(this.event(t,"mouseover","onMouseOver"),this.event(t,"mousemove","onMouseMove"),this.event(t,"mouseout","onMouseOut"),this.event(t,"mousedown","onMouseDown"),this.event(t,"mouseup","onMouseUp"),this.event(t,"click","onClick")),(t=this._opts)&&t.__result&&t.__result.addSubscription(this,"Select"),this},this.initFocusEvents=function(t){return t=t||this._el,this.event(t,"focus","onFocus"),this.event(t,"blur","onBlur"),this},this.initKeyEvents=function(t){return t=t||this._el,this.event(t,"keydown","onKeyDown"),this.event(t,"keypress","onKeyPress"),this.event(t,"keyup","onKeyUp"),this},this._onTouchStart=function(t){this.onMouseOver(t),this.onMouseDown(t)},this._onTouchEnd=function(t){this.onMouseUp(t),this.onClick(t),this.onMouseOut(t)},this.onMouseOver=function(t){this._enableMouseEvents||(this._isOver=!0),this.publish("Over",t)},this.onMouseMove=function(t){this._enableMouseEvents||this.publish("Move",t)},this.onMouseOut=function(t){this._isOver=!1,this.publish("Out",t)},this.onMouseDown=function(t){return this._isDown=!0,this.publish("Down",t),!1},this.onMouseUp=function(t){return this._isDown=!1,this.publish("Up",t),!1},this.onClick=function(t){return this.publish("Select",t),this.emit("click",t),!1},this.onFocus=function(t){this._isFocused=!0,this.publish("Focus",t)},this.onBlur=function(t){this._isFocused=!1,this.publish("Blur",t)},this.onKeyUp=function(t){this.publish("KeyUp",t)},this.onKeyPress=function(t){this.publish("KeyPress",t)},this.onKeyDown=function(t){this.publish("KeyDown",t)},this.onDragStart=function(){},this.onDrag=function(){},this.onDragStop=function(){}});'),jsio.setCachedSrc("modules/devkit-core/modules/squill/Drag.js",'function resolveMouse(e){if(e.touches)return resolveMouse(e.touches[0]);if("pageX"in e)gCurrentMouse.x=e.pageX,gCurrentMouse.y=e.pageY;else{var t=document.documentElement,r=document.body;gCurrentMouse.x=e.clientX+(t&&t.scrollLeft||r&&r.scrollLeft||0)-(t&&t.clientLeft||r&&r.clientLeft||0),gCurrentMouse.y=e.clientY+(t&&t.scrollTop||r&&r.scrollTop||0)-(t&&t.clientTop||r&&r.clientTop||0)}}function gAddItem(e){gRemoveItem(e),gCurrentDrag.push(e),_active=!0}function gRemoveItem(e){for(var t=0;t<gCurrentDrag.length;++t)gCurrentDrag[t]==e&&(gCurrentDrag.splice(t,1),--t);gCurrentDrag[0]||(_active=!1)}function onMove(e){if(_active){resolveMouse(e);for(var t=0;t<gCurrentDrag.length;++t)gCurrentDrag[t].onMouseMove(e)}}function onUp(e){if(_active)for(var t=0;t<gCurrentDrag.length;++t)gCurrentDrag[t].onMouseUp(e)}function registerWindow(e){var t=e.document;"ontouchstart"in e?(t.addEventListener("touchstart",resolveMouse,!0),t.addEventListener("touchmove",onMove,!0),t.addEventListener("touchend",onUp,!0)):(t.addEventListener("mousedown",resolveMouse,!0),t.addEventListener("mousemove",onMove,!0),t.addEventListener("mouseup",onUp,!0))}jsio("import lib.PubSub"),jsio("import math.geom.Point as Point"),jsio("from util.browser import $");var gCurrentDrag=[],gCurrentMouse={x:0,y:0},_active=!1,home_weeby_projects_swarm_modules_devkit_core_modules_squill_Drag=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_Drag(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){this.init=function(){this._isActive=!1},this.startDrag=function(e,t){var r=this._evt=new exports.DragEvent;this._evt.data=t,this._evt.params=merge(e,{threshold:5}),r.srcPt=new Point(gCurrentMouse),r.currPt=new Point(gCurrentMouse),gAddItem(this)},this.onMouseMove=function(e){var t=this._evt,r=Point.subtract(gCurrentMouse,t.srcPt);!this._isActive&&r.getMagnitude()>t.params.threshold&&(this._isActive=!0,this.disableIframes(e.target&&(e.target.ownerDocument||9==e.target.nodeType&&e.target)),this.publish("DragStart",t)),this._isActive&&($.stopEvent(e),t.prevPt=t.currPt,t.currPt=new Point(gCurrentMouse),this.publish("Drag",t,e,Point.subtract(t.currPt,t.prevPt)))},this.onMouseUp=function(e){return gRemoveItem(this),this._isActive?($.stopEvent(e),this._isActive=!1,this.enableIframes(),this.publish("DragStop",this._evt,e),!0):void 0},this.disableIframes=function(e){this._disabledFrames||(this._disabledFrames=[]),$("iframe",e).forEach(function(e){try{this._disabledFrames.push({frame:e,pointerEvents:e.style.pointerEvents}),e.style.pointerEvents="none"}catch(t){}},this)},this.enableIframes=function(){this._disabledFrames.splice(0,this._disabledFrames.length).forEach(function(e){e.frame.style.pointerEvents=e.pointerEvents})}}),exports.registerWindow=registerWindow,exports.DragEvent=__class__,exports.DragEvent=exports.DragEvent(function(){return this.init&&this.init.apply(this,arguments)},function(){});var win=window;for(registerWindow(win);win.parent!=win;){win=win.parent;try{registerWindow(win)}catch(e$$13){}}'),
jsio.setCachedSrc("modules/devkit-core/modules/squill/global.js",'var gWidgetPrefix="squill-",gWin=window,gDoc=document;exports.setTargetWindow=function(e){gWin=e,gDoc=e.document},exports.getTargetWindow=function(){return gWin},exports.getTargetDocument=function(){return gDoc},exports.setWidgetPrefix=function(e){gWidgetPrefix=e},exports.getWidgetPrefix=function(){return gWidgetPrefix};'),jsio.setCachedSrc("modules/devkit-core/modules/squill/i18n.js","var gLang=null;exports.setLang=function(t){gLang=t},exports.get=function(t){return gLang&&gLang.get(t)},exports.Language=__class__,exports.Language=exports.Language(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){this._dict=t},this.add=function(t,n){this._dict[t]=n},this.get=function(t){return this._dict[t]}});"),jsio.setCachedSrc("modules/devkit-core/modules/squill/Delegate.js","var home_weeby_projects_swarm_modules_devkit_core_modules_squill_Delegate=__class__,Delegate=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_Delegate(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(e){e&&e(this)},this.extend=function(e){return e=new Delegate(e),e.parent=this,e},this.call=function(e,t){return this[t]?this[t].apply(e,Array.prototype.slice.call(arguments,1)):void(this.parent&&this.parent.call(e,t))}});"),jsio.setCachedSrc("modules/devkit-core/modules/squill/models/Model.js",'jsio("import lib.PubSub");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_models_Model=__class__,Model=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_models_Model(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(t){function s(t){return t.split(e).map(function(t){return"]"==t[t.length-1]?parseInt(t):t})}this.init=function(t){var s;if(this._data={},t&&t.localStorage){this._storageKey=t.localStorage;var e=localStorage.getItem(this._storageKey);if(e)try{s=JSON.parse(e)}catch(i){}}this.setObject(s||{}),t&&(t.values&&Object.keys(t.values).forEach(function(s){this.set(s,t.values[s])},this),t.defaults&&Object.keys(t.defaults).forEach(function(s){this.has(s)||this.set(s,t.defaults[s])},this))},this.setObject=function(t){return this._data=t,this.emit(),this.persist(),this},this.toObject=function(){return JSON.parse(JSON.stringify(this._data))},this.clone=function(){return new Model(this.getObject())};var e=/[\\[.,]/;this.has=function(t){return void 0!==this.get(t)},this.get=function(t){for(var t=s(t),e=t.length,i=0,r=this._data;r&&e>i;)r=r[t[i++]];return r},this.getObject=function(t){return t=this.get(t)||{},JSON.parse(JSON.stringify(t))},this.set=function(t,e){for(var i=s(t),r=i.length-1,n=0,h=this._data;h&&r>n;){var o=i[n++];h[o]||(h[o]="number"==typeof i[n]?[]:{}),h=h[o]}return e!=h[i[r]]&&(h[i[r]]=e,this.emit(t,e)),this.persist(),this},this.emit=function(s){return s&&t(this,"emit",arguments),this._subscribers&&Object.keys(this._subscribers).forEach(function(e){(!s||e!=s&&(0==e.indexOf(s)||0==s.indexOf(e)))&&t(this,"emit",[e,this.get(e)])},this),this},this.persist=function(){return this._storageKey&&localStorage.setItem(this._storageKey,JSON.stringify(this._data)),this}});'),jsio.setCachedSrc("modules/devkit-core/modules/squill/models/bindings.js",'var RE_BINDING=/(^|[^%])%\\((.*?)\\)([ +0-]?)(\\d*)(\\.?\\d*)([dfcs])/g;exports.parseFormat=function(t,i){var s=[];i.replace(RE_BINDING,function(t,i,e,n,h,u,_,a){s.push({index:a+i.length,endIndex:a+t.length,key:e,pad:n||" ",minLength:parseInt(h),decimal:parseInt(u.substring(1)),type:_,value:""})}),s.reverse(),new Binding(t,null,i,s)},exports.parseData=function(t,i){new Binding(t,i)};var Binding=__class__,Binding=Binding(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,i,s,e){var n=t.getOpts().__result,n=n&&n.getTarget()||t;this._widget=t,this._key=i,this._src=s,this._subs=e,this._connect(n.getModel()),t.on("change",bind(this,"_updateModel")),n.on("model",bind(this,"_connect"))},this._connect=function(t){this._model&&this._disconnect(),this._model=t,this._subs?(this._subs.forEach(function(i){i.value=t.get(i.key),t.subscribe(i.key,this,"_update",i.key)},this),this._update()):this._key&&(t.subscribe(this._key,this,"_updateKey"),this._updateKey(t.get(this._key)))},this._disconnect=function(){var t=this._model;this._subs&&this._subs.forEach(function(i){t.unsubscribe(i.key,this)},this),this._key&&t.unsubscribe(this._key,this)},this._update=function(t,i){var s=this._src;this._subs.forEach(function(e){t&&e.key==t&&(e.value=i),s=s.substring(0,e.index)+e.value+s.substring(e.endIndex)},this),this._widget.setData(s)},this._updateKey=function(t){this._widget.setData(t)},this._updateModel=function(t){this._model&&this._key&&this._model.set(this._key,t)}});'),jsio.setCachedSrc("modules/devkit-core/modules/squill/__imports__.js",'exports.classes={alpha:".Alpha",label:".Label",list:".List",button:".TextButton",text:".TextInput",textarea:".TextArea",password:".TextInput",scroller:".Scroller",canvas:".Canvas",checkbox:".CheckBox",menu:".Menu",slider:".Slider",color:".Color",vcenter:".VerticalCenter",treelist:".TreeList",graph:".Graph",select:".SelectBox",widget:".Widget"},exports.resolve=function(e){var t=[];if("browser"==e)for(var r in exports.classes)t.push(exports.classes[r]);return t};'),jsio.setCachedSrc("modules/devkit-core/modules/squill/jscolor/jscolor.js",'var jscolor={dir:"",bindClass:"color",binding:!0,preloading:!0,install:function(){jscolor.addEvent(window,"load",jscolor.init)},init:function(){jscolor.binding&&jscolor.bind(),jscolor.preloading&&jscolor.preload()},getDir:function(){return jscolor.dir="images/colorpicker/",jscolor.dir},detectDir:function(){for(var e=location.href,t=document.getElementsByTagName("base"),o=0;o<t.length;o+=1)t[o].href&&(e=t[o].href);for(t=document.getElementsByTagName("script"),o=0;o<t.length;o+=1)if(t[o].src&&/(^|\\/)jscolor\\.js([?#].*)?$/i.test(t[o].src))return e=new jscolor.URI(t[o].src).toAbsolute(e),e.path=e.path.replace(/[^\\/]+$/,""),e.query=null,e.fragment=null,e.toString();return!1},bind:function(e){e.color=new jscolor.color(e,{})},preload:function(){for(var e in jscolor.imgRequire)jscolor.imgRequire.hasOwnProperty(e)&&jscolor.loadImage(e)},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(e){jscolor.imgRequire[e]=!0},loadImage:function(e){jscolor.imgLoaded[e]||(jscolor.imgLoaded[e]=new Image,jscolor.imgLoaded[e].src=jscolor.getDir()+e)},fetchElement:function(e){return"string"==typeof e?document.getElementById(e):e},addEvent:function(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on"+t,o)},fireEvent:function(e,t){if(e)if(document.createEvent){var o=document.createEvent("HTMLEvents");o.initEvent(t,!0,!0),e.dispatchEvent(o)}else document.createEventObject?(o=document.createEventObject(),e.fireEvent("on"+t,o)):e["on"+t]&&e["on"+t]()},getElementPos:function(e){var t=e,o=0,r=0;if(t.offsetParent)do o+=t.offsetLeft,r+=t.offsetTop;while(t=t.offsetParent);for(;(e=e.parentNode)&&"BODY"!==e.nodeName.toUpperCase();)o-=e.scrollLeft,r-=e.scrollTop;return[o,r]},getElementSize:function(e){return[e.offsetWidth,e.offsetHeight]},getRelMousePos:function(e){var t=0,o=0;return e||(e=window.event),"number"==typeof e.offsetX?(t=e.offsetX,o=e.offsetY):"number"==typeof e.layerX&&(t=e.layerX,o=e.layerY),{x:t,y:o}},getViewPos:function(){return"number"==typeof window.pageYOffset?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return"number"==typeof window.innerWidth?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]},URI:function(e){function t(e){for(var t="";e;)if("../"===e.substr(0,3)||"./"===e.substr(0,2))e=e.replace(/^\\.+/,"").substr(1);else if("/./"===e.substr(0,3)||"/."===e)e="/"+e.substr(3);else if("/../"===e.substr(0,4)||"/.."===e)e="/"+e.substr(4),t=t.replace(/\\/?[^\\/]*$/,"");else if("."===e||".."===e)e="";else var o=e.match(/^\\/?[^\\/]*/)[0],e=e.substr(o.length),t=t+o;return t}this.authority=this.scheme=null,this.path="",this.fragment=this.query=null,this.parse=function(e){return e=e.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\\/\\/)([^\\/?#]*))?([^?#]*)((\\?)([^#]*))?((#)(.*))?/),this.scheme=e[3]?e[2]:null,this.authority=e[5]?e[6]:null,this.path=e[7],this.query=e[9]?e[10]:null,this.fragment=e[12]?e[13]:null,this},this.toString=function(){var e="";return null!==this.scheme&&(e=e+this.scheme+":"),null!==this.authority&&(e=e+"//"+this.authority),null!==this.path&&(e+=this.path),null!==this.query&&(e=e+"?"+this.query),null!==this.fragment&&(e=e+"#"+this.fragment),e},this.toAbsolute=function(e){var e=new jscolor.URI(e),o=new jscolor.URI;return null===e.scheme?!1:(null!==this.scheme&&this.scheme.toLowerCase()===e.scheme.toLowerCase()&&(this.scheme=null),null!==this.scheme?(o.scheme=this.scheme,o.authority=this.authority,o.path=t(this.path),o.query=this.query):(null!==this.authority?(o.authority=this.authority,o.path=t(this.path),o.query=this.query):(""===this.path?(o.path=e.path,o.query=null!==this.query?this.query:e.query):("/"===this.path.substr(0,1)?o.path=t(this.path):(o.path=null!==e.authority&&""===e.path?"/"+this.path:e.path.replace(/[^\\/]+$/,"")+this.path,o.path=t(o.path)),o.query=this.query),o.authority=e.authority),o.scheme=e.scheme),o.fragment=this.fragment,o)},e&&this.parse(e)},color:function(b,f){function a(e,t,o){if(null===e)return[o,o,o];var r=Math.floor(e),s=o*(1-t),e=o*(1-t*(r%2?e-r:1-(e-r)));switch(r){case 6:case 0:return[o,e,s];case 1:return[e,o,s];case 2:return[s,o,e];case 3:return[s,e,o];case 4:return[e,s,o];case 5:return[o,s,e]}}function l(t,r){if(!jscolor.picker){jscolor.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(e.pickerCloseText)};for(var i=0;i<jscolor.images.sld[1];i+=4){var n=document.createElement("div");n.style.height="4px",n.style.fontSize="1px",n.style.lineHeight="0",jscolor.picker.sld.appendChild(n)}jscolor.picker.sldB.appendChild(jscolor.picker.sld),jscolor.picker.box.appendChild(jscolor.picker.sldB),jscolor.picker.box.appendChild(jscolor.picker.sldM),jscolor.picker.padB.appendChild(jscolor.picker.pad),jscolor.picker.box.appendChild(jscolor.picker.padB),jscolor.picker.box.appendChild(jscolor.picker.padM),jscolor.picker.btnS.appendChild(jscolor.picker.btnT),jscolor.picker.btn.appendChild(jscolor.picker.btnS),jscolor.picker.box.appendChild(jscolor.picker.btn),jscolor.picker.boxB.appendChild(jscolor.picker.box)}var l=jscolor.picker;l.box.onmouseup=l.box.onmouseout=function(){b.focus()},l.box.onmousedown=function(){o=!0},l.box.onmousemove=function(e){(p||q)&&(p&&y(e),q&&z(e),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),s())},l.padM.onmouseup=l.padM.onmouseout=function(){p&&(p=!1,jscolor.fireEvent(h,"change"))},l.padM.onmousedown=function(e){p=!0,y(e),s()},l.sldM.onmouseup=l.sldM.onmouseout=function(){q&&(q=!1,jscolor.fireEvent(h,"change"))},l.sldM.onmousedown=function(e){q=!0,z(e),s()},i=x(e),l.box.style.width=i[0]+"px",l.box.style.height=i[1]+"px",l.boxB.style.position="absolute",l.boxB.style.clear="both",l.boxB.style.left=t+"px",l.boxB.style.top=r+"px",l.boxB.style.zIndex=e.pickerZIndex,l.boxB.className="colorMenu",l.pad.style.width=jscolor.images.pad[0]+"px",l.pad.style.height=jscolor.images.pad[1]+"px",l.padB.style.position="absolute",l.padB.style.left=e.pickerFace+"px",l.padB.style.top=e.pickerFace+"px",l.padB.style.border=e.pickerInset+"px solid",l.padB.style.borderColor=e.pickerInsetColor,l.padM.style.position="absolute",l.padM.style.left="0",l.padM.style.top="0",l.padM.style.width=e.pickerFace+2*e.pickerInset+jscolor.images.pad[0]+jscolor.images.arrow[0]+"px",l.padM.style.height=l.box.style.height,l.padM.style.cursor="crosshair",l.sld.style.overflow="hidden",l.sld.style.width=jscolor.images.sld[0]+"px",l.sld.style.height=jscolor.images.sld[1]+"px",l.sldB.style.display=e.slider?"block":"none",l.sldB.style.position="absolute",l.sldB.style.right=e.pickerFace+"px",l.sldB.style.top=e.pickerFace+"px",l.sldB.style.border=e.pickerInset+"px solid",l.sldB.style.borderColor=e.pickerInsetColor,l.sldM.style.display=e.slider?"block":"none",l.sldM.style.position="absolute",l.sldM.style.right="0",l.sldM.style.top="0",l.sldM.style.width=jscolor.images.sld[0]+jscolor.images.arrow[0]+e.pickerFace+2*e.pickerInset+"px",l.sldM.style.height=l.box.style.height;try{l.sldM.style.cursor="pointer"}catch(c){l.sldM.style.cursor="hand"}l.btn.style.display=e.pickerClosable?"block":"none",l.btn.style.position="absolute",l.btn.style.left=e.pickerFace+"px",l.btn.style.bottom=e.pickerFace+"px",l.btn.style.padding="0 15px",l.btn.style.height="18px",l.btn.style.border=e.pickerInset+"px solid",function(){var t=e.pickerInsetColor.split(/\\s+/);l.btn.style.borderColor=2>t.length?t[0]:t[1]+" "+t[0]+" "+t[0]+" "+t[1]}(),l.btn.style.color=e.pickerButtonColor,l.btn.style.font="12px sans-serif",l.btn.style.textAlign="center";try{l.btn.style.cursor="pointer"}catch(a){l.btn.style.cursor="hand"}switch(l.btn.onmousedown=function(){e.hidePicker()},l.btnS.style.lineHeight=l.btn.style.height,m){case 0:var d="hs.png";break;case 1:d="hv.png"}l.padM.style.backgroundImage="url(\'"+jscolor.getDir()+"cross.gif\')",l.padM.style.backgroundRepeat="no-repeat",l.sldM.style.backgroundImage="url(\'"+jscolor.getDir()+"arrow.gif\')",l.sldM.style.backgroundRepeat="no-repeat",l.pad.style.backgroundImage="url(\'"+jscolor.getDir()+d+"\')",l.pad.style.backgroundRepeat="no-repeat",l.pad.style.backgroundPosition="0 0",A(),B(),jscolor.picker.owner=e,document.getElementsByTagName("body")[0].appendChild(l.boxB)}function x(e){return[2*e.pickerInset+2*e.pickerFace+jscolor.images.pad[0]+(e.slider?2*e.pickerInset+2*jscolor.images.arrow[0]+jscolor.images.sld[0]:0),e.pickerClosable?4*e.pickerInset+3*e.pickerFace+jscolor.images.pad[1]+e.pickerButtonHeight:2*e.pickerInset+2*e.pickerFace+jscolor.images.pad[1]]}function A(){switch(m){case 0:var t=1;break;case 1:t=2}var o=Math.round(e.hsv[0]/6*(jscolor.images.pad[0]-1)),t=Math.round((1-e.hsv[t])*(jscolor.images.pad[1]-1));switch(jscolor.picker.padM.style.backgroundPosition=e.pickerFace+e.pickerInset+o-Math.floor(jscolor.images.cross[0]/2)+"px "+(e.pickerFace+e.pickerInset+t-Math.floor(jscolor.images.cross[1]/2))+"px",o=jscolor.picker.sld.childNodes,m){case 0:for(var r=a(e.hsv[0],e.hsv[1],1),t=0;t<o.length;t+=1)o[t].style.backgroundColor="rgb("+100*r[0]*(1-t/o.length)+"%,"+100*r[1]*(1-t/o.length)+"%,"+100*r[2]*(1-t/o.length)+"%)";break;case 1:var s,i=[e.hsv[2],0,0],t=Math.floor(e.hsv[0]),n=t%2?e.hsv[0]-t:1-(e.hsv[0]-t);switch(t){case 6:case 0:r=[0,1,2];break;case 1:r=[1,0,2];break;case 2:r=[2,0,1];break;case 3:r=[2,1,0];break;case 4:r=[1,2,0];break;case 5:r=[0,2,1]}for(t=0;t<o.length;t+=1)s=1-1/(o.length-1)*t,i[1]=i[0]*(1-s*n),i[2]=i[0]*(1-s),o[t].style.backgroundColor="rgb("+100*i[r[0]]+"%,"+100*i[r[1]]+"%,"+100*i[r[2]]+"%)"}}function B(){switch(m){case 0:var t=2;break;case 1:t=1}t=Math.round((1-e.hsv[t])*(jscolor.images.sld[1]-1)),jscolor.picker.sldM.style.backgroundPosition="0 "+(e.pickerFace+e.pickerInset+t-Math.floor(jscolor.images.arrow[1]/2))+"px"}function t(){return jscolor.picker&&jscolor.picker.owner===e}function C(){h!==b&&e.importColor()}function y(t){var o=jscolor.getRelMousePos(t),t=o.x-e.pickerFace-e.pickerInset,o=o.y-e.pickerFace-e.pickerInset;switch(m){case 0:e.fromHSV(t*(6/(jscolor.images.pad[0]-1)),1-o/(jscolor.images.pad[1]-1),null,u);break;case 1:e.fromHSV(t*(6/(jscolor.images.pad[0]-1)),null,1-o/(jscolor.images.pad[1]-1),u)}}function z(t){switch(t=jscolor.getRelMousePos(t).y-e.pickerFace-e.pickerInset,m){case 0:e.fromHSV(null,null,1-t/(jscolor.images.sld[1]-1),v);break;case 1:e.fromHSV(null,1-t/(jscolor.images.sld[1]-1),null,v)}}function s(){e.onImmediateChange&&("string"==typeof e.onImmediateChange?eval(e.onImmediateChange):e.onImmediateChange(e))}this.adjust=this.required=!0,this.hash=!1,this.slider=this.caps=!0,this.styleElement=this.valueElement=b,this.onImmediateChange=null,this.hsv=[0,0,1],this.rgb=[1,1,1],this.pickerOnfocus=!0,this.pickerMode="HSV",this.pickerPosition="bottom",this.pickerSmartPosition=!0,this.pickerButtonHeight=20,this.pickerClosable=!1,this.pickerCloseText="Close",this.pickerButtonColor="ButtonText",this.pickerFace=10,this.pickerFaceColor="ThreeDFace",this.pickerBorder=1,this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight",this.pickerInset=1,this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow",this.pickerZIndex=1e4;for(var n in f)f.hasOwnProperty(n)&&(this[n]=f[n]);this.hidePicker=function(){t()&&(delete jscolor.picker.owner,document.getElementsByTagName("body")[0].removeChild(jscolor.picker.boxB))},this.showPicker=function(){if(!t()){var e,o,r,s=jscolor.getElementPos(b),i=jscolor.getElementSize(b),n=jscolor.getViewPos(),c=jscolor.getViewSize(),a=x(this);switch(this.pickerPosition.toLowerCase()){case"left":e=1,o=0,r=-1;break;case"right":e=1,o=0,r=1;break;case"top":e=0,o=1,r=-1;break;default:e=0,r=o=1}var h=(i[o]+a[o])/2,s=this.pickerSmartPosition?[-n[e]+s[e]+a[e]>c[e]&&-n[e]+s[e]+i[e]/2>c[e]/2&&0<=s[e]+i[e]-a[e]?s[e]+i[e]-a[e]:s[e],-n[o]+s[o]+i[o]+a[o]-h+h*r>c[o]?-n[o]+s[o]+i[o]/2>c[o]/2&&0<=s[o]+i[o]-h-h*r?s[o]+i[o]-h-h*r:s[o]+i[o]-h+h*r:0<=s[o]+i[o]-h+h*r?s[o]+i[o]-h+h*r:s[o]+i[o]-h-h*r]:[s[e],s[o]+i[o]-h+h*r];l(s[e],s[o])}},this.importColor=function(){h?this.adjust?!this.required&&/^\\s*$/.test(h.value)?(h.value="",i.style.backgroundColor=i.jscStyle.backgroundColor,i.style.color=i.jscStyle.color,this.exportColor(r|w)):this.fromString(h.value)||this.exportColor():this.fromString(h.value,r)||(i.style.backgroundColor=i.jscStyle.backgroundColor,i.style.color=i.jscStyle.color,this.exportColor(r|w)):this.exportColor()},this.exportColor=function(e){if(!(e&r)&&h){var o=this.toString();this.caps&&(o=o.toUpperCase()),this.hash&&(o="#"+o),h.value=o}!(e&w)&&i&&(i.style.backgroundColor="#"+this.toString(),i.style.color=.5>.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]?"#FFF":"#000"),!(e&v)&&t()&&A(),!(e&u)&&t()&&B()},this.fromHSV=function(e,t,o,r){0>e&&(e=0)||e>6&&(e=6),0>t&&(t=0)||t>1&&(t=1),0>o&&(o=0)||o>1&&(o=1),this.rgb=a(null===e?this.hsv[0]:this.hsv[0]=e,null===t?this.hsv[1]:this.hsv[1]=t,null===o?this.hsv[2]:this.hsv[2]=o),this.exportColor(r)},this.fromRGB=function(e,t,o,r){0>e&&(e=0)||e>1&&(e=1),0>t&&(t=0)||t>1&&(t=1),0>o&&(o=0)||o>1&&(o=1);var e=null===e?this.rgb[0]:this.rgb[0]=e,t=null===t?this.rgb[1]:this.rgb[1]=t,s=null===o?this.rgb[2]:this.rgb[2]=o,i=Math.min(Math.min(e,t),s),o=Math.max(Math.max(e,t),s),n=o-i;0===n?e=[null,0,o]:(e=e===i?3+(s-t)/n:t===i?5+(e-s)/n:1+(t-e)/n,e=[6===e?0:e,n/o,o]),null!==e[0]&&(this.hsv[0]=e[0]),0!==e[2]&&(this.hsv[1]=e[1]),this.hsv[2]=e[2],this.exportColor(r)},this.fromString=function(e,t){var o=e.match(/^\\W*([0-9A-F]{3}([0-9A-F]{3})?)\\W*$/i);return o?(6===o[1].length?this.fromRGB(parseInt(o[1].substr(0,2),16)/255,parseInt(o[1].substr(2,2),16)/255,parseInt(o[1].substr(4,2),16)/255,t):this.fromRGB(parseInt(o[1].charAt(0)+o[1].charAt(0),16)/255,parseInt(o[1].charAt(1)+o[1].charAt(1),16)/255,parseInt(o[1].charAt(2)+o[1].charAt(2),16)/255,t),!0):!1},this.toString=function(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1)};var e=this,m="hvs"===this.pickerMode.toLowerCase()?1:0,o=!1,h=jscolor.fetchElement(this.valueElement),i=jscolor.fetchElement(this.styleElement),p=!1,q=!1,r=1,w=2,v=4,u=8;switch(jscolor.addEvent(b,"focus",function(){e.pickerOnfocus&&e.showPicker()}),jscolor.addEvent(b,"blur",function(){o?o=!1:window.setTimeout(function(){o||(h===b&&e.importColor(),e.pickerOnfocus&&e.hidePicker()),o=!1},0)}),h&&(n=function(){e.fromString(h.value,r),s()},jscolor.addEvent(h,"keyup",n),jscolor.addEvent(h,"input",n),jscolor.addEvent(h,"blur",C),h.setAttribute("autocomplete","off")),i&&(i.jscStyle={backgroundColor:i.style.backgroundColor,color:i.style.color}),m){case 0:jscolor.requireImage("hs.png");break;case 1:jscolor.requireImage("hv.png")}jscolor.requireImage("cross.gif"),jscolor.requireImage("arrow.gif"),this.importColor()}};exports=jscolor;'),jsio.setCachedSrc("modules/devkit-core/modules/squill/Label.js",'jsio("from util.browser import $"),jsio("import squill.Widget"),jsio("import squill.models.bindings as bindings");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_Label=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_Label(function(){return this.init&&this.init.apply(this,arguments)},squill.Widget,function(){this._css="label",this._def={children:[{id:"_labelSpan",tag:"span"}]},this.buildWidget=function(){this.setLabel(this.getI18n("label"));var t=this._opts;t.format&&bindings.parseFormat(this,t.format)},this.setData=this.setValue=this.setLabel=this.setText=function(t){/object/i.test(t),$.setText(this._labelSpan,t)},this.setHTML=function(t){this._labelSpan.innerHTML=t}});'),jsio.setCachedSrc("modules/devkit-core/modules/squill/List.js",'jsio("import .Window"),jsio("import .Widget"),jsio("from util.browser import $"),jsio("import .models.DataSource as DataSource"),jsio("import .Selection");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_List=__class__,List=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_List(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(t){this._css="list",this.init=function(e){e=merge(e,{containSelf:!0,cellSpacing:0,isTiled:!1,preserveCells:!1,renderAll:!0,isFixedHeight:!0,absolutePosition:!0,filter:null}),this.needsRender=delay(this.render),e.cellCtor&&this.setCellCtor(e.cellCtor),e.dataSource&&this.setDataSource(e.dataSource),e.sorter&&this.setSorter(e.sorter),this._lastFilter=null,this._filter=e.filter,this._cellsByID={},this._removed={},this._containSelf=e.containSelf,this._containerTag=e.containerTag,this._applyNodeOrder=e.applyNodeOrder,this._renderOpts={cellSpacing:e.cellSpacing||0},this.updateFilter=delay(function(){this._lastFilter=null,this.needsRender()},100),t(this,"init",[e]),e.__result&&e.__result.addSubscription(this,"select"),Window.get().on("ViewportChange",bind(this,"needsRender"))},this.getContainer=function(){return this._container},this.getDataSource=function(){return this._dataSource},this.setModel=function(){return 1!=arguments.length?t(this,"setModel",arguments):void this.setDataSource(arguments[0])},this.setData=function(t){this._dataSource?this._dataSource.clear():this.setDataSource(new DataSource({sorter:this._sorter})),t&&this._dataSource.add(Array.isArray(t)?t.map(function(t,e){return{id:e,data:t}}):Object.keys(t).map(function(e){return{id:e,data:t[e]}})),this.needsRender()},this.setDataSource=function(t){this._dataSource!=t&&(this._dataSource&&(this._dataSource.unsubscribe("Update",this),this._dataSource.unsubscribe("Remove",this),this.clear()),this._dataSource=t,this._dataSource.subscribe("Update",this,"onUpdateItem"),this._dataSource.subscribe("Remove",this,"onRemoveItem"),this.needsRender())},this.onUpdateItem=function(t,e){var i=this._cellsByID[t];i&&i.getItem()!=e&&i.setItem(e),this.updateFilter()},this.onRemoveItem=function(t){this._removed[t]=!0,this.updateFilter()},this.buildWidget=function(){this._container=$({parent:this._el,className:this._opts.containerClassName,tag:this._containerTag||"div"}),this._containSelf&&!this._applyNodeOrder&&(this._container.style.position="relative"),(this._opts.selection||this._opts.selectable)&&this.setSelectable(this._opts.selection||this._opts.selectable),this.render()},this.setValue=function(t){this.selection&&this.selection.select(t)},this.getValue=function(){return this.selection?this.selection.get():void 0},this.setSelectable=function(t){this.selection=new Selection({parent:this,type:t}).subscribe("Select",this,"_onSelected",!0).subscribe("Deselect",this,"_onSelected",!1),this.selection},this._onSelected=function(t,e,i){void 0!==this._cellsByID[i]&&(this._cellsByID[i].updateSelected(),t&&this.publish("select",i))},this.setCellCtor=function(t){t!=this._cellCtor&&(this._cellCtor=t,this.clear())},this.clear=function(){for(var t in this._cellsByID)this._cellsByID[t].remove();this._cellsByID={},this._cellDim=this._renderedDataSource=null},this.getCellById=function(t){return this._cellsByID[t]},this.setCellForId=function(t,e){this._cellsByID[t]=e},this.getCells=function(){return this._cellsByID},this.setSorter=function(t){this._sorter=t,this._renderedDataSource&&this._renderedDataSource.setSorter(t)},this.setFilter=function(t){this._filter=t,this.needsRender()},this.setFixedHeight=function(t){this._opts.isFixedHeight=t},this._applyDataSource=function(){if(this._filter!=this._lastFilter)this._lastFilter=this._filter,this._renderedDataSource=this._dataSource.getFilteredDataSource(bind(this,this._filter)),this._lastSorter=this._sorter,this._renderedDataSource.setSorter(this._sorter);else if(this._sorter!=this._lastSorter){if(!this._renderedDataSource||this._renderedDataSource==this._dataSource)return this._filter=function(){return!0},this._applyDataSource();this._lastSorter=this._sorter,this._renderedDataSource.setSorter(this._sorter)}this._renderedDataSource||(this._renderedDataSource=this._dataSource)},this.onShow=function(){t(this,"onShow",arguments),this.needsRender()},this.render=function(){this._dataSource&&(this._applyDataSource(),this._renderedDataSource.sort(),this._opts.renderAll?this.renderAllDelayed():this._opts.isFixedHeight?this.renderFixedHeight():this.renderDynamicHeight(),this._removed={})},this.setCellDim=function(t){this._cellDim=t},this.getCellDim=function(){if(this._cellDim)return this._cellDim;if(this._opts.isFixedHeight){var t=this._renderedDataSource.getItemForIndex(0);if(!t)return!1;var e=t[this._renderedDataSource.getKey()],t=this._cellsByID[e]||(this._cellsByID[e]=this._createCell(t)),t=$.size(t.getElement());return 0==t.width||0==t.height?null:((e=this._opts.cellSpacing)&&(t.width+=e,t.height+=e),this._cellDim=t)}throw"unimplemented"},this._createCell=function(t){var e=this._dataSource.getKey(),i=new this._cellCtor({parent:this,controller:this,key:e,item:t});return i.getElement().setAttribute("squill-data-id",t[e]),i.render(),i},this._nodeOrder=function(){var t,e,i,s,r=this._container,o=this._renderedDataSource,n=o.key;if(r.childNodes.length){for(t=document.createElement("div"),r.insertBefore(t,r.childNodes[0]),s=0;s<o.length;s++)e=o.getItemForIndex(s),e=this._cellsByID[e[n]],i=e.getElement(),e&&i.parentNode&&r.insertBefore(r.removeChild(i),t);r.removeChild(t)}},this.renderAllDelayed=function(){function t(){for(var i=0,r=+new Date;10>i++||50>+new Date-r;){var o;if(o=e.getItemForIndex(s)){var n=o[e.getKey()],l=this._cellsByID[n];l?l.render():l=this._cellsByID[n]=this._createCell(o),!this._applyNodeOrder&&this.positionCell(l,s),++s,o=!0}else o=!1;if(!o)return void(this._applyNodeOrder&&this._nodeOrder())}setTimeout(bind(this,t),100)}var e=this._renderedDataSource;if(e){this.updateRenderOpts();var i,s=0,r=this._removed;for(i in r)if(!e.getItemForID(i)){var o=this._cellsByID[i];o&&(o.remove(),delete this._cellsByID[i])}t.call(this)}},this.setOffsetParent=function(t){this._opts.offsetParent=t},this.setTiled=function(t){this._isTiled=this._opts.isTiled=t},this.updateRenderOpts=function(){var t=this._renderOpts;t.offsetTop=this._containSelf?0:this._container.offsetTop,t.offsetLeft=this._containSelf?0:this._container.offsetLeft;var e=this._offsetParent||this.getOffsetParent();if(t.top=(e.getAttribute("squill-scroller-top")||e.scrollTop)-t.offsetTop,t.height=e.offsetHeight,t.bottom=t.top+t.height,this._opts.isFixedHeight){var i=this.getCellDim();if(!i)return!1;t.cellWidth=i.width,t.cellHeight=i.height}return i=t.numRows=this._renderedDataSource.length,this._opts.isFixedHeight&&(this._opts.isTiled?(t.maxWidth=e.offsetWidth-t.offsetLeft,t.numPerRow=Math.max(1,t.maxWidth/t.cellWidth|0),t.numRows=Math.ceil(i/t.numPerRow),t.start=Math.max(0,(t.top/t.cellHeight|0)*t.numPerRow),t.end=Math.ceil(t.bottom/t.cellHeight)*t.numPerRow):(t.start=Math.max(0,t.top/t.cellHeight|0),t.end=t.bottom/t.cellHeight+1|0)),this._applyNodeOrder||(this._container.style.height=this._opts.absolutePosition?t.numRows*t.cellHeight+"px":"auto"),!0},this.positionCell=function(t,e){if(this._opts.absolutePosition){var i,s,r=this._renderOpts,o=t.getElement();this._opts.isTiled?(i=e%r.numPerRow,s=e/r.numPerRow|0,o.style.left=i*r.cellWidth+r.offsetLeft+"px",o.style.top=s*r.cellHeight+r.offsetTop+"px"):o.style.top=(e*r.cellHeight||0)+r.offsetTop+"px"}},this.getOffsetParent=function(){return this._opts.offsetParent||(this._containSelf?this._container:this._container.offsetParent)||document.body},this.renderFixedHeight=function(){var t=this.getOffsetParent();if(t){t!=this._offsetParent&&(this._removeScrollEvt&&this._removeScrollEvt(),this._offsetParent=t,this._removeScrollEvt=$.onEvent(t,"scroll",this,"needsRender"));var t=this._renderedDataSource,e=t.getKey(),i=t.length;if(!i||this.updateRenderOpts()){var s=this._cellsByID;if(this._cellsByID={},i)for(var i=this._renderOpts,r=i.start;r<i.end;++r){var o=t.getItemForIndex(r);if(!o)break;var n=o[e],l=s[n];l?(delete s[n],l.render()):l=this._createCell(o),this.positionCell(l,r),this._cellsByID[n]=l}if(this._opts.preserveCells)for(n in s)l=s[n],t.getItemForID(n)?this._cellsByID[n]=l:l.remove();else for(n in s)s[n].remove()}}}});'),jsio.setCachedSrc("modules/devkit-core/modules/squill/Window.js",'jsio("import lib.PubSub"),jsio("import std.uri"),jsio("from util.browser import $");var UNIQUE_ID="__squill__window_id",home_weeby_projects_swarm_modules_devkit_core_modules_squill_Window=__class__,Window=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_Window(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){this.init=function(i){this._win=i||window,this._location=new std.uri(this._win.location),this._dim=$(this._win),$.onEvent(this._win,"resize",this,"onViewportChange"),$.onEvent(this._win,"scroll",this,"onViewportChange")},this.onViewportChange=function(i){this._dim=$(this._win),this.publish("ViewportChange",i,this._dim)},this.getDim=this.getViewport=function(){return this._dim},this.query=function(i){return this._location.query(i)},this.hash=function(i){return this._location.query(i)},this.center=function(i,t){var t=merge(t,{subscribe:!0}),e="height"in t?t.height:i.offsetHeight;i.style.left=(this._dim.width-("width"in t?t.width:i.offsetWidth))/2+"px",i.style.top=(this._dim.height-e)/2+"px",t.subscribe&&this.subscribe("ViewportChange",this,"center",i,merge({subscribe:!1},t))}}),gWin={};exports.get=function(i){return i||(i=window),i[UNIQUE_ID]?gWin[i[UNIQUE_ID]]:gWin[i[UNIQUE_ID]]=new Window(i)};'),jsio.setCachedSrc("modules/devkit-core/modules/squill/models/DataSource.js",'jsio("import lib.Callback"),jsio("import .BasicDataSource as BasicDataSource");var modules_devkit_core_modules_squill_models_DataSource=__class__,DataSource=exports=modules_devkit_core_modules_squill_models_DataSource(function(){return this.init&&this.init.apply(this,arguments)},BasicDataSource,function(t){var e={key:"id"};this.init=function(i){this._opts=i=merge(i,e),t(this,"init",[i]),this._byIndex=[],this._byID={},this._ctor=i.ctor,this._reverse=i.reverse,this.length=0,this.onLoad=new lib.Callback,this.setSorter(i.sorter),this.setPersistence(i.persistence),this._changeDataSave=!1,this._changeData={updated:[],updatedHash:{},removed:[],removedHash:{}}},this.setPersistence=function(t){(this._persistence=t)&&(this.onLoad.clear(),t.load(this,this.onLoad.chain()))},this._saveChanges=function(t,e){this._changeDataSave&&!this._changeData[t+"Hash"][e]&&(this._changeData[t+"Hash"][e]=!0,this._changeData[t].push(e))},this.getFilteredDataSource=function(t){var e=new DataSource(this._opts);return this.forEach(function(i){t(i)&&e.add(i)}),this.subscribe("Update",function(i,s){t(s)?e.add(s):e.remove(s)}),this.subscribe("Remove",function(t,i){e.remove(i)}),e},this.signalUpdate=function(t,e,i){if(void 0!==e[this.key])switch(t){case"UPDATE":this._saveChanges("updated",e[this.key]),this.publish("Update",e[this.key],e);break;case"REMOVE":this._saveChanges("removed",e[this.key]),this.publish("Remove",i,e)}};var i=function(){return this._sortKey};this.updated=this.add=function(t){if(isArray(t)){for(var e=[],s=0,n=t.length;n>s;++s)if(t[s]){var h=this.add(t[s]);h&&e.push(h)}return e}if(e=t[this.key],null!=e){if(n=null,this._byID[e]){for(s=0;h=this._byIndex[s];++s)if(h[this.key]==e){"function"==typeof h.update?(h.update(t),t=h):n=s;break}}else n=this.length++;return null!==n&&(this._ctor&&!(t instanceof this._ctor)&&(t=new this._ctor(t)),this._byIndex[n]=t),this._byID[e]=t,this.signalUpdate("UPDATE",t),this._sorter&&(t._sortKey=this._sorter(t),t.toString=i),t}},this.remove=function(t){if("object"==typeof t&&(t=t[this.key]),null!=t&&this._byID[t]){this.signalUpdate("REMOVE",this._byID[t],t),delete this._byID[t];for(var e,i=0;e=this._byIndex[i];++i)if(e[this.key]==t)return--this.length,this._byIndex.splice(i,1)[0]}},this.keepOnly=function(t){this.compare(t,function(t,e,i){i||t.remove(e)})},this.clear=function(){var t=this._byIndex;this._byIndex=[],this._byID={};for(var e,i=this.length=0;e=t[i];++i)this.signalUpdate("REMOVE",e,e[this.key])},this.getCount=function(){return this.length},this.setSorter=function(t){if(this._sorter=t)for(var e,s=0;e=this._byIndex[s];++s)e._sortKey=t(e),e.toString=i;return this.sort(),this},this.getIDs=function(){return this._byIndex.map(function(t){return t[this.key]},this)},this.contains=function(t){return!!this._byID[t]},this.getKey=function(){return this.key},this.get=this.getItemForID=function(t){return this._byID[t]||null},this.indexOf=function(t){return this._byIndex.indexOf(t)},this.getItemForIndex=function(t){return this._byIndex[t]},this.sort=function(){this._byIndex.sort(),this._reverse&&this._byIndex.reverse()},this.forEach=this.each=function(t,e){for(var i=0;i<this.length&&!t.call(e,this._byIndex[i],i);++i);},this.toJSON=function(){return{key:this.key,items:this._byIndex}},this.fromJSON=function(t){this.clear(),this.key=t.key,this.add(t.items)},this.toArray=function(){return this._byIndex.slice(0)},this.beginChanges=function(){this._changeDataSave=!0,this._changeData={updated:[],updatedHash:{},removed:[],removedHash:{}}},this.saveChanges=function(){if(this._changeDataSave=!1,this._persistence){var t,e,i=this._changeData;if(this._persistence.remove(i.removed),i.updated.length){var s=[];for(t=0,e=i.updated.length;e>t;t++)s.push(this._byID[i.updated[t]]);this._persistence.update(s)}this._persistence.commit()}},this.load=function(t){this._persistence&&this._persistence.load(this,function(e){e&&logger.LOG&&console.log("LOG","squill.models.DataSource","error loading",JSON.stringify(e)),t&&t(e)})},this.save=function(){this._persistence&&this._persistence.save(this)},this.compare=function(t,e){var i=this.key,s={};if(isArray(t))for(var n=0,h=t.length;h>n;++n)s[t[n][i]]=t[n];else for(var r in t)s[r]=t[r];for(var a,h=this._byIndex.slice(0),n=0;a=h[n];++n)r=a[i],e.call(this,this,a,s[r]),delete s[r];for(r in s)e.call(this,this,null,s[r])},this.filter=function(t){var e,i,s,n,h=new DataSource({key:this.key}),r=this.length;for(h.key=this.key,n=0;r>n;++n){i=this._byIndex[n],s=!0;for(e in t)"string"==typeof i[e]&&-1==i[e].toLowerCase().indexOf(t[e])&&(s=!1);s&&h.add(i)}return h}});'),
jsio.setCachedSrc("modules/devkit-core/modules/squill/models/BasicDataSource.js",'jsio("import lib.PubSub as PubSub");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_models_BasicDataSource=__class__,BasicDataSource=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_models_BasicDataSource(function(){return this.init&&this.init.apply(this,arguments)},PubSub,function(e){this.init=function(s){e(this,"init",arguments),this.key=this._key=s.key,this._channel=s.channel,this._hasRemote=s.hasRemote},this.getKey=function(){return this._key}});'),jsio.setCachedSrc("modules/devkit-core/modules/squill/Selection.js",'jsio("import lib.PubSub");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_Selection=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_Selection(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){this.init=function(t){this._parent=t.parent,this._type=t.type||!1,this._selection=t.selectionStore||new exports.LocalStore,this._maxSelections=t.maxSelections||1,this._currentSelectionCount=0,this._lastSelected=null},this.getType=function(){return this._type},this.isSelected=function(t){return"object"==typeof t&&(t=t[this._parent.getDataSource().key]),this._selection.isSelected(t)},this.toggle=function(t){this._setSelected(t,!this.isSelected(t[this._parent.getDataSource().key]))},this.select=function(t){(this._currentSelectionCount<this._maxSelections||"single"==this._type)&&this._setSelected(t,!0)},this.deselect=function(t){this._setSelected(t,!1)},this.clear=this.deselectAll=function(){this._selection.deselectAll(),this._currentSelectionCount=0},this.get=function(){return 1==this._maxSelections?Object.keys(this._selection.get())[0]:Object.keys(this._selection.get())},this.getSelectionCount=function(){return this._currentSelectionCount},this._setSelected=function(t,e){if(t){var i=this._parent.getDataSource(),s=i.key;if("string"==typeof t&&(t=i.get(t),!t))return;i=t[s],this._selection.isSelected(i)!=e&&(e?(this._lastSelected&&"single"==this._type&&(s=this._lastSelected[s],this._selection.deselect(s),this._currentSelectionCount--,this.publish("Deselect",this._lastSelected,s)),this._lastSelected=t,this._selection.select(i),this._currentSelectionCount++):(this._selection.deselect(i),this._currentSelectionCount--),this.publish(e?"Select":"Deselect",t,i))}}}),exports.LocalStore=__class__,exports.LocalStore=exports.LocalStore(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this._store={}},this.get=function(){return merge({},this._store)},this.select=function(t){this._store[t]=!0},this.deselect=function(t){delete this._store[t]},this.deselectAll=function(){this._store={}},this.isSelected=function(t){if(void 0!==t)return!!this._store[t];for(var e in this._store)return!0;return!1}});'),jsio.setCachedSrc("modules/devkit-core/modules/squill/TextButton.js",'jsio("import .Button, .Widget"),jsio("from util.browser import $");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_TextButton=__class__,TextButton=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_TextButton(function(){return this.init&&this.init.apply(this,arguments)},Button,function(){this._type="text-button",this.buildWidget=function(){var t=this._el;$.setText(t,this.getI18n("label")||this.getI18n("text")),this.initMouseEvents(t),this.initKeyEvents(t)},this.setLabel=function(t){this._opts.label=t,this._el&&$.setText(this._el,t)}});Widget.register(TextButton,"TextButton");'),jsio.setCachedSrc("modules/devkit-core/modules/squill/Button.js",'jsio("from util.browser import $"),jsio("import .Widget"),jsio("import .hint as hint");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_Button=__class__,Button=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_Button(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(t){this._css="btn",this._type="button",this.init=function(i){i=merge(i,{tag:"button",isEnabled:!0}),this._isEnabled=i.isEnabled,t(this,"init",[i]),this._hint=i.hint},this.create=function(){this._opts.style=JS.merge(this._opts.style,{whiteSpace:"nowrap",display:"block"}),t(this,"create",arguments)},this.buildWidget=function(){var t=this._el;this.initMouseEvents(t),this.initKeyEvents(t),t.style.userSelect="none",t.style.MozUserSelect="none",t.style.KhtmlUserSelect="none",t.unselectable="on"},this._setHintTimeout=function(t){this._hint&&(this._hintTimeout&&clearTimeout(this._hintTimeout),this._hintTimeout=setTimeout(bind(this,function(){hint.show(t.pageX+12,t.pageY+14,this._hint)}),300))},this.onMouseOver=function(t){this._setHintTimeout(t)},this.onMouseMove=function(t){this._setHintTimeout(t)},this.onMouseOut=function(){hint.hide(),this._hintTimeout&&clearTimeout(this._hintTimeout)},this.onClick=function(i){$.stopEvent(i),this._isEnabled&&(this._opts.onClick&&this._opts.onClick(i,this),t(this,"onClick",arguments))},this.captureOnEnter=function(t){t.subscribe("KeyDown",this,"onKeyDown"),t.subscribe("KeyUp",this,"onKeyUp")},this.onKeyDown=function(t){13==t.keyCode&&($.stopEvent(t),this.onMouseDown())},this.onKeyUp=function(t){13==t.keyCode&&($.stopEvent(t),this.onMouseUp(),this.onClick(t))},this.show=function(){this.onBeforeShow(),this.getElement().style.display="inline-block",this.onShow()},this.blur=function(){this._el&&this._el.blur()},this.focus=function(){this._el&&this._el.focus()},this.setEnabled=function(t){this._isEnabled!=t&&((this._isEnabled=t)?$.removeClass(this._el,"disabled"):$.addClass(this._el,"disabled"))}});'),jsio.setCachedSrc("modules/devkit-core/modules/squill/hint.js",'jsio("from util.browser import $");var hint=$({parent:document.body,className:"hint"});exports.show=function(t,e,i){hint.innerHTML=i,hint.style.left=t+"px",hint.style.top=e+"px",hint.style.display="block",console.log(i),t+hint.offsetWidth>=document.width&&(hint.style.left=t-hint.offsetWidth+"px")},exports.hide=function(){hint=hint||$({parent:document.body,className:"graphHint"}),hint.style.display="none"};var setHintTimeout=function(t){t.target.hintTimeout&&clearTimeout(t.target.hintTimeout),t.target.hintTimeout=setTimeout(bind(this,function(){exports.show(t.pageX+12,t.pageY+14,t.target.hintText)}),300)};exports.add=function(t,e){t.hintText=e,$.onEvent(t,"mouseover",setHintTimeout),$.onEvent(t,"mousemove",setHintTimeout),$.onEvent(t,"mouseout",function(t){exports.hide(),t.target.hintTimeout&&clearTimeout(t.target.hintTimeout)})};'),jsio.setCachedSrc("modules/devkit-core/modules/squill/TextInput.js",'jsio("from util.browser import $"),jsio("import .Widget"),jsio("import squill.models.bindings as bindings");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_TextInput=__class__,TextInput=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_TextInput(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(t){this._type="text",this._css="textInput",this.init=function(i){i=merge(i,{name:"",value:"",multiline:!1}),this._def={children:[{tag:i.multiline?"textarea":"input",id:"_input",attrs:{type:"text",value:i.value,name:i.name},style:merge(i.textStyle,{MozBoxSizing:"border-box",WebkitBoxSizing:"border-box",MsBoxSizing:"border-box",boxSizing:"border-box"})}],style:{position:"relative"}},i.prefixLabel&&this._def.children.unshift({id:"_label",text:i.label}),t(this,"init",[i])},this.buildWidget=function(){var t=this._el;"ontouchstart"in this._el&&(this._overlay=$({parent:this._el,attrs:{noCapture:!0},style:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",zIndex:1}}),this._overlay.addEventListener("click",bind(this,function(){$.hide(this._overlay),this._input.focus()}),!0));var i=this._opts;if(!i.prefixLabel||i.placeholder){var e=this.getI18n("label");null===this._input.getAttribute("placeholder")?this._input.setAttribute("placeholder",i.placeholder||e):this._placeholder=$.create({tag:"button",text:e,style:{position:"absolute"},parent:t})}this.initMouseEvents(t),this.initFocusEvents(this._input),this.initKeyEvents(this._input)},this.focus=function(){this._input.focus()},this.blur=function(){this._input.blur()},this.getInputElement=function(){return this._input},this.setName=function(i){t(this,"setName",arguments),this._input&&(this._input.name=i)},this.setValue=function(t){void 0===t&&(t=""),this.saveSelection(),this._value=this._input.value=t,this.restoreSelection()},this.getValue=function(){return this._input.value},this.onKeyDown=function(){t(this,"onKeyDown",arguments),this._placeholder&&$.hide(this._placeholder)},this.onKeyUp=function(){t(this,"onKeyUp",arguments),this.checkLabel(),this.checkValue()},this.onMouseDown=function(i){t(this,"onMouseDown",arguments),i.stopPropagation()},this.onKeyPress=function(i){t(this,"onKeyPress",arguments),13==i.keyCode&&this.publish("EnterPressed"),this.checkValue()},this.onBlur=function(){t(this,"onBlur"),this.checkLabel(),this._overlay&&$.show(this._overlay)},this.isValid=function(){return this._isValid},this.checkValue=function(){var t=this._input.value,i=this._opts.formatter;i&&(t=i(t)),t==INVALID_VALUE?(this._isValid=!1,$.addClass(this._el,"invalid")):(this._isValid=!0,$.removeClass(this._el,"invalid"),this._value!=t&&(this._value=t,i=this._input,t!=i.value&&(this.saveSelection(),i.value=t,this.restoreSelection()),this.publish("change",this._value),this.publish("ValueChange",this._value)))},this.saveSelection=function(){this._selection={start:this._input.selectionStart,end:this._input.selectionEnd}},this.restoreSelection=function(){var t=this._input;this._isFocused&&(t.selectionStart=this._selection.start,t.selectionEnd=this._selection.end)},this.checkLabel=function(){this._placeholder&&/^\\s*$/.test(this._input.value)&&$.show(this._placeholder)},this.onClick=function(){t(this,"onClick")},this.setEnabled=function(t){(this._isEnabled=t)?(delete this._input.disabled,this.removeClass("disabled")):(this._input.disabled=!0,this.addClass("disabled"))},this.isEnabled=function(){return this._isEnabled},this.disable=function(){this.setEnabled(!1)},this.enable=function(){this.setEnabled(!0)}}),INVALID_VALUE=exports.INVALID_VALUE={};Widget.register(TextInput,"TextInput");'),jsio.setCachedSrc("modules/devkit-core/modules/squill/TextArea.js",'jsio("from util.browser import $"),jsio("import .Widget"),jsio("import .TextInput");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_TextArea=__class__,TextArea=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_TextArea(function(){return this.init&&this.init.apply(this,arguments)},TextInput,function(){this._tag="textarea"});Widget.register(TextArea,"TextArea");'),jsio.setCachedSrc("modules/devkit-core/modules/squill/Scroller.js",'jsio("import .Drag"),jsio("import .Widget"),jsio("import .transforms"),jsio("from util.browser import $");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_Scroller=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_Scroller(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(t){this._css="scroller",this.init=function(s){s=merge(s,{momentum:!0}),this._scrollTop=0,this._lastDelta={diff:0,when:0,duration:0},this._hasMomentum=s.momentum,t(this,"init",[s])},this.buildContent=function(){var s=this._el;return $.style(s,{height:"100%"}),this._scrollPane=$({parent:s,className:"squill-scrollPane",minHeight:"100%"}),"ontouchstart"in s?(s.addEventListener("touchstart",bind(this,"onTouchStart"),!0),s.addEventListener("mousedown",this,"start"),this.initDragEvents(),this._el.style.overflow="hidden",transforms.setTop(this._scrollPane,0)):this._el.style.overflow="auto",this._def&&(s=this._def,this._def=null,this.buildChildren(merge({el:this._scrollPane},s))),t(this,"buildContent",arguments)},this.getScrollTop=function(){return this._scrollTop},this.getContainer=this.getScrollPane=function(){return this._scrollPane},this.onTouchStart=function(){this._momentum&&clearInterval(this._momentum)},this.onDragStart=function(){this._height=this._scrollPane.offsetHeight-this._el.offsetHeight,this._lastDelta.when=+new Date,this._momentum&&clearInterval(this._momentum)},this.onDrag=function(t,s,i){t=+new Date,s=this._lastDelta,s.diff=i.y,s.duration=s.when&&t-s.when||0,s.when=t,this.scrollTo(this._scrollTop+i.y)},this.scrollTo=function(t,s){this._scrollTop=t,this._scrollTop<-this._height&&(this._scrollTop=-this._height),0<this._scrollTop&&(this._scrollTop=0),this._el.setAttribute("squill-scroller-top",-this._scrollTop);var i=bind(this,function(){if(document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("scroll",!0,!1),this._el.dispatchEvent(t)}});s?transforms.move(this._scrollPane,0,this._scrollTop,"0.5s ease-in-out",i):(transforms.move(this._scrollPane,0,this._scrollTop),i())},this.onDragStop=function(t,s){if($.stopEvent(s),this._hasMomentum&&0!=this._lastDelta.duration){var i=this._lastDelta,e=i.diff/i.duration,o=i.when;this._momentum=setInterval(bind(this,function(){var t=+new Date;this.scrollTo(this._scrollTop+e*(t-o)),e*=.95,.01>Math.abs(e)&&(clearTimeout(this._momentum),this._momentum=null),o=t}),10)}}});'),jsio.setCachedSrc("modules/devkit-core/modules/squill/transforms.js",'jsio("from util.browser import $");var vendor=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",has3d="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,hasTransform=vendor+"Transform"in document.documentElement.style,translateStart="translate"+(has3d?"3d(":"("),translateEnd=has3d?",0)":")";hasTransform?(exports.setLeft=function(t,n){t.style[vendor+"Transform"]=translateStart+n+"px,0"+translateEnd},exports.setTop=function(t,n){t.style[vendor+"Transform"]=translateStart+"0,"+n+"px"+translateEnd}):(exports.setLeft=function(t,n){t.style.left=n+"px"},exports.setTop=function(t,n){t.style.top=n+"px"}),exports.onTransitionEnd=function(t,n){var r=!1,o=function(){if(!r){r=!0;for(var t,o=0;t=e[o];++o)t();n()}},e=[$.onEvent(t,"webkitTransitionEnd",o),$.onEvent(t,"transitionend",o),$.onEvent(t,"oTransitionEnd",o)]},exports.setTransition=function(t,n,r){if(n){var o=t.style[vendor+"Transition"];exports.onTransitionEnd(t,function(){t.style[vendor+"Transition"]=o,r&&r()}),t.style[vendor+"Transition"]="-"+vendor+"-transform "+n}else t.style[vendor+"Transition"]="none"},exports.rotate=function(t,n,r,o){hasTransform?(exports.setTransition(t,r,o),t.style[vendor+"Transform"]="rotate("+n+")",o&&!r&&o()):o&&o()},exports.move=function(t,n,r,o,e){hasTransform?(exports.setTransition(t,o,e),t.style[vendor+"Transform"]=translateStart+n+"px,"+r+"px"+translateEnd,e&&!o&&e()):e&&e()},exports.hasTransform=hasTransform;'),jsio.setCachedSrc("modules/devkit-core/modules/squill/Canvas.js",'jsio("from util.browser import $"),jsio("import .Widget");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_Canvas=__class__,Canvas=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_Canvas(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(t){this._css="cnvs",this._type="canvas",this.init=function(i){i=merge(i,{tag:"canvas"}),this._isEnabled=i.isEnabled,t(this,"init",[i])},this.create=function(){t(this,"create",arguments)},this.buildWidget=function(){var t=this._el;t.width=this._opts.width,t.height=this._opts.height,this._opts.color&&(t.style.backgroundColor=this._opts.color),this.initMouseEvents(t),this.initKeyEvents(t)}});'),jsio.setCachedSrc("modules/devkit-core/modules/squill/CheckBox.js",'jsio("import .Widget"),jsio("from util.browser import $");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_CheckBox=__class__,CheckBox=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_CheckBox(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(){this._css="checkbox",this._def={tag:"label",children:[{id:"checkbox",tag:"input",attrs:{type:"checkbox"}},{tag:"span",id:"label",text:""}]},this.buildWidget=function(){this.setLabel(this._opts.label||""),this._opts.name&&this.setName(this._opts.name),this._opts.value&&this.setValue(this._opts.value),this.initMouseEvents(this.checkbox),$.onEvent(this.checkbox,"change",this,"_onCheck"),this._opts.__result&&this._opts.__result.addSubscription(this,"Select",this._opts.id)},this._onCheck=function(){this.publish("Check",this.isChecked()),this.emit("change",this.isChecked())},this.setLabel=function(t){$.setText(this.label,t)},this.setName=function(t){this.checkbox.name=t},this.setData=this.setValue=function(t){this.checkbox.checked=!!t},this.isChecked=function(){return this.checkbox.checked},this.setChecked=function(t){this.checkbox.checked=t},this.getValue=function(){return this.isChecked()?this.checkbox.value:null}});'),jsio.setCachedSrc("modules/devkit-core/modules/squill/Menu.js",'function trapIframes(){_trappedFrames.length&&untrapIframes(),_trappedFrames=Array.prototype.map.call(document.getElementsByTagName("iframe"),function(e){var t={el:e,set:e.style.pointerEvents};return e.style.pointerEvents="none",t})}function untrapIframes(){_trappedFrames.forEach(function(e){e.el.style.pointerEvents=e.set})}jsio("import lib.PubSub"),jsio("import .Widget"),jsio("import .Delegate"),jsio("from util.browser import $");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_Menu=__class__,Menu=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_Menu(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(){this._css="menu",this._def={children:[{id:"container"}]},this.delegate=new Delegate(function(e){e.call=function(e){var t=e.controller.delegate;t.call.apply(t,[e.controller].concat(Array.prototype.slice.call(arguments,1)))}}),this.getContainer=function(){return this.container},this.onBeforeShow=function(){},this.onShow=function(){},this.onBeforeHide=function(){},this.onHide=function(){},this.toggle=function(){this._isShowing?this.hide():this.show()},this.show=function(){this._isShowing=!0;var e=this._el,t=bind(this,function(t){for(var n=t.target;n;){if(n==e)return!0;if(/squill-checkbox/.test(n.className))return!1;n=n.parentNode}return t.preventDefault&&t.preventDefault(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0}),n=bind(this,function(e){t(e)&&(this.hide(),untrapIframes(),document.body.removeEventListener("mousedown",t,!0),document.body.removeEventListener("mouseup",t,!0),document.body.removeEventListener("click",n,!0))});trapIframes(),document.body.addEventListener("mousedown",t,!0),document.body.addEventListener("mouseup",t,!0),document.body.addEventListener("click",n,!0),$.show(e),this.emit("open"),Menu.emit("open",this)},this.hide=function(){this._isShowing=!1,$.hide(this._el),this.emit("close"),Menu.emit("close",this)}}),subs=new lib.PubSub;Menu.emit=bind(subs,"emit"),Menu.on=bind(subs,"on"),Menu.removeListener=bind(subs,"removeListener");var _trappedFrames=[];'),jsio.setCachedSrc("modules/devkit-core/modules/squill/Slider.js",'jsio("from util.browser import $"),jsio("import .Widget");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_Slider=__class__,Slider=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_Slider(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(t){this._css="rng",this._type="range",this.init=function(i){this._width=i.width||100,this._padding=12,this._hover=!1,this._fillColor=i.fillColor||"#000000",this._lineColor=i.lineColor||"#FFFFFF",this._def={children:[{id:i.id+"Canvas",tag:"canvas",attrs:{width:this._width,height:2*this._padding}}]},t(this,"init",[i])},this._render=function(){var t=this._width,i=this._padding,s=this._ctx;s.clearRect(0,0,t,2*i),s.lineCap="round",s.beginPath(),s.arc(i+2,i,2,.5*Math.PI,1.5*Math.PI,!1),s.arc(t-i-2,i,2,1.5*Math.PI,.5*Math.PI,!1),s.closePath(),s.lineWidth=1,s.strokeStyle=this._lineColor,s.stroke(),s.fillStyle=this._fillColor,s.fill(),s.save(),this._hover&&(s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=10,s.shadowColor="#0099FF"),t=~~((t-2*i)*(this.value-this.min)/(this.max-this.min)),s.beginPath(),s.arc(i+t,i,5,0,2*Math.PI,!1),s.closePath(),i=s.createRadialGradient(i-1+t,i-1,0,i+t,i,4),i.addColorStop(0,"#FFFFFF"),i.addColorStop(1,"#707070"),s.fillStyle=i,s.fill(),s.restore()},this.buildWidget=function(){var t=this._el;canvas=t.firstChild,t.slider=this,$.onEvent(canvas,"mouseout",this,"_onMouseOut"),$.onEvent(canvas,"mousedown",this,"_onMouseDown"),$.onEvent(canvas,"mouseup",this,"_onMouseUp"),$.onEvent(canvas,"mousemove",this,"_onMouseMove"),this.min=this._opts.min||0,this.max=this._opts.max||100,this.step=this._opts.step||1,this.value=this._opts.value||0,this._mouseDown=!1,this._checkRange(),this._ctx=canvas.getContext("2d"),this._render()},this.setValue=function(t){this.value=t,this._render()},this._onChange=function(){this.publish("Change",this.value)},this._checkRange=function(){this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max)},this._checkMouse=function(t){var i=t.offsetX,s=t.offsetY,e=this._width,h=this._padding,o=this._hover;this._mouseDown?i>h&&s>h-5&&e-h>i&&h+5>s&&(t=(t.offsetX-h)/(e-2*h)*(this.max-this.min),this.value=t=this.min+Math.round(t/this.step)*this.step,this._checkRange(),this._render(),this._onChange()):(s>h-5&&h+5>s?(v=h+~~((e-2*h)*(this.value-this.min)/(this.max-this.min)),this._hover=i>v-5&&s<v+5):this._hover=!1,this._hover!==o&&this._render())},this._onMouseOut=function(){this._hover=this._mouseDown=!1,this._render()},this._onMouseDown=function(t){this._mouseDown=!0,this._checkMouse(t)},this._onMouseUp=function(){this._mouseDown=!1},this._onMouseMove=function(t){this._checkMouse(t)}});'),jsio.setCachedSrc("modules/devkit-core/modules/squill/Color.js",'jsio("from util.browser import $"),jsio("import .Widget"),jsio("import .jscolor.jscolor as jscolor");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_Color=__class__,Color=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_Color(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(s){this._css="clr",this._type="text",this.init=function(t){t=merge(t,{tag:"input"}),this._isEnabled=t.isEnabled,s(this,"init",[t])},this.buildWidget=function(){var s=this._el;$.addClass(s,"squill-color"),s.min=this._opts.min||0,s.max=this._opts.max||100,s.step=this._opts.step||1,s.value=this._opts.value||0,s.onchange=bind(this,this._onChange),jscolor.bind(s)},this.setValue=function(s){s&&("#"!==s[0]&&(s="#"+s),this._el.style.backgroundColor=s,s=s.substr(1,6)),this._el.value=s},this.getValue=function(){return this._el.value},this._onChange=function(){this.publish("Change",this._el.value)}});'),jsio.setCachedSrc("modules/devkit-core/modules/squill/VerticalCenter.js",'jsio("import .Widget"),jsio("from util.browser import $");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_VerticalCenter=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_VerticalCenter(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(){this._def={tag:"table",style:merge({height:"100%",width:"100%"},def.style),attrs:{cellpadding:0,cellspacing:0},children:[$({tag:"tbody",children:[$({tag:"tr",children:[$({id:"contentPane",tag:"td",attrs:{valign:"middle"},style:{verticalAlign:"middle"}})]})]})]},this.addElement=function(){this.contentPane.appendChild(el)}});'),jsio.setCachedSrc("modules/devkit-core/modules/squill/TreeList.js",'jsio("from util.browser import $"),jsio("import .Widget");var elementIDPrefix=0,home_weeby_projects_swarm_modules_devkit_core_modules_squill_TreeList=__class__,TreeList=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_TreeList(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(e){var t={key:"id",label:"title",wrapperId:"browser",contentId:"contentWrapper"};this.init=function(i){i=i||{},i=merge(i,t),this._initClasses(i),this._key=i.key,this._label=i.label,this._wrapperId=i.wrapperId,this._contentId=i.contentId,this._leaveWidth=i.leaveWidth||600,elementIDPrefix++,this._elementIDPrefix="menuItem"+elementIDPrefix+"_",i.dataSource?this.setDataSource(i.dataSource):this._dataSource=null,this._def={id:this._wrapperId,className:"browser",children:[{id:this._contentId,className:"contentWrapper",children:[]}]},this._root=null,this._itemByKey={},e(this,"init",arguments)},this._initClasses=function(e){this._classNames={nodeWrapper:e.nodeWrapper||"browserNodeWrapper",nodeWrapperHidden:e.nodeWrapperHidden||"browserNodeWrapperHidden",node:e.node||"browserNode",nodeChildren:e.nodeChildren||"children",nodeActive:e.nodeActive||"active",nodeActiveChild:e.nodeActiveChild||"browserNodeActiveChild"}},this._clearItem=function(e){var t,i,s,n;if(e.children)for(i=e.children;i.length;)this._clearItem(i.pop());if(e.parent){for(t=e.parent,i=t.children,s=0,n=i.length;n>s;s++)if(i[s]===e){i.splice(s,1);break}!i.length&&t.group&&($.remove(t.group.parentNode),$.remove(t.group),delete t.group)}$.remove(e.node),e.group&&$.remove(e.group)},this._createMenuId=function(e){var t=this._menuId;return e&&this._menuId++,this._elementIDPrefix+t},this._createGroup=function(e){var t=this._createMenuId(!0),e=$({parent:$({parent:$.id(this._contentId),id:t,className:e?this._classNames.nodeWrapper:this._classNames.nodeWrapperHidden}),className:this._classNames.node});return e.menuId=t,e},this._createItem=function(e,t){var i=this._createMenuId(!0);e.node=$({parent:t,id:i,tag:"a",text:e[this._label]}),$.onEvent(i,"click",this,"onClick",e)},this.buildWidget=function(){this._menuId=0,this._menuById=[],this._menuStack=[],this._menuActiveItem=!1,null!==this._dataSource&&this._dataSource.each(bind(this,this.onCreateItem))},this._removeFromStack=function(e){for(var t=this._menuStack,i=null;t.length&&t[t.length-1].depth>=e;)i=t.pop(),$.removeClass(i.node.id,this._classNames.nodeActive),$.removeClass(i.node.id,this._classNames.nodeActiveChild),i.group&&($.addClass(i.group.menuId,this._classNames.nodeWrapperHidden),$.removeClass(i.group.menuId,this._classNames.nodeWrapper));return i},this.applyNodeStyle=function(e){e.children&&e.children.length?$.addClass(e.node,this._classNames.nodeChildren):$.removeClass(e.node,this._classNames.nodeChildren),e===this._menuActiveItem?$.addClass(e.node,this._classNames.nodeActive):$.removeClass(e.node,this._classNames.nodeActive),void 0!==e.removeCustomClass&&e.removeCustomClass&&$.removeClass(e.node,e.removeCustomClass),void 0!==e.customClass&&e.customClass&&($.removeClass(e.node,e.customClass),$.addClass(e.node,e.customClass))},this._addToStack=function(e){if(this._menuStack.push(e),this.applyNodeStyle(e),e.children&&e.children.length){if(!e.group){var t,i,s;for(e.children.sort(),e.group=this._createGroup(!0),i=0,s=e.children.length;s>i;i++)t=e.children[i],this._createItem(t,e.group),this.publish("DisplayItem",t.data,t),this.applyNodeStyle(t)}$.addClass(e.group.menuId,this._classNames.nodeWrapper),$.removeClass(e.group.menuId,this._classNames.nodeWrapperHidden)}},this.onClick=function(e){var t=this._menuStack,i=null;this.publish("SelectItem",e.data,e),this._menuActiveItem&&(i=this._menuActiveItem,this._menuActiveItem=null,this.applyNodeStyle(i),i=null),t.length&&e.depth<=t[t.length-1].depth&&(i=this._removeFromStack(e.depth)),i!==e&&this._addToStack(e),this._menuActiveItem=e,this.applyNodeStyle(e),t.length&&(e=t.length,t[t.length-1].children&&t[t.length-1].children.length&&e++,$.id(this._contentId).style.width=200*e+this._leaveWidth+"px")},this.onUpdateItem=function(e,t){var i,s,n,r,a,h={title:e[this._label],toString:function(){return this.title}};if(this._itemByKey[t])this._itemByKey[t].node&&(this._itemByKey[t].node.innerHTML=e[this._label]);else{if(null===e.parent||-1===e.parent)null===this._root&&(this._rootGroup=this._createGroup(!0),this._createItem(h,this._rootGroup),this._root=h,h.data=e,h.depth=0,h.parent=null,this.publish("DisplayItem",h.data,h),this.applyNodeStyle(h));else{if(i=this._itemByKey[e.parent[this._key]])if(i.children||(i.children=[]),s=i.children,!this._menuActiveItem||this._menuActiveItem!==i&&this._menuActiveItem.parent!==i)s.push(h);else{for(r=0,a=s.length;a>r;r++)s[r].node&&($.remove(s[r].node),s[r].node=null);for(s.push(h),s.sort(),i.group||(i.group=this._createGroup(!0),$.id(this._contentId).style.width=200*(this._menuStack.length+1)+500+"px"),r=0,a=s.length;a>r;r++)n=s[r],this._createItem(n,i.group),this.publish("DisplayItem",n.data,n),this.applyNodeStyle(n)}h.depth=i.depth+1,h.parent=i}h.data=e,this._itemByKey[t]=h}},this.onCreateItem=function(e){this.onUpdateItem(e,e[this._key])},this.onRemoveItem=function(e,t){var i,s=this._itemByKey[t];s&&(s=1>=s.parent.children.length,i=e[this._dataSource.parentKey],this._removeFromStack(this._itemByKey[t].depth-1),this._clearItem(this._itemByKey[t]),this._menuActiveItem=!1,delete this._itemByKey[t],this.publish("UnSelectItem"),s&&i&&(s=this._itemByKey[i[this._dataSource.key]],this.publish("DisplayItem",s.data,s),this.applyNodeStyle(s)))},this.showItem=function(e){var t=this.getTreeNode(e);this.publish("DisplayItem",e,t),this.applyNodeStyle(t)},this.setDataSource=function(e){this._dataSource=e,this._dataSource.subscribe("Update",this,this.onUpdateItem),this._dataSource.subscribe("Remove",this,this.onRemoveItem)},this.getPathString=function(e){var t,i,s="",n=this._menuStack,e=e||" ";for(t=0,i=n.length;i>t;t++)""!==s&&(s+=e),s+=n[t].data[this._label];return s},this.getTreeNode=function(e){return this._itemByKey[e[this._dataSource.key]]}});'),jsio.setCachedSrc("modules/devkit-core/modules/squill/Graph.js",'jsio("from util.browser import $"),jsio("import .Widget"),jsio("import .hint as hint");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_Graph=__class__,Graph=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_Graph(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(t){this._css="cnvs",this._type="canvas",this.init=function(e){params=merge(e,{tag:"canvas"}),t(this,"init",arguments),this.setSettings(e.settings||{}),this._width=e.width||400,this._height=e.height||400,this._rectangles=[],this._data=!1,$.onEvent(this._el,"mousemove",this,this._onMouseMove),$.onEvent(this._el,"mouseout",this,this._onMouseOut)},this._onMouseMove=function(t){for(var e,i=this._rectangles,a=!1,n=i.length;n;)if(e=i[--n],t.offsetX>=e.x1&&t.offsetY>=e.y1&&t.offsetX<=e.x2&&t.offsetY<=e.y2){a=!0;break}a?hint.show(t.pageX+15,t.pageY+15,e.label):hint.hide()},this._onMouseOut=function(){hint.hide()},this.buildWidget=function(){var t=this._el;this.initMouseEvents(t),this.initKeyEvents(t)},this._renderBackground=function(t){var e=this._el,i=e.width,e=e.height;this._currentWidth=i,this._currentHeight=e,this._settings.fillColor?(t.fillStyle=this._settings.fillColor,t.fillRect(0,0,i,e)):t.clearRect(0,0,i,e)},this._calculateSegments=function(t,e){var i,a,n,l=this._settings,s=0,o=0,r=e.length;for(i=0;r>i;i++)for(item=e[i],o=Math.max(t.measureText(item.title).width,o),o>l.maxLabelSize&&(o=l.maxLabelSize),a=0,n=item.points.length;n>a;a++)s=Math.max(item.points[a],s);for(l=[.5,.25,.2,.125,.1],i=0,r=1;10<s/(l[i]*r);)i++,i>=l.length&&(i=0,r*=10);return s=Math.ceil(s/(l[i]*r)),{steps:s,step:l[i],max:s*l[i]*r,maxLabel:o+4,factor:r}},this._trimLabel=function(t,e,i){if(e.measureText(i).width>t.maxLabel){for(;e.measureText(i+"...").width>t.maxLabel;)i=i.substr(0,i.length-1);i+="..."}return i},this._renderHorizontalAxis=function(t,e,i){var a,n,l,s,o=this._settings,r=o.valueSpace,h=o.mainPadding,g=this._currentWidth-2*h-r,d=this._currentHeight-2*h-t.maxLabel,f=g/i.length;for(e.strokeStyle=o.barBackground,l=0;2>l;l++)n=r+h+.5+l*g,e.beginPath(),e.moveTo(n,h),e.lineTo(n,h+d),e.stroke();for(e.textAlign="right",e.textBaseline="top",l=0,s=i.length;s>l;l++)n=r+h+l*f,e.save(),e.rotate(-.5*Math.PI),a=this._trimLabel(t,e,i[l].title),e.fillStyle=this._settings.textColor,e.fillText(a,-(h+d+4),n),e.restore(),0===(1&l)&&(e.fillStyle=o.barBackground,e.fillRect(n,h,f,d));for(e.strokeStyle=this._settings.lineColor,e.fillStyle="#000000",i=0,l=d,s=0;l>=0;)a=(s*t.step).toString(10),n=a.indexOf("."),-1!==n&&(n=a.length-n-1,n>i&&(i=n)),l=Math.ceil(l-d/t.steps),s++;for(l=d,s=0;l>=0;){if(n=h+r,a=h+~~l+.5,e.beginPath(),e.moveTo(n,a),e.lineTo(n+g,a),e.stroke(),a=(s*t.step).toString(10),i&&-1===a.indexOf("."))for(a+=".",n=0;i>n;n++)a+="0";e.fillStyle=this._settings.textColor,e.fillText(a,r+h-2,h+l-8),l=Math.ceil(l-d/t.steps),s++}e.textAlign="left",a=o.mainLabel+" x"+t.factor,l=h,s=h+d/2+(e.measureText(a).width+o.itemSize)/2,e.save(),e.rotate(-.5*Math.PI),e.fillStyle=this._settings.textColor,e.fillText(a,-s-o.itemSize,l),e.restore(),s-=e.measureText(a).width,e.beginPath(),e.moveTo(l+7.5,s),e.lineTo(l+7.5,s+26),e.stroke(),e.beginPath(),e.moveTo(l+3.5,s+5.5),e.lineTo(l+7.5,s),e.lineTo(l+11.5,s+5.5),e.stroke()},this._renderVerticalBars=function(t,e,i){var a,n,l,s,o,r,h,g,d=this._settings,f=d.valueSpace,m=d.mainPadding,_=this._currentHeight-2*m-t.maxLabel,c=(this._currentWidth-2*m-f)/i.length,u=c-2*d.barPadding;for(e.globalAlpha=.9,o=0,r=i.length;r>o;o++)for(s=i[o],a=s.points,g=a.length,a=~~(u/g),h=0;g>h;h++)n=s.points[h]/t.max*_,l=f+m+o*c+d.barPadding,barY=m+_-n,e.fillStyle=d.dataColors[h%d.dataColors.length],e.fillRect(l+h*a,barY,a-1,n);e.globalAlpha=1},this._renderVerticalPoints=function(t,e,i){var a,n,l,s,o,r,h,g,d=this._settings,f=-1!==d.types.indexOf("points"),m=-1!==d.types.indexOf("lines"),_=-1!==d.types.indexOf("area"),c=d.valueSpace,u=d.mainPadding,x=this._currentHeight-2*u-t.maxLabel,p=(this._currentWidth-2*u-c)/i.length,b=p-2*d.barPadding,S=[];for(pointYLast=null,r=0,h=i.length;h>r;r++){for(o=i[r],l=o.points,s=null!==pointYLast,null===pointYLast&&(pointYLast=[]),a=~~(c+u+r*p+d.barPadding+b/2),g=0,l=l.length;l>g;g++)n=~~(u+x-o.points[g]/t.max*x),S[g]||(S[g]=[]),S[g].push({x:a,y:n}),e.strokeStyle=d.dataColors[g%d.dataColors.length],f&&e.strokeRect(a-4.5,n-4.5,10,10),s&&m&&(e.beginPath(),e.moveTo(pointXLast,pointYLast[g]),e.lineTo(a,n),e.stroke()),pointYLast[g]=n;pointXLast=a}if(_){for(e.globalAlpha=.05,r=0,h=S.length;h>r;r++){for(e.beginPath(),e.lineTo(S[r][0].x,u+x),g=0,l=S[r].length;l>g;g++)t=S[r][g],e.lineTo(t.x,t.y);e.lineTo(S[r][l-1].x,u+x),e.closePath(),e.fillStyle=d.dataColors[r%d.dataColors.length],e.fill()}e.globalAlpha=1}},this._renderVerticalAxis=function(t,e,i){var a,n,l,s,o=this._settings,r=o.mainPadding,h=this._currentWidth-2*r-t.maxLabel,g=this._currentHeight-2*r-o.valueSpace,d=g/i.length;for(e.strokeStyle=o.barBackground,l=0;2>l;l++)n=r+.5+l*g,e.beginPath(),e.moveTo(r+t.maxLabel,n),e.lineTo(r+t.maxLabel+h,n),e.stroke();for(e.textAlign="right",e.textBaseline="top",l=0,s=i.length;s>l;l++)n=r+l*d,a=this._trimLabel(t,e,i[l].title),e.fillStyle=this._settings.textColor,e.fillText(a,r+t.maxLabel-4,n+4),this._rectangles.push({x1:r+t.maxLabel-4-e.measureText(a).width,y1:n+4,x2:r+t.maxLabel-4,y2:n+20,label:i[l].title}),0===(1&l)&&(e.fillStyle=o.barBackground,e.fillRect(r+t.maxLabel,n,h,d));for(e.textAlign="center",e.strokeStyle=this._settings.lineColor,e.fillStyle="#000000",s=l=i=0;h>=l;)a=(s*t.step).toString(10),n=a.indexOf("."),-1!==n&&(n=a.length-n-1,n>i&&(i=n)),l=Math.floor(l+h/t.steps),s++;for(s=l=0;h>=l;){if(a=r+t.maxLabel+~~l+.5,n=r,e.beginPath(),e.moveTo(a,n),e.lineTo(a,n+g),e.stroke(),a=(s*t.step).toString(10),i&&-1===a.indexOf("."))for(a+=".",n=0;i>n;n++)a+="0";e.fillStyle=this._settings.textColor,e.fillText(a,r+t.maxLabel+l,r+g+2),l=Math.floor(l+h/t.steps),s++}e.textAlign="left",a=o.mainLabel+" x"+t.factor,l=r+h/2-(e.measureText(a).width+o.itemSize)/2+t.maxLabel,s=r+g+18,e.fillStyle=this._settings.textColor,e.fillText(a,l,s),l+=e.measureText(a).width,e.beginPath(),e.moveTo(l+4,s+7.5),e.lineTo(l+o.itemSize,s+7.5),e.stroke(),e.beginPath(),e.moveTo(l+o.itemSize-4,s+3.5),e.lineTo(l+o.itemSize,s+7.5),e.lineTo(l+o.itemSize-4,s+11.5),e.stroke()},this._renderHorizontalBars=function(t,e,i){var a,n,l,s,o,r,h,g,d,f=this._settings,m=f.mainPadding,_=this._currentWidth-2*m-t.maxLabel,c=(this._currentHeight-2*m-f.valueSpace)/i.length,u=c-2*f.barPadding;for(e.globalAlpha=.9,r=0,h=i.length;h>r;r++)for(o=i[r],a=o.points,d=a.length,n=~~(u/d),g=0;d>g;g++)a=~~(o.points[g]/t.max*_),l=t.maxLabel+m,s=~~m+r*c+f.barPadding,e.fillStyle=f.dataColors[g%f.dataColors.length],e.fillRect(l,s+g*n,a,n-1);e.globalAlpha=1},this._renderHorizontalPoints=function(t,e,i){var a,n,l,s,o,r,h,g,d=this._settings,f=-1!==d.types.indexOf("points"),m=-1!==d.types.indexOf("lines"),_=-1!==d.types.indexOf("area"),c=d.mainPadding,u=this._currentWidth-2*c-t.maxLabel,x=(this._currentHeight-2*c-d.valueSpace)/i.length,p=x-2*d.barPadding,b=[];for(pointXLast=null,r=0,h=i.length;h>r;r++){for(o=i[r],l=o.points,s=null!==pointXLast,null===pointXLast&&(pointXLast=[]),n=~~(c+r*x+d.barPadding+p/2),g=0,l=l.length;l>g;g++)a=~~(c+o.points[g]/t.max*u+t.maxLabel),b[g]||(b[g]=[]),b[g].push({x:a,y:n}),e.strokeStyle=d.dataColors[g%d.dataColors.length],f&&e.strokeRect(a-4.5,n-4.5,10,10),s&&m&&(e.beginPath(),e.moveTo(pointXLast[g],pointYLast),e.lineTo(a,n),e.stroke()),pointXLast[g]=a;pointYLast=n}if(_){for(e.globalAlpha=.05,r=0,h=b.length;h>r;r++){for(e.beginPath(),e.moveTo(c+t.maxLabel,b[r][0].y),g=0,l=b[r].length;l>g;g++)i=b[r][g],e.lineTo(i.x,i.y);e.lineTo(c+t.maxLabel,b[r][l-1].y),e.closePath(),e.fillStyle=d.dataColors[r%d.dataColors.length],e.fill()}e.globalAlpha=1}},this.setData=function(t){var e=this._el,i=e.getContext("2d"),a=this._settings,n=a.types,l=function(){},s=function(){},o=function(){};switch(a.orientation){case"horizontal":e.width=this._width,e.height=t.length*a.itemSize+this._settings.valueSpace,l=bind(this,this._renderVerticalAxis),s=bind(this,this._renderHorizontalBars),o=bind(this,this._renderHorizontalPoints);break;case"vertical":e.width=t.length*a.itemSize+this._settings.valueSpace,e.height=this._height,l=bind(this,this._renderHorizontalAxis),s=bind(this,this._renderVerticalBars),o=bind(this,this._renderVerticalPoints)}i.font=a.font,this._renderBackground(i),t.length&&(e=this._calculateSegments(i,t),l(e,i,t),(-1!==n.indexOf("points")||-1!==n.indexOf("area")||-1!==n.indexOf("lines"))&&o(e,i,t),-1!==n.indexOf("bars")&&s(e,i,t)),this._data=t},this.setSettings=function(t){t.mainLabel=t.mainLabel||"",t.textColor=t.textColor||"#000000",t.fillColor=void 0===t.fillColor?"#FFFFFF":t.fillColor,t.lineColor=t.lineColor||"#000000",t.orientation=t.oriantation||"horizontal",t.types=t.types||"bars,lines,area,points",t.barPadding=t.barPadding||2,t.barBackground=t.barBackground||"#F8F8F8",t.mainPadding=t.mainPadding||10,t.valueSpace=t.valueSpace||40,t.dataColors=t.dataColors||["#DD0000","#00DD00","#0000DD"],t.font=t.font||"13px Verdana",t.maxLabelSize=t.maxLabelSize||200,t.itemSize=t.itemSize||50,this._settings=t},this.update=function(){this._data&&this.setData(this._data)}});'),
jsio.setCachedSrc("modules/devkit-core/modules/squill/SelectBox.js",'jsio("import .Widget"),jsio("import squill.models.DataSource as DataSource"),jsio("from util.browser import $");var home_weeby_projects_swarm_modules_devkit_core_modules_squill_SelectBox=__class__,SelectBox=exports=home_weeby_projects_swarm_modules_devkit_core_modules_squill_SelectBox(function(){return this.init&&this.init.apply(this,arguments)},Widget,function(t){this._css="select",this._def={tag:"label",style:{display:"inline-block"},children:[{id:"_select",tag:"select"}]},this.init=function(e){e=merge(e,{renderer:bind(this,"defaultRenderer")}),this._items={},e.dataSource&&this.setDataSource(e.dataSource),t(this,"init",arguments)},this.buildWidget=function(){if(this._opts.name&&this.setName(this._opts.name),this._dataSource||this.setDataSource(new DataSource),this._opts.items){var t=1;this._dataSource.add(this._opts.items.map(function(e){return"object"!=typeof e?{id:"string"==typeof e?e:t++,value:e}:(e.id||(e.id="value"in e?e.value:"title"in e?e.title:t++),e)}))}"value"in this._opts&&this.setValue(this._opts.value),this.initMouseEvents(this._el),$.onEvent(this._select,"change",this,"_onSelect")},this._onSelect=function(){var t=this._dataSource.get(this.getValue());t&&this.publish("change",t)},this.getDataSource=function(){return this._dataSource},this.setDataSource=function(t){this._dataSource&&(this._dataSource.unsubscribe("Update",this),this._dataSource.unsubscribe("Remove",this)),this._dataSource=t,this._dataSource.subscribe("Update",this,"onUpdateItem"),this._dataSource.subscribe("Remove",this,"onRemoveItem"),this._dataSource.forEach(function(t,e){this.onUpdateItem(e,t)},this)},this.defaultRenderer=function(t){var e=this._dataSource.getKey();return t.displayName||t.label||t.title||t.text||t[e]},this.onUpdateItem=function(t,e){var i=this._items[t],s=this._dataSource.getKey();if("string"==typeof e){var a={};a[s]=e,e=a}i||(i=this._items[t]=$.create({tag:"option"}),$.insertBefore(this._select,i)),i.setAttribute("value",e[s]),a=this._opts.renderer,i.innerText="string"==typeof a?e[a]:a(e),i.value=e[s]},this.onRemoveItem=function(t){var e=this._items[t],i=this.getValue();e&&($.remove(e),delete this._items[t]),this.getValue()!=i&&this._onSelect()},this.setName=function(t){this._select.name=t},this.setValue=function(t){this._select.value=t},this.getValue=function(){return this._select.value}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/dom/animate.js",'jsio("import ui.backend.canvas.animate as canvasAnimate"),exports=function(a){return"_node"in a?a.getAnimation():canvasAnimate(a)},exports.linear=canvasAnimate.linear,exports.easeIn=canvasAnimate.easeIn,exports.easeInOut=canvasAnimate.easeInOut,exports.easeOut=canvasAnimate.easeOut;'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/dom/ImageView.js",'jsio("import ui.View as View"),jsio("import ui.resource.Image as Image");var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_dom_ImageView=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_dom_ImageView(function(){return this.init&&this.init.apply(this,arguments)},View,function(t){this.init=function(i){i=merge(i,{image:null,autoSize:!1}),t(this,"init",[i]);var e=this.__view._node.style;e.webkitBackgroundClip=e.backgroundClip="content-box",i.image&&this.setImage(i.image,i)},this.updateOpts=function(i){return i=t(this,"updateOpts",arguments),"autoSize"in i&&(this._autoSize=!!i.autoSize),i.image?this.setImage(i.image):this.needsReflow(),i},this.autoSize=function(){this._img&&(this.style.width=this._img.getWidth(),this.style.height=this._img.getHeight(),this.style.fixedAspectRatio&&this.style.updateAspectRatio())},this._imgCache={},this.getImage=function(){return this._img},this.setImage=function(t,i){if("string"==typeof t){var e=t;(t=this._imgCache[e])||(this._imgCache[e]=t=new Image({url:e}))}t!=this._img&&(this._img&&this._img.unsubscribe("changeBounds",this),(this._img=t)?(t.subscribe("changeBounds",this,"updateImage"),(this._autoSize=i&&"autoSize"in i?i.autoSize:this._autoSize)&&(0<t.getWidth()&&0<t.getHeight()?this.autoSize():t.doOnLoad(this,"autoSize")),t.doOnLoad(this,"updateImage")):this.updateImage())},this.reflow=function(){this.updateImage()},this._getBackgroundNode=function(t){this._bgNodes||(this._bgNodes={});var i=this._bgNodes[t];return i||(this._bgNodes[t]=i=document.createElement("div"),i.style.cssText="-webkit-background-clip:content-box;background-clip:content-box;z-index:-1;position:absolute;top:0;left:0;bottom:0;right:0;background-image:"+t+";",this.__view._node.appendChild(i)),i!=this._currentBgNode&&(this._currentBgNode&&(this._currentBgNode.style.visibility="hidden"),this._currentBgNode=i,i.style.visibility="visible"),i},this._canvasRender=function(t){var i=this._img.getSource();t.drawImage(i,0,0,i.width,i.height,0,0,this.style.width,this.style.height)},this.updateImage=function(){var t=this._img,i=this._opts["dom:multipleImageNodes"];if(t&&t.getSource()instanceof HTMLCanvasElement)this.render=this._canvasRender,this.needsRepaint();else if(t&&t.isReady()){var e=\'url("\'+t.getSource().src+\'")\',s=t.getSourceWidth(),g=t.getSourceHeight(),n=this.style.width/t.getWidth(),o=this.style.height/t.getHeight();i?i=this._getBackgroundNode(e).style:(i=this.__view._node.style,this._cacheImageURL!=e&&(this._cacheImageURL=e,i.backgroundImage=e)),t=t.getBounds(),i.padding=o*t.marginTop+"px "+n*t.marginRight+"px "+o*t.marginBottom+"px "+n*t.marginLeft+"px",i.backgroundPositionX=n*(-t.x+t.marginLeft)+"px",i.backgroundPositionY=o*(-t.y+t.marginTop)+"px",i.backgroundSize=s*n+"px "+g*o+"px"}else i&&this._currentBgNode?this._currentBgNode.style.visibility="hidden":this.__view._node.style.backgroundImage="none"},this.getOrigWidth=this.getOrigW=function(){return this._img.getOrigW()},this.getOrigHeight=this.getOrigH=function(){return this._img.getOrigH()},this.doOnLoad=function(){return 1==arguments.length?this._img.doOnLoad(this,arguments[0]):this._img.doOnLoad.apply(this._img,arguments),this}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/dom/StackView.js",'jsio("import ui.View");var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_dom_StackView=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_dom_StackView(function(){return this.init&&this.init.apply(this,arguments)},View,function(i){this.init=function(){i(this,"init",arguments),this.stack=[]},this.getCurrentView=function(){return this.stack.length?this.stack[this.stack.length-1]:null},this.push=function(i,t){!this.stack[0]&&!1!==t&&(t=!0);var e=this.getCurrentView();return e&&this._hide(e,t),i.style.width=this.style.width,i.style.height=this.style.height,this.stack.push(i),this._show(i,t),i},this._hide=function(i,t,e){i.publish("ViewWillDisappear"),t?(this.removeSubview(i),i.publish("ViewDidDisappear")):(t=new View({parent:i,zIndex:1e5}),i.then({x:(e?1:-1)*i.style.width}).then(bind(this,"removeSubview",i)).then(bind(i,"publish","ViewDidDisappear")).then(bind(t,"removeFromSuperview")))},this._show=function(i,t,e){i.publish("ViewWillAppear"),i.style.visible=!0,t?(this.addSubview(i),i.style.x=0,i.publish("ViewDidAppear")):(i.style.x=(e?-1:1)*this.style.width,this.addSubview(i),i.then({x:0}).then(bind(i,"publish","ViewDidAppear")))},this.pop=function(i){if(!this.stack.length)return!1;var t=this.stack.pop();return this._hide(t,i,!0),this.stack.length&&this._show(this.stack[this.stack.length-1],i,!0),t},this.popAll=function(i){for(;this.stack[1];)this.pop(i)}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/dom/TextView.js",'jsio("import ui.View as View"),jsio("import device");var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_dom_TextView=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_dom_TextView(function(){return this.init&&this.init.apply(this,arguments)},View,function(t){this._displayStyle="table";var i={wrap:!1,autoSize:!1,autoFontSize:!0,verticalPadding:0,horizontalPadding:0,lineHeight:1.2,color:"#000000",fontFamily:device.defaultFontFamily,fontWeight:"",size:128,lineWidth:2,strokeColor:"",shadowColor:"",verticalAlign:"middle",horizontalAlign:"center",backgroundColor:""};this.init=function(e){var o=this._textNode=document.createElement("div");o.className="view text",t(this,"init",[merge(e,i)]),this.__view.getElement().appendChild(o)},this.updateOpts=function(i){var i=t(this,"updateOpts",arguments),e=this.__view.getElement().style;i.horizontalPadding&&(isArray(i.horizontalPadding)?(e.paddingLeft=i.horizontalPadding[0]+"px",e.paddingRight=i.horizontalPadding[0]+"px"):(e.paddingLeft=i.horizontalPadding+"px",e.paddingRight=i.horizontalPadding+"px")),i.verticalPadding&&(isArray(i.verticalPadding)?(e.paddingTop=i.verticalPadding[0]+"px",e.paddingBottom=i.verticalPadding[0]+"px"):(e.paddingTop=i.verticalPadding+"px",e.paddingBottom=i.verticalPadding+"px")),i.color&&(e.color=i.color),i.size&&(this._fontSize=i.size),i.fontFamily&&(e.fontFamily=i.fontFamily),i.horizontalAlign&&(e.textAlign=i.horizontalAlign),i.verticalAlign&&(this._verticalAlign=i.verticalAlign),i.fontWeight&&(e.fontWeight=i.fontWeight),i.shadowColor&&(e.textShadow=i.shadowColor+" 2px 2px 1px"),i.lineHeight&&(e.lineHeight=i.lineHeight*i.size+"px"),i.strokeColor&&this._updateStroke(),i.wrap||(e.whiteSpace="nowrap"),this.setText(i.text||"")},this.getText=function(){return this._text},this.reflow=function(){var t=this._opts,i=this._textNode;if(i){if(t.autoSize){var e=i.scrollHeight;(!this.style.height||this.style.height<e)&&(this.style.height=e)}if(t.autoFontSize){var o,e=o=this._fontSize;if(!t.wrap){var s=i.scrollWidth-this.style.width;s>1&&(o-=e/=2,i.style.fontSize=o+"px")}s=i.scrollHeight-this.style.height,s>1&&(o-=e/2,i.style.fontSize=o+"px"),this._computedFontSize=o,i.style.lineHeight=t.lineHeight*o+"px"}this._computeVerticalAlign(),this._strokeNode&&(this._strokeNode.style.width=this._fillNode.offsetWidth+"px")}},this.setText=function(t){return"function"==typeof t?t(this):(t=void 0!=t?t.toString():"",void(this._text!=t&&(this._text=t,this._strokeNode?(this._fillNode.innerText=t,this._strokeNode.innerText=t):this._textNode.innerText=t,this._textNode.style.fontSize=this._fontSize+"px",this.needsReflow())))},this._computeVerticalAlign=function(){var t=this._opts,i=this._computedFontSize||this._fontSize,e=Math.round(this._textNode.offsetHeight/(t.lineHeight*i)),o=this.style.padding,s=o.top;"middle"==t.verticalAlign&&(s+=(this.style.height-o.top-o.bottom-(e>1?t.lineHeight*e:1)*i)/2),this._textNode.style.marginTop=s+"px"},this._updateStroke=function(){var t=this._opts;t.strokeColor&&t.strokeWidth?(this._strokeNode||(this._textNode.innerHTML=\'<span style="position:relative"><span></span><span style="position:absolute;left:0;top:1px;right:0px;z-index:-1"></span></span>\',this._fillNode=this._textNode.childNodes[0].childNodes[0],this._strokeNode=this._textNode.childNodes[0].childNodes[1]),this._strokeNode.style.webkitTextStroke=1*t.strokeWidth+"px "+t.strokeColor,this.needsReflow()):this._strokeNode&&(this._fillNode=this._strokeNode=null,this.setText(this._text))}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/dom/ViewBacking.js",'function CHECK_TRANSLATE3D(){var t,i=document.createElement("p"),e={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(i,null);for(var s in e)void 0!==i.style[s]&&(i.style[s]="translate3d(1px,1px,1px)",t=window.getComputedStyle(i).getPropertyValue(e[s]),TRANSFORM_PREFIX=s);return document.body.removeChild(i),void 0!==t&&0<t.length&&"none"!==t}jsio("import device"),jsio("import event.Callback as Callback"),jsio("import animate"),jsio("import event.input.InputEvent as InputEvent"),jsio("import math.geom.Point as Point"),jsio("from util.browser import $"),jsio("import ..BaseBacking");var Canvas=device.get("Canvas"),AVOID_CSS_ANIM=device.isAndroid,TRANSFORM_PREFIX="transform",SUPPORTS_TRANSLATE3D=!1,home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_dom_ViewBacking=__class__,ViewBacking=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_dom_ViewBacking(function(){return this.init&&this.init.apply(this,arguments)},BaseBacking,function(){var t={};"x y r width height visible anchorX anchorY offsetX offsetY opacity scale zIndex scrollLeft scrollTop flipX flipY".split(" ").forEach(function(i){t[i]=!0,this.__defineGetter__(i,function(){return i in this._computed?this._computed[i]:parseInt(this._node.style[i])}),this.__defineSetter__(i,function(t){var e={};return e[i]=t,this._setProps(e),t})},this),this.init=function(t,i){this._view=t,this._subviews=[],this._noCanvas=i["dom:noCanvas"];var e=this._node=document.createElement(i["dom:elementType"]||"div");e._view=t,e.addEventListener("webkitTransitionEnd",bind(this,"_transitionEnd"),!1),e.className="view",i["dom:className"]&&(e.className+=" "+i["dom:className"]);var s="fontSize:1px;position:absolute;top:0px;left:0px;-webkit-transform-origin:0px 0px;";device.isAndroid||(s+="-webkit-backface-visibility:hidden;");var n=e.style;n.cssText=s,this.position(0,0);var a,s=i["dom:styles"];for(a in s)n[a]=s[a];this._computed={x:0,y:0,r:0,width:void 0,height:void 0,anchorX:0,anchorY:0,offsetX:0,offsetY:0,opacity:1,visible:!0,zIndex:0,scale:1},this._view.getAnimation=function(){return this.__view},this._animating=!1,this._animationQueue=[],this._animationCallback=null,DEBUG&&e.setAttribute("TAG:",t.getTag())},this.getElement=function(){return this._node};var i=9e5;this.addSubview=function(t){var e=t.__view,s=e._node,n=s.parentNode&&s.parentNode._view;return n==this._view?!1:(n&&n.__view.removeSubview(t),t=this._subviews.length,this._subviews[t]=e,this._node.appendChild(s),e._setAddedAt(++i),t&&e.__sortKey<this._subviews[t-1].__sortKey&&(this._needsSort=!0),!0)},this.removeSubview=function(t){var i=this._subviews.indexOf(t.__view);return-1!=i?(this._subviews.splice(i,1),this._node.removeChild(t.__view._node),!0):!1},this.getSuperview=function(){var t=this._node.parentNode;return t!=document.body&&t?t._view:null},this.getSubviews=function(){this._needsSort&&(this._needsSort=!1,this._subviews.sort());for(var t=[],i=this._subviews.length,e=0;i>e;++e)t[e]=this._subviews[e]._view;return t},this.wrapTick=function(t,i){this._view.tick&&this._view.tick(t,i);for(var e,s=0;e=this._subviews[s];++s)e.wrapTick(t,i)},this.wrapRender=function(t,i){if(this.visible){this._needsSort&&(this._needsSort=!1,this._subviews.sort());var e=this._computed.width,s=this._computed.height;if(!(0>e||0>s))try{var n=this._view.render;n&&!n.isFake&&this._render(n,e,s,i),this._renderSubviews(t,i)}catch(a){logger.ERROR&&console.error("ERROR",".backend.dom.ViewBacking",this,a.message,a.stack)}}},this._render=function(t,i,e,s){if(this._noCanvas)t.call(this._view,null,s);else{this._canvas||(this._canvas=new Canvas,this._node.insertBefore(this._canvas,this._node.firstChild),this.ctx=this._canvas.getContext("2d"));var n=this._view._needsRepaint;((0|i)!=this._canvas.width||(0|e)!=this._canvas.height)&&(n=!0,this._canvas.width=i,this._canvas.height=e),n&&(this._view._needsRepaint=!1,this._canvas.style.display="none",this.ctx.clear(),this.ctx.save(),t.call(this._view,this.ctx,s),this.ctx.restore(),this._canvas.style.display="block")}},this._renderSubviews=function(t,i){for(var e,s=0,n=this._subviews;e=n[s++];)e.wrapRender(t,i)},this.localizePoint=function(t){var i=this._computed;return t.x-=i.x+i.anchorX+i.offsetX,t.y-=i.y+i.anchorY+i.offsetY,i.r&&t.rotate(-i.r),t.scale(1/i.scale),t.x+=i.anchorX,t.y+=i.anchorY,t},this.copy=function(){return merge({},this._computed)},this.update=function(t){this._setProps(t)},this.position=function(t,i){var e=this._node.style;if(SUPPORTS_TRANSLATE3D){var s="translate3d("+t+"px,"+i+"px,0)";e[TRANSFORM_PREFIX]=""!=e[TRANSFORM_PREFIX]&&e[TRANSFORM_PREFIX]!=s?e[TRANSFORM_PREFIX]+s:s}else e.left=t+"px",e.top=i+"px"},this._updateOrigin=function(){this._node.style.webkitTransformOrigin=(this._computed.anchorX||0)+"px "+(this._computed.anchorY||0)+"px"},this._setProps=function(i,e){var s,n=!1,a=this._node.style,o=0,r=!1,h={};for(s in i){var c=i[s];switch(("dx"==s||"dy"==s)&&(s=s.substr(1),c=this._computed[s]+c),s){case"anchorX":case"anchorY":this._computed[s]=c,this._updateOrigin();break;case"clip":this._computed.clip=c,a.overflow=c?"hidden":"visible";break;case"zIndex":this._computed.zIndex!=c&&(this._computed.zIndex=c,a.zIndex=c,this._onZIndex(c));break;case"offsetX":case"offsetY":case"x":case"y":case"r":case"scale":this._computed[s]!=c&&(h[s]=this._computed[s],this._computed[s]=c,n=!0);break;default:this._computed[s]!=c&&(++o,this._computed[s]=c,"width"==s||"height"==s?(a[s]=c+"px",r=!0):"visible"==s?a.display=c?this._displayStyle||"block":"none":"opacity"==s?a[s]=c:(a[s]=c,t[s]||(this[s]=c)))}}if(n){++o;var _=this._computed,n=(this._center?-_.width/2|0:0)+_.x+_.offsetX;if(s=(this._center?-_.height/2|0:0)+_.y+_.offsetY,AVOID_CSS_ANIM){var u={scale:h.scale||_.scale,r:h.r||_.r};!e||u.scale==_.scale&&u.r==_.r?(u.scale!=_.scale||u.r!=_.r)&&(a.WebkitTransform="scale("+(_.flipX?-1*_.scale:_.scale)+","+(_.flipY?-1*_.scale:_.scale)+") rotate("+_.r+"rad)"):animate(u).now({scale:_.scale,r:_.r},e.duration,e.easing,bind(this,function(){a.WebkitTransform="scale("+(_.flipX?-1*u.scale:u.scale)+","+(_.flipY?-1*u.scale:u.scale)+") rotate("+u.r+"rad)"})).then(bind(this,function(){a.WebkitTransform="scale("+(_.flipX?-1*u.scale:u.scale)+","+(_.flipY?-1*u.scale:u.scale)+") rotate("+_.r+"rad)"})),this.position(n,s)}else h=new WebKitCSSMatrix,h=h.translate(n,s),h=h.rotate(180*_.r/3.14159),h=h.scale(_.scale),(_.flipX||_.flipY)&&(h=h.translate(_.flipX?-_.width:0,_.flipY?_.height/2:0),h=h.scale(_.flipX?-1:1,_.flipY?-1:1),h=h.translate(_.flipX?_.width:0,_.flipY?-_.height/2:0)),h=h.rotate(0,360,0),a.WebkitTransform=h}return r&&this._view.needsReflow(),o},this._sortIndex="00000000",this._onZIndex=function(t){t=~~t,-99999999>t&&(t=this._zIndex=-99999999),t>99999999&&(t=this._zIndex=99999999),0>t?(t*=-1,this._sortIndex="-"+"00000000".substring(0,8-(""+t).length)+t):this._sortIndex="00000000".substring(0,8-(""+t).length)+t,this._setSortKey()},this._setAddedAt=function(t){this._addedAt=t,this._setSortKey()},this._setSortKey=function(){this.__sortKey=this._sortIndex+this._addedAt},this.toString=function(){return this.__sortKey},this._transitionEnd=function(t){$.stopEvent(t),this.transitionCallback.fired()||(this.transitionCallback.fire(),this.transitionCallback.reset(),t?t.cancelBubble=!0:this._transitionEndTimeout&&(this._transitionEndTimeout=null),this._node.style.webkitTransition="none",this._animating=!1,this._animationCallback&&(t=this._animationCallback,this._animationCallback=null,t()),this._processAnimation())},this._processAnimation=function(t){if(0!=this._animationQueue.length&&!this._isPaused&&(t&&(clearTimeout(this._queuedTimeout),this._queuedTimeout=null),!this._queuedTimeout))if(t)switch(t=this._animationQueue.shift(),t.type){case"animate":var i=this._node.style;i.webkitTransitionProperty=AVOID_CSS_ANIM?"left, top, opacity, width, height":"-webkit-transform, opacity, width, height",i.webkitTransitionDuration=(0|t.duration)+"ms",i.webkitTransitionTimingFunction="string"==typeof t.easing?t.easing:t.easing==animate.easeIn?"ease-in":t.easing==animate.easeOut?"ease-out":t.easing==animate.easeInOut?"ease-in-out":t.easing==animate.linear?"linear":"ease",this._setProps(t.props,t);case"wait":this._animating=!0,this._animationCallback=t.callback||null,this.transitionCallback=new Callback,this.transitionCallback.runOrTimeout(function(){},bind(this,function(t){this._transitionEnd(t)}),t.duration);break;case"callback":t.callback(),this._animating||this._processAnimation()}else this._queuedTimeout||(this._queuedTimeout=setTimeout(bind(this,function(){this._queuedTimeout=!1,this._processAnimation(!0)}),0))},this.getQueue=function(){return[]},this.getAnimation=function(){return this},this.animate=function(){return arguments[0]?this.next.apply(this,arguments):this},this.clear=function(){return this.transitionCallback&&this.transitionCallback.fire(),this._transitionEndTimeout&&clearTimeout(this._transitionEndTimeout),this._animationQueue=[],this._animationCallback=null,this._animating=!1,this},this.commit=function(){this._node.style.webkitTransition="none";var t=this._animationQueue;this._animationQueue=[];for(var i=t.length,e=0;i>e;++e){var s=t[e];switch(s.type){case"animate":this._setProps(s.props);break;case"callback":s.callback()}}return this},this.pause=function(){this._isPaused=!0},this.resume=function(){this._isPaused=!1,this._processAnimation()},this.animate=function(t,i,e,s){return this.then(t,i,e,s)},this.now=function(t,i,e,s){return this.clear(),this.then(t,i,e,s)},this.then=function(t,i,e,s){return 1==arguments.length&&"function"==typeof t?this.callback(t):(this._animationQueue.push({type:"animate",props:t,duration:i||600,callback:s&&bind(this,s),easing:e}),1==this._animationQueue.length&&!this._animating&&this._processAnimation(),this)},this.callback=function(t){return this._animationQueue.push({type:"callback",duration:0,callback:t&&bind(this,t)}),1==this._animationQueue.length&&!this._animating&&this._processAnimation(),this},this.wait=function(t,i){return this._animationQueue.push({type:"wait",duration:t,callback:i}),1==this._animationQueue.length&&!this._animating&&this._processAnimation(),this},this.fadeIn=function(t,i){return this.show(),1!=this._node.style.opacity?(this.then({opacity:1},t,null,i),this):void(i&&i())},this.fadeOut=function(t,i){return 0!=this._node.style.opacity?(this.then({opacity:0},t,null,bind(this,function(){this.hide(),i&&i()})),this):(this.hide(),void(i&&i()))}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/canvas/ImageView.js",'jsio("import util.path"),jsio("import std.uri as URI"),jsio("import ui.View as View"),jsio("import ui.resource.Image as Image");var imageCache={},home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_canvas_ImageView=__class__,ImageView=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_canvas_ImageView(function(){return this.init&&this.init.apply(this,arguments)},View,function(t){this.getImage=function(){return this._img},this.getImageFromCache=function(t,i){var e;return i||(e=imageCache[t]),e||(imageCache[t]=e=new Image({url:t,forceReload:!!i})),e},this.updateOpts=function(i){return i=t(this,"updateOpts",arguments),"autoSize"in i&&(this._autoSize=!!i.autoSize),i.image?this.setImage(i.image):this.needsReflow(),i},this.setImage=function(t,i){var e=i&&i.forceReload;"string"==typeof t&&(t=this.getImageFromCache(t,e)),(this._img=t)&&((this._autoSize=i&&"autoSize"in i?i.autoSize:this._autoSize)&&(0<this._img.getWidth()&&0<this._img.getHeight()?this.autoSize():this._img.doOnLoad(this,"autoSize")),this._img.doOnLoad(this,"needsRepaint"))},this.doOnLoad=function(){return 1==arguments.length?this._img.doOnLoad(this,arguments[0]):this._img.doOnLoad.apply(this._img,arguments),this},this.autoSize=function(){this._img&&(this.style.width=this._img.getWidth(),this.style.height=this._img.getHeight(),this.style.fixedAspectRatio&&this.style.enforceAspectRatio(this.style.width,this.style.height))},this.getOrigWidth=this.getOrigW=function(){return this._img.getOrigW()},this.getOrigHeight=this.getOrigH=function(){return this._img.getOrigH()},this.render=function(t){if(this._img){var i=this.style;this._img.render(t,0,0,i.width,i.height)}};var i=window.location.toString(),e=window.location.hostname;this.getTag=function(){var t;if(this._img){var s=this._img.getOriginalURL();if(this._cachedTag&&s==this._cachedTag.url)t=this._cachedTag.tag;else{t=URI.relativeTo(s,i);var a=t.getHost();t=util.path.splitExt(t.getFile()).basename+(a&&a!=e?":"+a:""),this._cachedTag={url:s,tag:t}}}return(t||"")+":ImageView"+this.uid}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/canvas/TextView.js",'jsio("import ui.View as View"),jsio("import ui.resource.Image as Image"),jsio("import device"),jsio("import .util.FragmentBuffer as FragmentBuffer"),jsio("import .TextFlow"),jsio("import ...legacySettings as legacySettings");var messageFont=!0,textViewID=1,home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_canvas_TextView=__class__,TextView=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_canvas_TextView(function(){return this.init&&this.init.apply(this,arguments)},View,function(t){var e={multiline:{replacement:"wrap"},textAlign:{replacement:"horizontalAlign"},lineWidth:{replacement:"strokeWidth"},strokeStyle:{replacement:"strokeColor"},outlineColor:{replacement:"strokeColor"}},i={wrap:!1,autoSize:!1,autoFontSize:!0,lineHeight:1.2,color:"#000000",fontFamily:device.defaultFontFamily,fontWeight:device.defaultFontWeight,size:128,strokeWidth:2,shadowWidth:2,strokeColor:null,shadowColor:null,verticalAlign:"middle",horizontalAlign:"center",buffer:!1,backgroundColor:""},s={width:!0,height:!0,wrap:!0,autoSize:!0,autoFontSize:!0,padding:!0,lineHeight:!0,color:!1,fontFamily:!0,fontWeight:!0,size:!0,strokeWidth:!0,shadowWidth:!0,strokeColor:!1,shadowColor:!1,verticalAlign:!0,horizontalAlign:!0,backgroundColor:!1,text:!0},o=Object.keys(s),h=Object.keys({color:!0,fontFamily:!0,fontWeight:!0,size:!0,strokeWidth:!0,shadowWidth:!0,strokeColor:!1,shadowColor:!1,backgroundColor:!0,text:!0}),a=["width","height","size"],r=new FragmentBuffer;r.onGetHash=function(t){return t.textView.getHash()},this.init=function(e){this._opts={},this._optsLast={},this.updateCache(),this._textFlow=new TextFlow({target:this}),this._textFlow.subscribe("ChangeWidth",this,"onChangeWidth"),this._textFlow.subscribe("ChangeHeight",this,"onChangeHeight"),this._textFlow.subscribe("ChangeSize",this,"onChangeSize"),t(this,"init",[merge(e,i)]),this._id=textViewID++},this.onChangeWidth=function(t){this.updateOpts({width:t},!0)},this.onChangeHeight=function(t){this.updateOpts({height:t},!0)},this.onChangeSize=function(t,e){this.updateOpts({size:t},!0),e&&(e.font=this._opts.fontWeight+" "+this._opts.size+"px "+this._opts.fontFamily)},this._restoreOpts=function(){for(var t,e=this._optsLast,i=a.length;i;)t=a[--i],t in e&&(this._opts[t]=e[t])},this._checkOpts=function(t){var e,h=this._optsLast,a=o.length;for((this._cacheUpdate=this._cacheUpdate||!Object.keys(this._opts).length)&&(this._hash=!1);a;)e=o[--a],e in t&&s[e]&&h[e]!==t[e]&&(this._cacheUpdate=!0),h[e]=e in t?t[e]:e in this._opts?this._opts[e]:i[e]},this._checkDeprecatedOpts=function(t){t.allowVerticalSizing=!legacySettings.disableVerticalAutoSize;for(var i in e)if(i in t){var s=e[i];DEBUG&&!s.hasWarned&&(console.warn("TextView opts."+i+" is deprecated, please use "+s.replacement+"..."),s.hasWarned=!0),t[s.replacement]=t[i]}if(i=t.font){for(DEBUG&&messageFont&&(console.warn("TextView opts.font is deprecated, please use fontFamily and size..."),messageFont=!1);i.length&&" "===i[0];)i=i.substr(1-i.length);s=i.indexOf(" "),-1!==s&&(t.size=parseInt(i.substr(0,s).replace(/[pxtem\\s]/gi,""),10),t.fontFamily=i.substr(s+1-i.length))}},this.updateCache=function(){this._cacheUpdate=!0,this._hash=!1},this.updateOpts=function(e,i){if(e.emoticonData)for(var s in e.emoticonData.data){var o=e.emoticonData.data[s];o.image||(o.image=new Image({url:o.url}))}if(this._opts.buffer&&r.releaseBin(this.getHash()),this.updateCache(),this._checkDeprecatedOpts(e),!i){if(this._restoreOpts(),this._checkOpts(e),!this._cacheUpdate)return void t(this,"updateOpts",arguments);e.hash=!1}return e=t(this,"updateOpts",arguments),"text"in e&&this.setText(e.text),!i&&this._textFlow.setOpts(this._opts),e},this._updateCtx=function(t){var e=this._opts;t.textAlign="left",t.textBaseline="top",t.fillStyle=e.color,t.font=e.fontWeight+" "+e.size+"px "+e.fontFamily,t.lineWidth=this.getStrokeWidth()},this._renderToCtx=function(t,e,i){var s,o,h,a,r=this._opts,n=this._textFlow.getWords(),l=r.autoFontSize?this._textFlow.getAvailableWidth():1e6,p=r.color,c=r.strokeColor,d=r.shadowColor,u=this.getStrokeWidth()/2,_=n.length;for(legacySettings.textViewColor&&this.color&&(p=this.color),this._updateCtx(t);_;){s=n[--_],o=s.word,h=e+s.x,a=i+s.y;var g="("==o[0]&&r.emoticonData&&r.emoticonData.data[o];if(g)g.image&&g.image.render(t,h+u,a+u,r.size,r.size);else{if(d){var g=this._opts.shadowWidth||0,f=this._opts.shadowWidth||0;("shadowDx"in this._opts||"shadowDy"in this._opts)&&(g=0|this._opts.shadowDx,f=0|this._opts.shadowDy);var x="shadowOpacity"in this._opts,w=t.globalAlpha;x&&(t.globalAlpha*=this._opts.shadowOpacity),c?(t.strokeStyle=d,t.strokeText(o,h+u+g,a+u+f,l)):(t.fillStyle=d,t.fillText(o,h+u+g,a+u+f,l)),x&&(t.globalAlpha=w)}c&&(t.strokeStyle=c,t.strokeText(o,h+u,a+u,l)),t.fillStyle=p,t.fillText(o,h+u,a+u,l)}}this._opts.debug&&(t.strokeStyle="black",t.strokeRect(h,a,s.width,this.style.height-2*a),t.strokeStyle="red",t.strokeRect(0,0,this.style.width,this.style.height))},this._renderBuffer=function(t){var e=r.getContext(),i=this._textFlow.getOffsetRect(),s=i.width,o=i.height,h=this._textFlow.getWords();s&&o&&(this._opts.lineCount=h[h.length-1].line,i.text=this._opts.text,i.textView=this,h=r.getPositionForText(i),null!=h?(this._cacheUpdate&&(e.clearRect(h.x,h.y,h.width,h.height),this._renderToCtx(e,h.x-i.x,h.y-i.y)),t.drawImage(r.getCanvas(),h.x,h.y,s,o,i.x,i.y,s,o)):this._opts.buffer=!1)},this.computeSize=function(t){if(this._cacheUpdate){this._updateCtx(t);var e=this._opts;this._textFlow.reflow(t,1+(e.autoFontSize?4:0)+(e.autoSize?2:0)+(e.wrap?1:0))}},this.render=function(t){if(this.computeSize(t),this._textFlow.getWords().length)if(this._opts.buffer)this._renderBuffer(t);else{var e=-this.getStrokeWidth()/2;this._renderToCtx(t,e,e)}this._cacheUpdate=!1},this.clearBuffers=function(){r.clearBuffer()},this.getFontBuffer=function(){return r},this.setText=function(t){var t=void 0!=t?t.toString():"",e=this._opts.emoticonData;if(e)for(var i in e.map)var s=RegExp(i.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,"\\\\$&"),"g"),t=t.replace(s,e.map[i]);this._opts.text!==t&&(this._opts.buffer&&r.releaseBin(this.getHash()),this._restoreOpts(),this._opts.text=t,this.updateCache(),this.needsRepaint())},this.getStrokeWidth=function(){return this._opts.strokeColor?this._opts.strokeWidth:0},this.getText=function(){return this._opts.text},this.getTag=function(){return"TextView"+this.uid+":"+(this.tag||(this._opts.text||"").substring(0,20))},this.getOpts=function(){return this._opts},this.getHash=function(){if(!this._hash){this._hash="";for(var t=this._opts,e=h.length;e;)this._hash+=t[h[--e]]}return this._hash},this.reflow=function(){this._restoreOpts(),this._cacheUpdate=!0}});exports.clearBuffers=TextView.prototype.clearBuffers,exports.getFontBuffer=TextView.prototype.getFontBuffer;'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/FragmentBuffer.js",'jsio("import device"),jsio("import .FragmentBin"),jsio("import .SortedLinkedList as SortedList");var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_canvas_util_FragmentBuffer=__class__,FragmentBuffer=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_canvas_util_FragmentBuffer(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){this.opts=merge(t,{}),this._cache={},this._decriptions=[],window.addEventListener("pageshow",bind(this,"clearBuffer"),!1)};var t=function(t,i){return t.size()>i.size()};this._build=function(){this._canvas=new(device.get("Canvas"))({width:1024,height:1024}),this._ctx=this.getCanvas().getContext("2d",bind(this,function(){logger.LOG&&console.log("LOG",".util.FragmentBuffer","{fragment-buffer} Reacting to lost canvas by clearing text buffer"),this._canvas=null,this.clearBuffer()})),this._ctx.clearRect(0,0,1024,1024),this._ctx.textAlign="left",this._ctx.textBaseline="middle",this._ctx.globalCompositeOperation="source-over",this._binList=new SortedList(t),this._binList.insert(new FragmentBin({x:0,y:0,width:1024,height:1024}))},this.getCanvas=function(){return this._canvas||this._build(),this._canvas},this.getContext=function(){return this._ctx||this._build(),this._ctx},this.onGetHash=function(){throw Error("onGetHash should be implemented.")},this._insertText=function(t){for(var i=Math.ceil(t.width)+1,e=Math.ceil(t.height)+1,s=this._binList.iterator(),t=null,n=!1;s.hasNext()&&!n;)t=s.next(),!t.filled&&t.width>=i&&t.height>=e?n=!0:t=null;if(t)for(newBins=t.split(i,e),i=0;i<newBins.length;i++)this._binList.insert(newBins[i]);else logger.LOG&&console.log("LOG",".util.FragmentBuffer","buffer full, further TextViews will not be cached");return t},this.getPositionForText=function(t){var i=this.onGetHash(t),e=Math.ceil(t.width)+1;return!this._cache[i]&&e>0&&(this._cache[i]=this._insertText(t,!1),this._decriptions.push(t)),this._cache[i]},this.releaseBin=function(){},this.clearBuffer=function(){for(this._cache={},this._binList=new SortedList(t),this._binList.insert(new FragmentBin({x:0,y:0,width:1024,height:1024})),this._ctx&&this._ctx.clearRect(0,0,1024,1024);this._decriptions.length;)this._decriptions.pop().textView.updateCache()}});'),
jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/FragmentBin.js",'var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_canvas_util_FragmentBin=__class__,FragmentBin=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_canvas_util_FragmentBin(function(){return this.init&&this.init.apply(this,arguments)},"TextBin",function(){this.init=function(i){this.width=i.width,this.height=i.height,this.x=i.x,this.y=i.y},this.size=function(){return this.width*this.height},this.split=function(i,t){var h=[this];if(10<this.width&&10<this.height){if(10<this.height-t){var s=new FragmentBin({x:this.x,y:this.y+t,width:this.width,height:this.height-t});h.push(s)}10<this.width-i&&(s=new FragmentBin({x:this.x+i,y:this.y,width:this.width-i,height:t}),h.push(s))}return this.width=i,this.height=t,this.filled=!0,h}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/canvas/util/SortedLinkedList.js",'var Iterator=__class__,Iterator=Iterator(function(){return this.init&&this.init.apply(this,arguments)},"Iterator",function(){this.init=this.update=function(t){this._list=t||this._list,this._current=t.head,this._count=0},this.next=function(){var t=this._current.data;return this._current=this._current.next,this._count++,t},this.current=function(){return this._current.data},this.insertBefore=function(t){this._current.insertBefore(t),this._list.count++},this.insertAfter=function(t){this._current.insertAfter(t),this._list.count++},this.remove=function(){this._current.prev.remove(),this._current.prev==this._current&&(this._list.head=null),this._list.count--},this.hasNext=function(){return this._count<this._list.count},this.atHead=function(){return this._current==this._list.head}}),Item=__class__,Item=Item(function(){return this.init&&this.init.apply(this,arguments)},"Item",function(){this.init=function(t,i,e){this.data=t,this.prev=i||this,this.next=e||this},this.insertBefore=function(t){t=new Item(t,this.prev,this),this.prev=this.prev.next=t},this.insertAfter=function(t){t=new Item(t,this,this.next),this.next=this.next.prev=t},this.remove=function(){this.prev.next=this.next,this.next.prev=this.prev}}),home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_canvas_util_SortedLinkedList=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_canvas_util_SortedLinkedList(function(){return this.init&&this.init.apply(this,arguments)},"SortedLinkedList",function(){this.init=function(t){this.head=null,this._comparator=t,this.count=0},this.append=function(t){this._head.insertAfter(t),this.count++},this.insert=function(t){if(this.head){for(var i=this.iterator(),e=i.current(),s=!1;i.hasNext()&&!s;)s=!this._comparator(t,e),s||(i.next(),e=i.current());i.insertBefore(t),s&&i.atHead()&&(this.head=this.head.prev)}else this.head=new Item(t),this.count++},this.iterator=function(){return new Iterator(this)}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/canvas/TextFlow.js",'jsio("import lib.Enum as Enum"),jsio("import lib.PubSub as PubSub");var textFlowMode=Enum("NONE","WRAP","AUTOSIZE","AUTOSIZE_WRAP","AUTOFONTSIZE","AUTOFONTSIZE_WRAP","AUTOFONTSIZE_AUTOSIZE","AUTOFONTSIZE_WRAP_AUTOSIZE"),home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_canvas_TextFlow=__class__,TextFlow=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_canvas_TextFlow(function(){return this.init&&this.init.apply(this,arguments)},PubSub,function(t){this.init=function(i){t(this,"init",arguments),this._target=i.target,this._lineWidth=0,this._line=[],this._lines=[],this._words=[],this._heightFound=this._maxHeight=this._maxWidth=this._maxWordWidth=0,this._offsetRect={x:0,y:0,width:0,height:0}},this.measureText=function(t,i){var e=this._opts;return"("==i[0]&&e.emoticonData&&e.emoticonData.data[i]?e.size:t.measureText(i).width},this._lineSplit=function(t){var i=this._opts,e=i.wrapCharacter?0:t.measureText(" ").width,h=i.text||"",s=i.wrapCharacter?h.replace(/\\t/g," ").match(/\\S[\\u3002\\uff0c]?|[\\n]/g)||[]:i.wrap||"justify"===i.horizontalAlign?h.replace(/\\t/g," ").match(/\\S+|[\\n]| +(?= )/g)||[]:h.split("\\n"),a=[];for(d in s){for(var r=s[d],n=-1,o=0,l=0;l<r.length;l++){var _=r[l];"("==_?n=l:")"==_&&n>-1&&(n-o>0&&a.push(r.substring(o,n)),a.push(r.substring(n,l+1)),o=l+1,n=-1)}o<r.length&&a.push(r.substring(o))}if(s=a,a=0,_=s.length,this._line=[],this._maxWordWidth=this._lineWidth=0,r=this.getAvailableWidth(),(i.hardWrap||exports.hardWrap)&&s.length&&this.measureText(t,h)>r){for(var s=[],i="",d=0;d<h.length;)_=h[d++],t.measureText(i+_).width>=r?(s.push(i),i=_):i+=_;""!==i&&s.push(i),_=s.length}for(;_>a;)r={word:s[a],width:this.measureText(t,s[a]),line:1},this._line.push(r),this._lineWidth+=r.width+e,this._maxWordWidth=Math.max(this._maxWordWidth,r.width),a++;this._lineWidth-=e},this._measureWords=function(t){var i=this._opts.wrapCharacter?0:t.measureText(" ").width,e=0,h=this._line.length;for(this._maxWordWidth=this._lineWidth=0;h>e;){var s=this._line[e];s.line=1,s.width=this.measureText(t,s.word),this._lineWidth+=s.width+i,this._maxWordWidth=Math.max(this._maxWordWidth,s.width),e++}this._lineWidth-=i},this._wrap=function(t,i){var e=this._opts.wrapCharacter?0:t.measureText(" ").width,h=0,s=[],a=[];this._lines=s;var r=this._maxWidth=0,n=this._line.length;if("justify"===this._opts.horizontalAlign){for(;n>r;){var o=this._line[r++],h=h+(o.width+e);"\\n"===o.word?(s.push(a),a=[],h=0):h>i?(a.length&&s.push(a),a=[o],h=o.width+e):a.push(o)}a.length&&s.push(a)}else{for(;n>r;)if(o=this._line[r++],"\\n"===o.word)s.push(a),a=[],h=0;else{var l=!a.length,_=l||this._opts.wrapCharacter?0:e;if(h+o.width+_>i)if(o.width>i){for(var o=o.word,d="",g=0,u=o.length;u>g;++g)l&&!d||this.measureText(t,d+o[g])+_+h<=i?d+=o[g]:(h=this.measureText(t,d),a.push({word:d,width:h,line:s.length}),s.push(a),a=[],_=h=0,l=!0,d=o[g]);d&&(h=this.measureText(t,d),a.push({word:d,width:h,line:s.length}))}else!l&&s.push(a),a=[o],h=o.width;else a.push(o),h+=o.width+_}0<a.length&&s.push(a)}},this._getLineSize=function(t){var i=this._opts;return(1>=t?1:i.lineHeight)*i.size},this._wordFlow=function(t){var t=this._opts.wrapCharacter?0:t.measureText(" ").width,i=this._lines;this._words=[];for(var e=this._maxHeight=this._maxWidth=0,h=i.length,s=this._getLineSize(h),a=0;h>e;){for(var r=i[e++],n=0,o=r.length,l=0;o>n;){var _=r[n++];_.x=l,_.y=a,_.line=e,this._words.push(_),l+=_.width+t}a+=s,l-=t,this._maxWidth=Math.max(this._maxWidth,l),this._maxHeight=Math.max(this._maxHeight,a)}},this._checkWidth=function(t,i){if(""===this._opts.text)return!1;var e=this._opts;if(i>this.getAvailableWidth()){var h=e.size*this._target.style.width/i|0;return e.size!==h&&this.publish("ChangeSize",h,t),!0}return!1},this._checkHeight=function(t,i,e,h){if(""!==this._opts.text&&!(2>Math.abs(e-i))){var s=Math.max(i+e>>1,1);if(this.publish("ChangeSize",s,t),h(),1!==s){var a=this._opts;this._lines.length*this._getLineSize(this._lines.length)>this.getAvailableHeight()?this._checkHeight(t,i,s,h):(this._heightFound=a.size,this._checkHeight(t,s,e,h))}}},this._horizontalAlign=function(t){var i=this._words;if(i.length){var e=t=this._opts.wrapCharacter?0:t.measureText(" ").width,h=i[i.length-1].line,s=this.getPaddingLeft(),a={left:-1,center:2,right:1,justify:3}[this._opts.horizontalAlign]||-1,r=this.getAvailableWidth();3===a&&(t=0);for(var n=0,o=i.length;o>n;){for(var l=n,_=i[n].line,d=0;o>n&&_===i[n].line;)d+=i[n].width+t,n++;if(-1===a)for(;n>l;)i[l++].x+=s;else if(3===a)for(_=h>_?(r-d)/(n-l-1):e,d=s;n>l;)i[l].x=d,d+=i[l].width+_,l++;else for(_=(r-d+t)/a+s;n>l;)i[l++].x+=_}}},this._verticalAlign=function(){var t=this._lines.length,i=this._opts.verticalAlign,e=this._words,h=this.getAvailableHeight(),s=e.length;if(s){if("top"==i)t=this.getPaddingTop();else var i="middle"==i?2:1,a=this._getLineSize(t),t=(h-t*a)/i+this.getPaddingTop();for(;s;)e[--s].y+=t;this._offsetRect.y+=t}},this.reflow=function(t,i){var e=this._opts,h=this.getAvailableWidth(),s=this.getAvailableHeight();switch(this._lineSplit(t),i){case textFlowMode.NONE:this._lines=[this._line],this._wordFlow(t);break;case textFlowMode.WRAP:this._wrap(t,h),this._wordFlow(t);break;case textFlowMode.AUTOSIZE:case textFlowMode.AUTOFONTSIZE_AUTOSIZE:this._lines=[this._line],this._wordFlow(t),(this._opts.fitWidth||h<this._maxWidth)&&this.publish("ChangeWidth",this._maxWidth+this.getHorizontalPadding()),(this._opts.fitHeight||s<this._maxHeight)&&this.publish("ChangeHeight",this._maxHeight+this.getVerticalPadding());break;case textFlowMode.AUTOSIZE_WRAP:this._wrap(t,h),this._wordFlow(t),(this._opts.fitWidth||h<this._maxWidth)&&this.publish("ChangeWidth",this._maxWidth+this.getHorizontalPadding()),(this._opts.fitHeight||s<this._maxHeight)&&this.publish("ChangeHeight",this._maxHeight+this.getVerticalPadding());break;case textFlowMode.AUTOFONTSIZE:if(this._checkWidth(t,this._lineWidth)&&this._lineSplit(t),this._lines=[this._line],e.allowVerticalSizing&&e.size>s){var a=bind(this,function(){this._measureWords(t),this._wordFlow(t)});this._checkHeight(t,1,e.size,a),this.publish("ChangeSize",this._heightFound,t),a()}else this._wordFlow(t);break;case textFlowMode.AUTOFONTSIZE_WRAP:this._wrap(t,h),this._wordFlow(t);var r=this._lines.length,a=this._getLineSize(r);e.allowVerticalSizing&&r*a>s&&(a=bind(this,function(){this._measureWords(t),this._wrap(t,h),this._wordFlow(t)}),this._checkHeight(t,1,e.size,a),this.publish("ChangeSize",this._heightFound,t),a());break;case textFlowMode.AUTOFONTSIZE_WRAP_AUTOSIZE:this._wrap(t,h),this._wordFlow(t),s<this._maxHeight&&this.publish("ChangeHeight",this._maxHeight+this.getVerticalPadding())}if(s=this._words,r=s[s.length-1],s.length){var n=this._target.getStrokeWidth(),a=Math.ceil(e.size*e.lineHeight+n);this._offsetRect.x=this.getPaddingLeft(),this._offsetRect.y=this.getPaddingTop(),this._offsetRect.width=h,this._offsetRect.height=r.line*a,this._horizontalAlign(t),this._verticalAlign(),1===r.line&&(this._offsetRect.x=s[0].x,this._offsetRect.width=r.x+r.width-s[0].x),this._offsetRect.width+=n}},this.setOpts=function(t){this._opts=t},this.getWords=function(){return this._words},this.getHorizontalPadding=function(){var t=this._target.style.padding;return t.left+t.right},this.getPaddingLeft=function(){return this._target.style.padding.left},this.getAvailableWidth=function(){return this._target.style.width-this.getHorizontalPadding()},this.getVerticalPadding=function(){var t=this._target.style.padding;return t.top+t.bottom},this.getPaddingTop=function(){return this._target.style.padding.top},this.getAvailableHeight=function(){return this._target.style.height-this.getVerticalPadding()},this.getOffsetRect=function(){return this._offsetRect}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/legacySettings.js","exports={disableVerticalAutoSize:!1,textViewColor:!1};"),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/backend/canvas/ViewDebugger.js",'var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_canvas_ViewDebugger=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_backend_canvas_ViewDebugger(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t,e){this._target=t,this._opts=e=merge(e,{trackClicks:!1,outline:!1,flash:!1}),this.outline=e.outline,this.trackClicks=e.trackClicks,this.flash=e.flash,this._nextFlash=this._flashState=0},this.preRender=function(t){this._time||(this._time=+new Date);var e=this._time;this._time=+new Date,this._dt=this._time-e,e=this._target.style,this.outline&&(t.save(),t.globalAlpha=.2,t.strokeStyle="black",t.lineWidth=1,t.strokeRect(0,0,e.width,e.height),t.restore())},this.postRender=function(t){var e=this._target;if(this.trackClicks)for(var s=e._clicks.length-1;s>=0;--s){var i=e._clicks[s];t.setFillStyle("rgba(0, 0, 0, "+i.o+")"),i.o-=.4*this._dt/1e3,0<i.o?(t.circle(i.x,i.y,15),t.fill()):e._clicks.splice(s,1)}if(this.flash){switch(this._flashState){case 0:t.setFillStyle("rgba(0, 0, 0, 0.5)");break;case 1:t.setFillStyle("rgba(0, 0, 0, 0)");break;case 2:t.setFillStyle("rgba(255, 255, 255, 0.5)");break;case 3:t.setFillStyle("rgba(0, 0, 0, 0)")}s=+new Date,s>this._nextFlash&&(this._flashState=(this._flashState+1)%4,this._nextFlash=s+300),t.fillRect(0,0,e.style.width,e.style.height)}}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/init.js",'jsio("import .View"),jsio("import .layout.BackingExtension"),jsio("import .Engine");'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/layout/BackingExtension.js",'jsio("import ..View"),jsio("import ..backend.strPad as strPad"),jsio("import ..backend.BaseBacking"),jsio("import .BoxLayout"),jsio("import .LinearLayout"),jsio("import .Padding"),jsio("import util.setProperty");var layoutProps={layout:{value:!1,cb:"_onSetLayout"},inLayout:{value:!0,cb:"_onInLayout"},order:{value:0,cb:"_onOrder"},direction:{value:"vertical",cb:"_onLayoutChange"},flex:{value:0,cb:"_onLayoutChange"},justifyContent:{value:"start",cb:"_onLayoutChange"},centerX:{value:!1,cb:"_onLayoutChange"},centerY:{value:!1,cb:"_onLayoutChange"},top:{value:void 0,cb:"_onLayoutChange"},right:{value:void 0,cb:"_onLayoutChange"},bottom:{value:void 0,cb:"_onLayoutChange"},left:{value:void 0,cb:"_onLayoutChange"},minWidth:{value:void 0,cb:"_onBoundsChange"},minHeight:{value:void 0,cb:"_onBoundsChange"},maxWidth:{value:void 0,cb:"_onBoundsChange"},maxHeight:{value:void 0,cb:"_onBoundsChange"},layoutWidth:{value:void 0,cb:"_onLayoutWidth"},layoutHeight:{value:void 0,cb:"_onLayoutHeight"},fixedAspectRatio:{value:!1,cb:"_onFixedAspectRatio"},aspectRatio:{value:null,cb:"_onLayoutChange"},margin:{value:null,cb:"_onMarginChange"},padding:{get:function(){return this._padding||(this._padding=new Padding)},set:function(t){this._padding?this._padding.update(t):this._padding=new Padding(t),this._onLayoutChange()}}},key;for(key in layoutProps)backend.BaseBacking.addProperty(key,layoutProps[key]);View.addExtension({extend:function(t){t=t.prototype,t._sortOrder=strPad.initialValue,t._onOrder=function(t,i){this._sortOrder=strPad.pad(i),this._onLayoutChange()},t._onMarginChange=function(t,i){this._cachedMargin?this._cachedMargin.update(i):this._cachedMargin=new Padding(i),this.top=this._cachedMargin.top,this.bottom=this._cachedMargin.bottom,this.left=this._cachedMargin.left,this.right=this._cachedMargin.right,this._onLayoutChange()},t._onFixedAspectRatio=function(t,i){i&&this.updateAspectRatio()},t.updateAspectRatio=function(t,i){this.aspectRatio=(t||this.width)/(i||this.height)},t.enforceAspectRatio=function(t,i,e){t&&i&&this.updateAspectRatio(t,i);var a=this._view.getSuperview(),h=this._view._opts,t=t||h.width,i=i||h.height;h.width?(t=h.width,i=h.width/this.aspectRatio):h.height?(i=h.height,t=h.height*this.aspectRatio):a&&(this.layoutWidth&&a.style.width?(t=a.style.width*parseFloat(this.layoutWidth)/100,i=t/this.aspectRatio):this.layoutHeight&&a.style.height?(i=a.style.height*parseFloat(this.layoutHeight)/100,t=i*this.aspectRatio):this.flex&&"horizontal"==a.style.direction&&this.width?(t=this.width,i=t/this.aspectRatio):this.flex&&"vertical"==a.style.direction&&this.height?(i=this.height,t=i*this.aspectRatio):e||setTimeout(bind(this,"enforceAspectRatio",t,i,!0),0)),this.width=t,this.height=i};var i={linear:LinearLayout,box:BoxLayout};t._onSetLayout=function(t,e){var a=this._view,h=i[e];h?(a.__layout=new h({view:a}),this.addResizeListeners()):this._layout=!1},t.addResizeListeners=function(){this._hasResizeListeners||(this._hasResizeListeners=!0,util.setProperty(this,"width",{cb:"_onWidth",value:this.width,configurable:!0}),util.setProperty(this,"height",{cb:"_onHeight",value:this.height,configurable:!0}))},t._onWidth=function(t,i){"number"==typeof this.maxWidth&&(this._width=Math.min(this.maxWidth,i||0)),"number"==typeof this.minWidth&&(this._width=Math.max(this.minWidth,i||0)),this._aspectRatio&&(this._height=this._width/this._aspectRatio),this._onLayoutChange()},t._onHeight=function(t,i){"number"==typeof this.maxHeight&&(this._height=Math.min(this.maxHeight,i||0)),"number"==typeof this.minHeight&&(this._height=Math.max(this.minHeight,i||0)),this._aspectRatio&&(this._width=this._height*this._aspectRatio),this._onLayoutChange()},t._onInLayout=function(t,i){var e=this._superview&&this._superview.__layout;e&&(i?e.add(this._view):(e.remove(this._view),this._view.needsReflow()))},t._onLayoutWidth=function(t,i){"%"==i.charAt(i.length-1)?(this._layoutWidthValue=parseFloat(i)/100,this._layoutWidthIsPercent=!0):(this._layoutWidthValue=0,this._layoutWidthIsPercent=!1),this._onLayoutChange()},t._onLayoutHeight=function(t,i){"%"==i.charAt(i.length-1)?(this._layoutHeightValue=parseFloat(i)/100,this._layoutHeightIsPercent=!0):(this._layoutHeightValue=0,this._layoutHeightIsPercent=!1),this._onLayoutChange()},t._onBoundsChange=function(){this.addResizeListeners(),this._onLayoutChange()},t._onLayoutChange=function(){var t=this.getSuperview();t&&t.__layout&&t.needsReflow(),this._view.needsReflow()}}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/layout/BoxLayout.js",'var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_layout_BoxLayout=__class__,BoxLayout=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_layout_BoxLayout(function(){return this.init&&this.init.apply(this,arguments)},function(){var e=this.constructor;this.init=function(t){this._view=t.view,e.listenSubviewResize(t.view)},this.reflow=function(){var t=this._view,i=t.getSuperview(),o=t.style;("wrapContent"==o._layoutWidth||"wrapContent"==o._layoutHeight)&&e.addSubviewListener(t),i&&(((t=!o.inLayout||!o.flex||"linear"!=i.style.layout)||!i.__layout.isHorizontal())&&this.reflowX(),(t||!i.__layout.isVertical())&&this.reflowY())},e.addSubviewListener=function(e){if(!e.__hasSubviewListener){e.__hasSubviewListener=!0,e.subscribe("SubviewAdded",this,"_onSubviewAdded",e),e.subscribe("SubviewRemoved",this,"_onSubviewRemoved",e);for(var t=e.getSubviews(),i=0,o=t.length;o>i;++i)this._onSubviewAdded(e,t[i])}},e.removeSubviewListener=function(e){if(e.__hasSubviewListener){e.__hasSubviewListener=!1,e.unsubscribe("SubviewAdded",this,"_onSubviewAdded"),e.unsubscribe("SubviewRemoved",this,"_onSubviewRemoved");for(var t=e.getSubviews(),i=0,o=t.length;o>i;++i)this._onSubviewRemoved(e,t[i])}},e._onSubviewAdded=function(e,t){t.style.addResizeListeners(),e.connectEvent(t,"resize",bind(e,"needsReflow"))},e._onSubviewRemoved=function(e,t){e.disconnectEvent(t,"resize")},e.addResizeListener=function(e){e.style.__removeSuperviewResize&&e.style.__removeSuperviewResize();var t=bind(e,"needsReflow"),i=e.getSuperview();i&&(i.on("resize",t),e.style.__removeSuperviewResize=bind(e.style,function(){this.__removeSuperviewResize=null,i&&i.removeListener("resize",t)}))},e.listenSubviewResize=function(e){e.__root&&this.addResizeListener(e),e.on("ViewAdded",bind(this,"addResizeListener",e)),e.on("ViewRemoved",bind(e.style,function(){this.__removeSuperviewResize&&this.__removeSuperviewResize()}))},this.reflowX=function(e){var e=this._view,t=e.style,e=e.getSuperview();if(t.inLayout&&"linear"==e.style.layout)var i=e.__layout.isHorizontal(),o=e.style.padding;var s,e=e.style.width,n=e-(o&&o.getHorizontal()||0);s="wrapContent"==t._layoutWidth?this.getContentWidth()+t.padding.right:!i&&e&&void 0!=t.right&&void 0!=t.left?n/t.scale-(t.left||0)-(t.right||0):e&&t._layoutWidthIsPercent?n/t.scale*t._layoutWidthValue:void 0==t.width&&e?n/t.scale:t._width,t._width=s,!i&&e&&(void 0!==s&&t.centerX&&(t.x=Math.round((n-t.scale*s)/2+(o&&o.left||0))),void 0!==s&&void 0==t.left&&void 0!=t.right&&(t.x=Math.round(n-t.scale*s-t.right-(o&&o.right||0))),void 0!=t.left)&&(t.x=Math.round(t.left+(o&&o.left||0)))},this.reflowY=function(){var e=this._view,t=e.style,e=e.getSuperview();if(t.inLayout&&"linear"==e.style.layout)var i=e.__layout.isVertical(),o=e.style.padding;var s,e=e.style.height,n=e-(o&&o.getVertical()||0);s="wrapContent"==t._layoutHeight?this.getContentHeight()+t.padding.bottom:!i&&e&&void 0!=t.top&&void 0!=t.bottom?n/t.scale-(t.top||0)-(t.bottom||0):e&&t._layoutHeightIsPercent?n/t.scale*t._layoutHeightValue:void 0==t.height&&e?n/t.scale:t.height,t._height=s,!i&&e&&(void 0!==s&&t.centerY&&(t.y=Math.round((n-t.scale*s)/2+(o&&o.top||0))),void 0!==s&&void 0==t.top&&void 0!=t.bottom&&(t.y=Math.round(n-t.scale*s-t.bottom-(o&&o.bottom||0))),void 0!=t.top)&&(t.y=Math.round(t.top+(o&&o.top||0)))},this.getContentWidth=function(){for(var e,t=0,i=this._view.getSubviews(),o=0;e=i[o];++o)!e.style._layoutWidthIsPercent&&e.style.visible&&(e=e.style.x+e.style.width*e.style.scale+(e.style.right||0),e>t&&(t=e));return t},this.getContentHeight=function(){for(var e,t=this._view.getSubviews(),i=0,o=0;e=t[o];++o)!e.style._layoutHeightIsPercent&&e.style.visible&&(e=e.style.y+e.style.height*e.style.scale+(e.style.bottom||0),e>i&&(i=e));return i}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/layout/LinearLayout.js",'var _debug,VIEW_STR;jsio("import ui.layout.Padding as Padding"),jsio("import ui.backend.strPad as strPad"),jsio("import .BoxLayout");var DEBUG=!1,home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_layout_LinearLayout=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_layout_LinearLayout(function(){return this.init&&this.init.apply(this,arguments)},BoxLayout,function(i){function e(){return this.view.style._sortOrder+this.index}this.init=function(){i(this,"init",arguments),this._view.subscribe("SubviewAdded",this,"_onSubviewAdded"),this._view.subscribe("SubviewRemoved",this,"_onSubviewRemoved"),this._views=[];for(var e,t=this._view.getSubviews(),s=0;e=t[s];++s)e.style.inLayout&&this._views.push(this._initLayoutView(e));this._forwardEvents(),this._debug=DEBUG},this._onSubviewRemoved=function(i){i.style.inLayout&&this.remove(i)},this._onSubviewAdded=function(i){i.style.inLayout&&this.add(i)},this.debug=function(){return this._debug=!0,this},this._setDirection=function(i){this._direction=i,this._propPos=(i=this.isVertical())?"y":"x",this._propPosOpp=i?"x":"y",this._propDim=i?"_height":"_width",this._minPropDim=i?"minHeight":"minWidth",this._maxPropDim=i?"maxHeight":"maxWidth",this._layoutPropDim=i?"layoutHeight":"layoutWidth",this._propDimOpp=i?"_width":"_height",this._propSideA=i?"top":"left",this._propSideB=i?"bottom":"right",this._flexProp=i?"vflex":"hflex"},this.isVertical=function(){return"vertical"==this._direction},this.isHorizontal=function(){return"horizontal"==this._direction},this._events=["ViewWillAppear","ViewDidAppear","ViewWillDisappear","ViewDidDisappear"],this._forwardEvents=function(){for(var i,e=0;i=this._events[e];++e)this._view.subscribe(i,this,"_forwardSignal",i)},this._events=["ViewWillAppear","ViewDidAppear","ViewWillDisappear","ViewDidDisappear"],this._forwardSignal=function(){for(var i,e=0;i=this._views[e];++e)i.view.publish.apply(i.view,arguments)},this._initLayoutView=function(i){return i.style.inLayout=!0,this._debug&&_debug.log("view",this._view.uid,"layout: adding view",i.uid,"("+this._propDim,"=",i.style[this._propDim]+")"),this._view.connectEvent(i,"Resize",bind(this,"reflow")),{view:i,index:0,toString:e}},this.getSize=function(){return this._size},this.getViewIndex=function(i){for(var e,t=0;e=this._views[t];++t)if(e.view==i)return t;return-1},this.addSubviews=function(i){if(this._debug&&_debug.log(this._view.uid,"adding",i.length,"views"),isArray(i)){for(var e=0,t=i.length;t>e;++e){var s=i[e];s&&this._views.push(this._initLayoutView(s))}this._view.needsReflow()}else this.insertBefore(i);return this},this.getSubviews=function(){return this._views.map(function(i){return i.view})},this.remove=function(i){var e=this.getViewIndex(i);-1!=e&&(this._views.splice(e,1),this._view.disconnectEvent(i,"Resize"),this._view.needsReflow())},this.add=this.insertBefore=function(i,e){if(-1==this.getViewIndex(i)){var t=this._initLayoutView(i),s=!1;if(e){var r=this.getViewIndex(e);-1!=r&&(this._views.splice(r,0,t),s=!0)}s||this._views.push(t),this._view.needsReflow()}},this.insertAfter=function(i,e){if(-1==this.getViewIndex(i)){var t=this._initLayoutView(i),s=!1;if(e){var r=this.getViewIndex(e);-1!=r&&(this._views.splice(r+1,0,t),s=!0)}s||this._views.unshift(t),this._view.needsReflow()}},this.reflow=function(){i(this,"reflow",arguments);for(var e,t=this._view.getSubviews(),s={},r=0;e=t[r];++r)s[e.uid]=strPad.pad(r);for(r=t=0;e=this._views[r];++r)e.view.style.visible&&(e.index=s[e.view.uid],++t);if(t){this._views.sort(),s=this._view.style,s.direction!=this._direction&&this._setDirection(s.direction);var o=this._view.getPosition().scale,n="vertical"==this._direction,h=this._propDim,_=this._minPropDim,a=this._propSideA,u=this._propSideB,d=s.padding,v=d&&(n?d.getVertical():d.getHorizontal())||0,w=s[h],l=this._views;this._debug&&_debug.log(VIEW_STR(this._view)+": layout",this._direction+",",l.length,"subview(s):")&&_debug.stepIn()&&this._summarize();for(var p=0,f=0,r=0;e=l[r];++r){var c=e.view.style;c.visible&&(e.view.reflowSync(),e.margins=(c[a]||0)+(c[u]||0),c.flex?(f+=c.flex,e.baseSize=(c[_]||0)*c.scale+e.margins,p+=e.baseSize):p+=(c[h]||0)*c.scale+e.margins)}if(!(f&&void 0==w||(r=w-v,0>r))){for(var _=s.justifyContent,v=f?w:p+v,p=r-p,g=w=0,r=0;e=l[r];++r)c=e.view.style,c.visible&&c.flex&&(g=e.baseSize+p*(c.flex/f)/c.scale+g,u=Math.round(g*o)/o,g-=u,e.dim=u-e.margins,e.dim>c[this._maxPropDim]&&(e.dim=c[this._maxPropDim]),w+=u);if(r=p-w,d=d&&d[a]||0,f=0,r>0)switch(_){case"end":d+=r;break;case"center":d+=r/2;break;case"space":f=r/(t-1)||0;break;case"space-outside":f=r/(t+1)||0,d+=f}for(t=this._propPos,r=0;e=l[r];++r)d=(d*o|0)/o,c=e.view.style,c.visible&&(c[t]=d+(c[a]||0),this._debug&&_debug.log("->",VIEW_STR(e.view),t,"=",c[t]),c.flex&&(c[h]=e.dim,this._debug&&_debug.log("->",VIEW_STR(e.view),h,"=",c[h])),d+=f+(c[h]||0)*c.scale+e.margins);this._debug&&this._summarize()&&_debug.stepOut(),n&&"wrapContent"==s.layoutHeight?this.reflowY():!n&&"wrapContent"==s.layoutWidth&&this.reflowX(),this._size!=v&&(this._size=v)}}},this._summarize=function(){for(var i,e=this._views,t=0;i=e[t];++t){var s=i.view.style;_debug.log("*",VIEW_STR(i.view)+": "+(s.visible?"":"invisible"),s.x+","+s.y+"-"+s.width+"x"+s.height+" (flex="+(s.flex||0)+")")}return!0}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/layout/Padding.js",'Padding=__class__,exports=Padding=Padding(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=this.update=function(t){if(t instanceof Padding)this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left;else switch("string"==typeof t&&(t=t.split(/\\s+/).map(function(t){return parseFloat(t)})),t&&t.length||(t=[t||0]),t.length){case 1:this.left=this.right=this.top=this.bottom=t[0];break;case 2:this.top=this.bottom=t[0],this.left=this.right=t[1];break;case 3:this.top=t[0],this.left=this.right=t[1],this.bottom=t[2];break;case 4:this.top=t[0],this.right=t[1],this.bottom=t[2],this.left=t[3]}},this.getVertical=function(){return this.top+this.bottom},this.getHorizontal=function(){return this.left+this.right},this.toString=function(){return[this.top,this.right,this.bottom,this.left].join(" ")}});'),jsio.setCachedSrc("modules/devkit-core/src/clientapi/debugging/nativeShim.js",'jsio("import lib.PubSub"),jsio("import lib.Callback"),jsio("import device"),exports.isShim=!0,exports.backButton=new lib.PubSub,exports.dialogs={showDialog:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","Showing a dialog!")},showAppRater:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","Showing rate dialog!")}};var _withContacts=new lib.Callback;_withContacts.fire(),exports.contacts=merge(new lib.PubSub,{getContactList:function(){return[]},withContacts:function(){_withContacts.forward(arguments)},sendAutomatedSMS:function(n,o,e){logger.LOG&&console.log("LOG","..debugging.nativeShim","Send Automated SMS:",n,o),e&&e()},sendSMS:function(n,o,e){logger.LOG&&console.log("LOG","..debugging.nativeShim","Send SMS:",n,o),e&&e()},getPicture:function(){return null},getPictures:function(){return null},getPictureBase64:function(){return null}});var _withPhoneNumber=new lib.Callback;_withPhoneNumber.fire(null),_withPhoneNumber=new lib.Callback,_withPhoneNumber.fire(null),exports.profile={fullName:"",getPicture:function(){return null},getPictureBase64:function(){return null},withPhoneNumber:function(){_withPhoneNumber.forward(arguments)}},exports.sound={playSound:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: play a sound")},loadSound:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: load a sound")},pauseSound:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: pause a sound")},stopSound:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: stop a sound")},setVolume:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: set the volume of a sound")},loadBackgroundMusic:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: load background music")},playBackgroundMusic:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: play background music")},registerMusic:function(){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: register background music")}},exports.events={registerHandler:function(){}},exports.plugins={sendEvent:function(n,o){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: send a "+o+" event to the "+n+" plugin")},sendRequest:function(n,o){logger.LOG&&console.log("LOG","..debugging.nativeShim","NATIVE shim: send a "+o+" request to the "+n+" plugin")}},exports.alerts=new lib.PubSub,merge(exports.alerts,{onNotificationLoad:function(){},showNotification:function(){return-1},showRecurringNotification:function(){return logger.LOG&&console.log("LOG","..debugging.nativeShim","Setting up a recurring notification!"),-1}}),exports.social=new lib.PubSub,exports.isSimulator=function(){return device.isNativeSimulator},GLOBAL.NATIVE||(GLOBAL.NATIVE=exports);'),jsio.setCachedSrc("modules/devkit-core/src/clientapi/debugging/_DEBUG.js",'if(DEBUG){var home_weeby_projects_swarm_modules_devkit_core_src_clientapi_debugging__DEBUG=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_src_clientapi_debugging__DEBUG(function(){return this.init&&this.init.apply(this,arguments)},function(){this.screenshot=function(i){jsio("import device");var e=GC.app.engine.getElement();if((e=new(device.get("Canvas"))({width:e.width,height:e.height}))&&e.toDataURL){var t=e.getContext("2d"),s=/^https?:\\/\\/(.*?)\\//,a=t.drawImage;t.drawImage=function(i,e,t,n,r,o,h,c,g){var u=i.src.match(s);u&&u[1]!=location.host?void 0!=c&&void 0!=g?this.drawBrokenImage(o,h,c,g):void 0!=o?this.drawBrokenImage(o,h,n,r):void 0!=n?this.drawBrokenImage(e,t,n,r):this.drawBrokenImage(e,t,i.width,i.height):a.apply(this,arguments)},t.drawBrokenImage=function(i,e,t,s){i=i||0,e=e||0,t&&s&&(this.save(),this.clipRect(i,e,t,s),this.fillStyle="rgba(0, 0, 0, 0.5)",this.fillRect(i,e,t,s),this.lineWidth=6,this.strokeStyle="rgba(255, 255, 255, 0.5)",this.strokeRect(i+3,e+3,t-6,s-6),this.strokeStyle="rgba(255, 0, 0)",this.fillStyle="red",this.font="bold 15px Helvetica",this.textAlign="center",this.textBaseline="middle",this.fillText("X",i+t/2,e+s/2),this.restore())},GC.app.engine.getView().__view.wrapRender(t,{});try{var n=e.toDataURL("image/png")}catch(r){i({NOT_SUPPORTED:!0,error:r})}n&&i(null,{width:e.width,height:e.height,base64Image:n})}else i({NOT_SUPPORTED:!0})},this.traverse=function(i){return GC.app&&this.traverseView(i,GC.app.view)},this.traverseView=function(i,e){var t=i(e),s=e.getSubviews().map(bind(this,"traverseView",i));return{uid:e.uid,data:t,subviews:s.length?s:void 0}},this.find=function(i){return GC.app&&this.findView(i,GC.app.view)},this.findView=function(i,e){if(i(e))return e;for(var t,s=e.getSubviews(),a=0;t=s[a];++a)if(t=this.findView(i,t))return t;return!1};var i=!1,e=[],t=function(){var i=null,t=0,s=!0;return function(a){var n=Date.now(),r=0;i&&(r=n-i),i=n,s?(t+=r,t>=1e3&&(s=!1,t=1e3)):(t-=r,0>t&&(s=!0,t=0)),e.forEach(function(i){var i=i.getPosition(),e=Math.round(255*t/1e3);a.save(),a.fillStyle="rgba("+e+","+e+","+e+","+e/512+")",a.strokeStyle="rgba("+e+",0,0,1)",a.translate(i.x,i.y),a.rotate(i.r),a.fillRect(0,0,i.width,i.height),a.strokeRect(-.5,-.5,i.width+1,i.height+1),a.restore()})}}();this.unhighlightViews=function(){e=[]},this.highlightView=function(s){-1==e.indexOf(s)&&(e.push(s),i||(i=!0,GC.app.engine.on("Render",t)))},this.unhighlightView=function(i){i=e.indexOf(i),-1!=i&&e.splice(i,1)},this.getViewByID=function(i){return this.find(function(e){return e.uid==i})},this.getImages=function(i){jsio("import ui.ImageView"),jsio("import ui.ImageScaleView");var e={};return this.traverseView(function(i){(i instanceof ui.ImageView||i instanceof ui.ImageScaleView)&&(i=i.getImage())&&(i=i.getOriginalURL(),e[i]=!0)},i||GC.app),i=Object.keys(e),i.sort(),i},this.pack=function(){return GC.app&&this.packView(GC.app.view)},this.packView=function(i){return jsio("import ui.ImageView"),jsio("import ui.ImageScaleView"),jsio("import ui.TextView"),this.traverseView(function(i){if(i instanceof ui.ImageView||i instanceof ui.ImageScaleView){var e=i.getImage();if(e)var t=e.getOriginalURL()||e.getMap();if(i.getScaleMethod){var s=i.getScaleMethod();if(/slice$/.test(s))var a=i._opts.sourceSlices,n=i._opts.destSlices}}if(i instanceof ui.TextView)var r=i.getText();return e=i.style,{x:0!=e.x?e.x:void 0,y:0!=e.y?e.y:void 0,width:e.width,height:e.height,scale:1!=e.scale?e.scale:void 0,sourceSlices:a,destSlices:n,scaleMethod:s,image:t,text:r,visible:0==e.visible?!1:void 0,opacity:1!=e.opacity?e.opacity:void 0,tag:i.getTag()}},i)},this.unpack=function(i){function e(i,t){var s;if(s=t.data,s.x=s.x||0,s.y=s.y||0,s.visible="visible"in s?s.visible:!0,s.opacity="opacity"in s?s.opacity:1,s.scale=s.scale||1,s.image){var a=s.image;s=new ui.ImageView({x:s.x,y:s.y,width:s.width,height:s.height,scale:s.scale,clip:s.clip,scaleMethod:s.scaleMethod,slices:s.slices,superview:i,image:"string"==typeof a?a:new ui.resource.Image({url:a.url,sourceX:a.x,sourceY:a.y,sourceW:a.width,sourceH:a.height,marginTop:a.marginTop,marginRight:a.marginRight,marginBottom:a.marginBottom,marginLeft:a.marginLeft}),visible:s.visible,opacity:s.opacity,tag:s.tag})}else s=new(s.text?ui.TextView:s.clip?ui.ScrollView:ui.View)({x:s.x,y:s.y,clip:s.clip,width:s.width,height:s.height,text:s.text,superview:i,scale:s.scale,visible:s.visible,opacity:s.opacity,tag:s.tag});if(s.uid=t.uid,t.subviews)for(var n,a=0;n=t.subviews[a];++a)e(s,n)}jsio("import ui.View"),jsio("import ui.ImageView"),jsio("import ui.resource.Image"),jsio("import ui.TextView"),jsio("import ui.ScrollView"),GC.app.view.updateOpts(i.data);for(var t,s=0;t=i.subviews[s];++s)e(GC.app.view,t)},this.eachView=function(i,e){for(var t=0,s=i.length;s>t;++t){var a=this.getViewByID(i[t]);a?e(a,i[t]):logger.WARN&&console.warn("WARN","..debugging._DEBUG","view",i[t],"not found")}},this.hideViews=function(){this.eachView(arguments,function(i){i.style.visible=!1})},this.showViews=function(){this.eachView(arguments,function(i){i.style.visible=!0})},this.hideAllViews=function(){this.traverse(function(i){i.style.visible=!1})},this.showAllViews=function(){this.traverse(function(i){i.style.visible=!0})},this.hideViewRange=function(i,e){for(var t=[],s=i;e>s;++s)t.push(s);this.hideViews.apply(this,t)},this.showViewRange=function(i,e){for(var t=[],s=i;e>s;++s)t.push(s);this.showViews.apply(this,t)}})}'),
jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/ImageView.js",'jsio("import device"),exports=device.importUI("ImageView");'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/ImageScaleView.js",'jsio("import ui.View"),jsio("import ui.resource.Image as Image"),jsio("import ui.resource.loader as resourceLoader");var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_ImageScaleView=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_ImageScaleView(function(){return this.init&&this.init.apply(this,arguments)},ui.View,function(i){function t(i){if(this._img){var t=Math.max,e=Math.min,s=this.style,r=s.width,o=s.height,c=this._renderCacheKey,l=this._renderCache||(this._renderCache={x:0,y:0,w:0,h:0});if(c.width!=r||c.height!=o){c.width=r,c.height=o;var c=this._img.getBounds(),a=c.marginLeft,n=c.marginRight,g=c.marginTop,m=c.marginBottom,d=c.width,_=c.height,u=d+a+n,S=_+g+m,f=1,f=u/S,w=r/o,v="cover"==this._scaleMethod,f=(v?w>f:f>w)?r/u:o/S,w=d*f,p=_*f,u=u*f,S=S*f;l.x="left"==this._align?a*f:"right"==this._align?r-(d+n)*f:(r-w)/2,l.y="top"==this._verticalAlign?g*f:"bottom"==this._verticalAlign?o-(_+m)*f:(o-p)/2,l.w=w,l.h=p,l.sx=c.x,l.sy=c.y,l.sw=d,l.sh=_,v&&(S>o?"bottom"==this._verticalAlign?(l.y=t(0,o-m*f-p),l.h=e(p,o-m*f),l.sy+=t(0,_-l.h/f),l.sh=l.h/f):"top"==this._verticalAlign?(l.y=g*f,l.h=e(p,o-l.y),l.sh=l.h/f):(l.y=t(0,(o-p)/2),l.h=e(p,o),l.sh=l.h/f,l.sy=t(l.sy,l.sy+(_-l.sh)/2)):u>r&&("right"==this._align?(l.x=t(0,r-n*f-w),l.w=e(w,r-n*f),l.sx+=t(0,d-l.w/f),l.sw=l.w/f):"left"==this._align?(l.x=a*f,l.w=e(w,r-l.x),l.sw=l.w/f):(l.x=t(0,(r-w)/2),l.w=e(w,r),l.sw=l.w/f,l.sx=t(l.sx,l.sx+(d-l.sw)/2))))}this._img.render(i,l.sx,l.sy,l.sw,l.sh,l.x,l.y,l.w,l.h),this.debug&&(i.strokeStyle=h[0],i.strokeRect(0,0,s.width,s.height))}}var e={image:null,autoSize:!1,scaleMethod:"stretch",renderCenter:!0};this.init=function(t){i(this,"init",[merge(t,e)]),this._imgUrlChangeListenerFn=null},this.getScaleMethod=function(){return this._scaleMethod},this.updateSlices=function(i){i=i||this._opts,this._renderCacheKey={},this._sliceCache=[];for(var t=0;9>t;++t){var e=[this._img.getSource(),0,0,0,0,0,0,0,0];e.render=!1,this._sliceCache.push(e)}if(i.destSlices=i.destSlices||i.sourceSlices,this._sourceSlices=i.sourceSlices,this._destSlices=i.destSlices,this._imgScale=i.imgScale||1,!i.sourceSlices||!i.sourceSlices.horizontal&&!i.sourceSlices.vertical)throw Error("slice views require sourceSlices.horizontal and/or sourceSlices.vertical");"2slice"===i.scaleMethod&&(i.sourceSlices.horizontal&&i.destSlices.horizontal&&(i.destSlices.horizontal.left?(i.sourceSlices.horizontal.center=i.sourceSlices.horizontal.right,i.sourceSlices.horizontal.right=0):i.destSlices.horizontal.right&&(i.sourceSlices.horizontal.center=i.sourceSlices.horizontal.left,i.sourceSlices.horizontal.left=0)),i.sourceSlices.vertical&&i.destSlices.vertical)&&(i.destSlices.vertical.top?(i.sourceSlices.vertical.middle=i.sourceSlices.vertical.bottom,i.sourceSlices.vertical.bottom=0):i.destSlices.vertical.bottom&&(i.sourceSlices.vertical.middle=i.sourceSlices.vertical.bottom,i.sourceSlices.vertical.bottom=0)),i.sourceSlices.horizontal?(e=i.sourceSlices.horizontal,t=[e.left||0,e.center||0,e.right||0],void 0==e.center&&this._img&&(e=this._img.getWidth(),t[1]=e?e-t[0]-t[2]:0),this._sourceSlicesHor=t,this._destSlicesHor=[(this._destSlices.horizontal.left||0)*this._imgScale,0,(this._destSlices.horizontal.right||0)*this._imgScale]):(this._sourceSlicesHor=[0,100,0],this._destSlicesHor=[0,100,0]),i.sourceSlices.vertical?(e=i.sourceSlices.vertical,t=[e.top||0,e.middle||0,e.bottom||0],void 0==e.middle&&this._img&&(i=this._img.getHeight(),t[1]=i?i-t[0]-t[2]:0),this._sourceSlicesVer=t,this._destSlicesVer=[(this._destSlices.vertical.top||0)*this._imgScale,0,(this._destSlices.vertical.bottom||0)*this._imgScale]):(this._sourceSlicesVer=[0,100,0],this._destSlicesVer=[0,100,0])},this.updateOpts=function(t){var t=i(this,"updateOpts",arguments),e=t.scaleMethod&&this._scaleMethod!=t.scaleMethod;if(e){var h=t.scaleMethod;/slice$/.test(h)&&(h="slice"),this.render=s[h],this._renderCacheKey={},this._scaleMethod=t.scaleMethod,this._isSlice="slice"==this._scaleMethod.slice(1)}if("debug"in t&&(this.debug=!!t.debug),t.image?this.setImage(t.image):e&&this._isSlice&&this._img&&this.updateSlices(),t.verticalAlign&&(this._renderCacheKey={},this._verticalAlign=t.verticalAlign),(t.align||t.horizontalAlign)&&(this._align=t.align||t.horizontalAlign),"rows"in t&&(this.rows=t.rows),"columns"in t&&(this.columns=t.columns),e=this.rows,h=this.columns,"tile"==this._scaleMethod&&(!e&&!h||e&&h))throw Error("tile views must define either rows or columns");return t},this._computeSlices=function(i,t,e){var s=this._img.getBounds(),h=s.width,r=s.height;if(!(0>=h||0>=r)){this._img.getSource();var o=this._sourceSlicesHor,c=this._sourceSlicesVer,l=[],a=[];o&&(r=this.style.fixedAspectRatio?t/r:1,l[0]=this._destSlicesHor[0]*r,l[2]=this._destSlicesHor[2]*r,l[1]=i-l[0]-l[2],0>l[1]&&(l[0]=l[0]*i/(l[0]+l[2])|0,l[1]=0,l[2]=i-l[0])),c&&(r=this.style.fixedAspectRatio?i/h:1,a[0]=this._destSlicesVer[0]*r,a[2]=this._destSlicesVer[2]*r,a[1]=t-a[0]-a[2],0>a[1]&&(a[0]=a[0]*t/(a[0]+a[2])|0,a[1]=0,a[2]=t-a[0])),i=s.marginLeft,(t=o[0]+s.marginLeft)&&l[0]&&(i*=l[0]/t),t=s.marginRight,(h=o[2]+s.marginRight)&&l[2]&&(t*=l[2]/h),r=s.marginTop,(h=c[0]+s.marginTop)&&a[0]&&(r*=a[0]/h);var h=s.marginBottom,n=c[2]+s.marginBottom;n&&a[2]&&(h*=a[2]/n),l[0]?l[0]-=i:l[1]-=i,a[0]?a[0]-=r:a[1]-=r,l[2]?l[2]-=t:l[1]-=t,a[2]?a[2]-=h:a[1]-=h;for(var g,m,d,_,u,S,f,h=0,t=s.y,n=0;3>n;n++){var w=0,h=a[n]+h;for(g=Math.round(e*h)/e,h-=g,d=c[n],S=g,g=s.x,_=i,f=0;3>f;f++){w=l[f]+w,u=Math.round(e*w)/e,w-=u,m=o[f];var v=this._sliceCache[3*n+f];m>0&&d>0&&u>0&&S>0?(v[1]=g,v[2]=t,v[3]=m,v[4]=d,v[5]=_,v[6]=r,v[7]=u,v[8]=S,v.render=!0):v.render=!1,g+=m,_+=u}t+=d,r+=S}}},this.getImage=function(){return this._img},this.setImage=function(i){this._renderCacheKey={},this._imgUrlChangeListenerFn&&(this._img.removeListener("urlChanged",this._imgUrlChangeListenerFn),this._imgUrlChangeListenerFn=null);var t,e,s,h=!1,r=this._opts;if("string"==typeof i?(s=resourceLoader.getMap()[i])&&(t=s.w+s.marginLeft+s.marginRight,e=s.h+s.marginTop+s.marginBottom):i instanceof Image&&i.isLoaded()&&(s=i.getBounds(),t=s.width+s.marginLeft+s.marginRight,e=s.height+s.marginTop+s.marginBottom),!s&&("string"==typeof i&&(i=new Image({url:i})),i))return void(i.isError()||i.doOnLoad(this,"setImage",i));if(!r.autoSize||"stretch"!=this._scaleMethod||(r.width||r.layoutWidth)&&(r.height||r.layoutHeight)||(h=!0,this.style.fixedAspectRatio?this.style.enforceAspectRatio(t,e):(this.style.width=t,this.style.height=e)),this._opts.image=this._img="string"==typeof i?new Image({url:i}):i){if(this._isSlice){this.updateSlices();var o=this._sourceSlicesHor,c=this._sourceSlicesVer;o&&(i=o[0]+o[1]+o[2],t/=i,o[0]=o[0]*t-s.marginLeft,o[1]*=t,o[2]=o[2]*t-s.marginRight),c&&(t=c[0]+c[1]+c[2],e/=t,c[0]=c[0]*e-s.marginTop,c[1]*=e,c[2]=c[2]*e-s.marginBottom),[0,2].forEach(function(i){o&&o[i]<0&&(o[1]=o[1]+o[i],o[i]=0),c&&c[i]<0&&(c[1]=c[1]+c[i],c[i]=0)})}r&&r.autoSize&&!h&&this._img.doOnLoad(this,"autoSize"),this._img.doOnLoad(this,"needsRepaint"),this._imgUrlChangeListenerFn=bind(this,"setImage",this._img),this._img.on("urlChanged",this._imgUrlChangeListenerFn)}},this.doOnLoad=function(){return 1==arguments.length?this._img.doOnLoad(this,arguments[0]):this._img.doOnLoad.apply(this._img,arguments),this},this.autoSize=function(){this._img&&this._img.isLoaded()&&(this.style.width=this._img.getWidth()||this._opts.width,this.style.height=this._img.getHeight()||this._opts.height)},this.getOrigWidth=this.getOrigW=function(){return this._img.getOrigW()},this.getOrigHeight=this.getOrigH=function(){return this._img.getOrigH()};var s={none:function(i){this._img&&this._img.render(i,0,0)},stretch:function(i){var t=this.style,e=t.width,t=t.height;this._img&&this._img.render(i,0,0,e,t)},contain:t,cover:t,tile:function(i){if(this._img){var t=this.style,e=t.width,t=t.height,s=this._img.getBounds(),r=s.width,o=s.height,c=s=0;if(this.rows)for(var l=t/this.rows,a=r*(l/o),r=0;r<this.rows;r++){for(;e>s;)this._img.render(i,s,c,a,l),this.debug&&(i.strokeStyle=h[r%3],i.strokeRect(s+.5,c+.5,a-1,l-1)),s+=a;c+=l,s=0}else if(this.columns)for(a=e/this.columns,l=o*(a/r),r=0;r<this.columns;r++){for(;t>c;)this._img.render(i,s,c,a,l),this.debug&&(i.strokeStyle=h[r%3],i.strokeRect(s+.5,c+.5,a-1,l-1)),c+=l;s+=a,c=0}}},slice:function(i){if(this._img){var t=this.style,e=t.width,s=t.height,t=t.scale,h=this._renderCacheKey;for((h.width!=e||h.height!=s||h.absScale!=t)&&(h.width=e,h.height=s,h.absScale=t,this._computeSlices(e,s,t)),e=0;9>e;e++)this._drawSlice(i,this._sliceCache[e],e)}}};this._drawSlice=function(i,t,e){t.render&&(this._opts.renderCenter||4!=e)&&(i.drawImage.apply(i,t),this.debug&&(i.strokeStyle=h[e%3],i.strokeRect(t[5]+.5,t[6]+.5,t[7]-1,t[8]-1)))};var h=["#FF0000","#00FF00","#0000FF"];this.getTag=function(){var i=this._img&&(this._img.getOriginalURL()||this._img._map&&this._img._map.url);if(i){var t=i.match(/[^\\/]+$/);t&&(i=t[0]),i=":"+i.substring(0,16)}return"ImageScaleView"+this.uid+(i||"")}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/TextView.js",'jsio("import device"),exports=device.importUI("TextView");'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/ScrollView.js",'jsio("import animate"),jsio("import device"),jsio("import event.input.dispatch as input"),jsio("import event.input.InputEvent as InputEvent"),jsio("import math.geom.Rect as Rect"),jsio("import math.geom.Point as Point"),jsio("import math.geom.Circle as Circle"),jsio("import math.geom.intersect as intersect"),jsio("import ui.View as View"),jsio("import ui.backend.ReflowManager as ReflowManager");var _reflowMgr=ReflowManager.get(),DEBUG=!0,USE_CLIPPING=!1;if(DEBUG)var _debug={bounds:[]};var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_ScrollView=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_ScrollView(function(){return this.init&&this.init.apply(this,arguments)},View,function(t){function i(t){if(t.r){var i=t.width,s=t.height,e=Math.cos(t.r),n=Math.sin(t.r),o=t.x,a=t.y,h=i,r=0,u=o+h*e-r*n,c=a+h*n+r*e,r=r+s,s=o+h*e-r*n,l=a+h*n+r*e,h=h-i,i=o+h*e-r*n,e=a+h*n+r*e;t.x=Math.min(o,u,s,i),t.y=Math.min(a,c,l,e),t.width=Math.max(o,u,s,i)-t.x,t.height=Math.max(a,c,l,e)-t.y,t.r=0}}function s(t,s){var e=t.src.getPosition(s.src);e.x=(s.x-e.x)/e.scale,e.y=(s.y-e.y)/e.scale,e.width=s.width/e.scale,e.height=s.height/e.scale,e.r=-e.r,i(e),t.intersectRect(e)}this.tag="ScrollView",USE_CLIPPING&&(this.BackingCtor=__class__,this.BackingCtor=this.BackingCtor(function(){return this.init&&this.init.apply(this,arguments)},View.prototype.BackingCtor,function(){function t(e,n,o,a){if(n.visible){n._needsSort&&(n._needsSort=!1,n._subviews.sort()),o.save(),o.translate(n.x+n.anchorX,n.y+n.anchorY),n.r&&o.rotate(n.r),1!=n.scale&&o.scale(n.scale,n.scale),1!=n.opacity&&(o.globalAlpha*=n.opacity),o.translate(-n.anchorX,-n.anchorY),n.clip&&o.clipRect(0,0,n.width,n.height);try{n.backgroundColor&&(o.fillStyle=n.backgroundColor,o.fillRect(0,0,n.width,n.height)),n._view.render&&n._view.render(o,a);for(var h,r=a.viewport,u=n._subviews,c=0;h=u[c++];)if(h==e)t(e,h.__view,o,a),a.viewport=r;else{var l=h.getPosition(r.src);i(l),s.isRectAndRect(l,r)&&t(e,h.__view,o,a),DEBUG&&_debug.bounds.push(l)}}catch(_){logger.ERROR&&console.error("ERROR","ui.ScrollView",n._view,_.message,_.stack)}finally{o.restore()}}}this.wrapRender=function(i,s){if(t(this._view._contentView,this,i,s),DEBUG){var e=s.viewport;i.save(),i.translate(this.x+this.anchorX,this.y+this.anchorY),this.r&&i.rotate(this.r),1!=this.scale&&i.scale(this.scale,this.scale),i.translate(-this.anchorX,-this.anchorY),i.fillStyle="rgba(255, 0, 0, 0.2)",i.fillRect(e.x,e.y,e.width,e.height),i.translate(-e.x,-e.y),i.fillStyle="rgba(255, 255, 255, 0.2)";for(var n,e=0;n=_debug.bounds[e];++e)i.fillRect(n.x,n.y,n.width,n.height);_debug.bounds=[],i.restore()}}}));var e={offsetX:0,offsetY:0,scrollY:!0,scrollX:!0,clip:!0,bounce:!0,bounceRadius:50,drag:!0,inertia:!0,dragRadius:Math.min(device.width,device.height)/32,snapPixels:void 0,useLayoutBounds:!1,layout:"box"};this.init=function(i){i=merge(i,e),i["dom:noCanvas"]=!0,this._acceleration=15,this._animState={lastDelta:0,offset:0},this._snapPixels=1,this._contentView=new View({x:i.offsetX,y:i.offsetY,infinite:!0,tag:"ContentView",layout:"box",layoutWidth:"100%",layoutHeight:"100%"}),this._bounceRadius=i.bounceRadius,this._scrollBounds={minX:-Number.MAX_VALUE,minY:-Number.MAX_VALUE,maxX:Number.MAX_VALUE,maxY:Number.MAX_VALUE},this._viewport=new Rect,this._viewport.src=this._contentView,t(this,"init",[i]),t(this,"addSubview",[this._contentView])},this.updateOpts=function(i){return t(this,"updateOpts",arguments),"useContentBounds"in i&&(i.useContentBounds?(this._contentView.style.layoutHeight="wrapContent",this._contentView.style.layoutWidth="wrapContent",this._contentView.subscribe("resize",this,"_updateContentBounds"),this._updateContentBounds()):this._contentView.unsubscribe("resize",this,"_updateContentBounds")),"scrollBounds"in i&&this.setScrollBounds(i.scrollBounds),"bounceRadius"in i&&(this._bounceRadius=i.bounceRadius),i},this._updateContentBounds=function(){if(this._opts.useContentBounds){var t=this._scrollBounds,i=this._contentView.style;t.minX=i.x,t.maxX=i.x+i.width+this.style.padding.right,t.minY=i.y,t.maxY=i.y+i.height+this.style.padding.bottom}},this.buildView=function(){this._snapPixels=this._opts.snapPixels||1/this.getPosition().scale},this.addSubview=function(t){this._contentView.addSubview(t),this._updateContentBounds()},this.removeSubview=function(t){this._contentView.removeSubview(t),this._updateContentBounds()},this.removeAllSubviews=function(){this._contentView.removeAllSubviews()},this.addFixedView=function(i){return t(this,"addSubview",[i])},this.removeFixedView=function(i){return t(this,"removeSubview",[i])};var n=Math.PI/2;this.getStyleBounds=function(){var t=this._scrollBounds,i=-t.maxY,s=-t.minY<i?i:-t.minY,e=-t.maxX,t=-t.minX<e?e:-t.minX;return{minY:Math.min(i+this.style.height,s),maxY:s,minX:Math.min(e+this.style.width,t),maxX:t}},this.getOffset=function(){return new Point(this._contentView.style)},this.getOffsetX=function(){return this._contentView.style.x},this.getOffsetY=function(){return this._contentView.style.y},this.setOffset=function(t,i){var s=this._contentView.style,e={x:0,y:0},o=this.getStyleBounds();if("number"==typeof t){if(!this._isBouncing)if(this._canBounce){if(t<o.minX){var a=(o.minX-t)/this._bounceRadius,t=o.minX-Math.atan(a)*this._bounceRadius/n;this._bounceRadius-(o.minX-t)<1&&this._endBounce()}t>o.maxX&&(a=(t-o.maxX)/this._bounceRadius,t=o.maxX+Math.atan(a)*this._bounceRadius/n,this._bounceRadius-t<1&&this._endBounce())}else t<o.minX&&(t=o.minX),t>o.maxX&&(t=o.maxX);t!=s.x&&(e.x=t-s.x,s.x=(t/this._snapPixels|0)*this._snapPixels)}"number"==typeof i&&(this._isBouncing||(this._canBounce?(i<o.minY&&(a=(o.minY-i)/this._bounceRadius,i=o.minY-Math.atan(a)*this._bounceRadius/n,this._bounceRadius-(o.minY-i)<1&&this._endBounce()),i>o.maxY&&(a=(i-o.maxY)/this._bounceRadius,i=o.maxY+Math.atan(a)*this._bounceRadius/n,this._bounceRadius-i<1&&this._endBounce())):(i<o.minY&&(i=o.minY),i>o.maxY&&(i=o.maxY))),i!=s.y&&(e.y=i-s.y,s.y=(i/this._snapPixels|0)*this._snapPixels)),this.publish("Scrolled",e)},this.isScrolling=function(){return this.isDragging()||this._anim&&this._anim.hasFrames()},this.stopScrolling=function(){this._anim&&this._anim.now({},1)},this.onInputStart=function(t){this._opts.drag&&(this._opts.scrollX||this._opts.scrollY)&&(this.startDrag({radius:this._opts.dragRadius*this._snapPixels}),this._anim&&this._anim.hasFrames()&&this._anim.clear(),t.cancel())},this.onDragStart=function(t){input.clearOverState(t.id),this._contentView.getInput().blockEvents=!0,this._startBounce(),this._animState.offset=this.getOffset(),this._anim=animate(this._animState).clear()},this.scrollData=[],this.onDrag=function(t,i,s){t=this._animState,t.dt=s.t,t.lastDelta=s,this.scrollData.push(s),this._opts.scrollY||(s.y=0),this._opts.scrollX||(s.x=0),this.setOffset(t.offset.x=t.offset.x+s.x,t.offset.y=t.offset.y+s.y),i.cancel()},this.onDragStop=function(){if(this._contentView.getInput().blockEvents=!1,this._opts.inertia){var t,i=new Point(0,0);for(t in this.scrollData)i.x=.5*i.x+.5*this.scrollData[t].x,i.y=.5*i.y+.5*this.scrollData[t].y;this.scrollData=[];var s=new Point(i).scale(.7),e=this._animState.offset;t=s.getMagnitude(),i=-t/-.45,t=.5*-(t*t)/-.45;var n;n=s.normalize(),s.x=n.x*t,s.y=n.y*t,e=this._animState.offset,t=s.getMagnitude(),n=this.getStyleBounds();var o=new Point(e).add(s);o.y<n.minY-this._bounceRadius&&(t=e.y<n.minY?0:s.getMagnitude()),o.y>n.maxY+this._bounceRadius&&(t=e.y>n.maxY?0:s.getMagnitude()),o.x<n.minX-this._bounceRadius&&(t=e.x<n.minX?0:s.getMagnitude()),o.x>n.maxX+this._bounceRadius&&(t=e.x>n.maxX?0:s.getMagnitude()),t?this._anim.now(bind(this,function(t){this.setOffset(e.x+s.x*t,e.y+s.y*t)}),8*i,animate.easeOut).then(bind(this,function(){this._endBounce(e)})):this._endBounce(e)}},this._startBounce=function(){this._isBouncing=!1,this._opts.inertia&&this._opts.bounce&&(this._canBounce=!0)},this._endBounce=function(){var t=this.getOffset(),i=this.getStyleBounds(),s=0,e=0,n=t.y,o=t.x;t.y<i.minY?n=i.minY:t.y>i.maxY&&(n=i.maxY),t.x<i.minX?o=i.minX:t.x>i.maxX&&(o=i.maxX),e=n-t.y,s=o-t.x,(0!==e||0!==s)&&(this._isBouncing=!0,this._anim.now(bind(this,function(i){this.setOffset(t.x+s*i,t.y+e*i)}),500,animate.easeInOut).then(bind(this,function(){this._isBouncing=this._canBounce=!1,this.scrollTo(void 0,void 0,0)})))},this.setScrollBounds=function(t){t&&("minX"in t&&(this._scrollBounds.minX=t.minX||0),"minY"in t&&(this._scrollBounds.minY=t.minY||0),"maxX"in t&&(this._scrollBounds.maxX=t.maxX||0),"maxY"in t&&(this._scrollBounds.maxY=t.maxY||0),this._canBounce||this.scrollTo(void 0,void 0,0))},this.getScrollBounds=function(){return this._scrollBounds},this.addOffset=function(t,i){this.setOffset(void 0!=t&&null!=t&&this._contentView.style.x+t,void 0!=i&&null!=i&&this._contentView.style.y+i)},this.getContentView=function(){return this._contentView},this.getFullWidth=function(){return this._contentView.style.width},this.getFullHeight=function(){return this._contentView.style.height},this.render=function(t,i){var e=this.style,n=this._contentView.style,o=this._viewport,a=o.x,h=o.y,r=o.width,u=o.height;return o.x=-n.x,o.y=-n.y,o.width=e.width*e.scale|0,o.height=e.height*e.scale|0,i.viewport&&s(o,i.viewport),i.viewport=o,o.x!=a||o.y!=h||o.width!=r||o.height!=u},this.onInputScroll=function(t){var i=this._contentView.style,s=i.x,e=i.y;this._opts.scrollY&&t.scrollAxis==input.VERTICAL_AXIS?this.addOffset(void 0,40*t.scrollDelta):this._opts.scrollX&&this.addOffset(40*t.scrollDelta),(i.y!=e||i.x!=s)&&t.cancel()},this.scrollTo=function(t,i,s,e){var n=this.getStyleBounds(),o=this._contentView.style,t=null==t?o.x:-t,i=null==i?o.y:-i,t=t<n.minX?n.minX:t,t=t>n.maxX?n.maxX:t,i=i<n.minY?n.minY:i,i=i>n.maxY?n.maxY:i;if("number"==typeof s)n=s;else{if(s.duration)n=s.duration;else if(s.speed)var n=t-o.x,a=i-o.y,n=Math.sqrt(n*n+a*a)/s.speed*1e3;else n=500;s.maxDuration&&(n=Math.min(n,s.maxDuration))}n?(t=animate(this._contentView).now({x:t,y:i},n,animate.easeOut),e&&t.then(e)):(o.x=t,o.y=i,e&&e())}});'),jsio.setCachedSrc("modules/devkit-core/node_modules/jsio/packages/math/geom/Circle.js",'jsio("import .Point");var home_weeby_projects_swarm_modules_devkit_core_node_modules_jsio_packages_math_geom_Circle=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_node_modules_jsio_packages_math_geom_Circle(function(){return this.init&&this.init.apply(this,arguments)},Point,function(s){this.init=function(s,i,t){switch(arguments.length){case 0:this.radius=this.y=this.x=0;break;case 1:case 2:this.x=s.x||0,this.y=s.y||0,this.radius=s.radius||0;break;case 3:this.x=s,this.y=i,this.radius=t}},this.scale=function(i){return s(this,"scale",arguments),this.radius*=i,this}});'),jsio.setCachedSrc("modules/devkit-core/src/clientapi/browser/simulateDevice.js",'jsio("import lib.Enum"),exports.simulate=function(e){if(e.userAgent){var i,t=window.navigator,o=window.navigator={};for(i in t)o[i]=t[i];o.userAgent=e.userAgent}window.devicePixelRatio=e.devicePixelRatio||1,jsio("import device"),e.name.toLowerCase(),device.simulating=e,device.simulatingMobileNative="native-android"==e.target||"native-ios"==e.target,device.simulatingMobileBrowser="browser-desktop"==e.target||"browser-mobile"==e.target,device.simulatingMobileBrowser&&(device.isMobileBrowser=!0,device.setUseDOM(!0)),device.simulatingMobileNative&&device.setUseDOM(!1)};'),jsio.setCachedSrc("modules/devkit-core/src/clientapi/index.js",'jsio("import lib.PubSub"),jsio("import lib.Callback"),jsio("import std.uri as URI"),jsio("import ui.Engine"),jsio("import ui.View"),jsio("import ui.StackView"),jsio("import device");var FontRenderer=device.get("FontRenderer");GLOBAL.CONFIG||(GLOBAL.CONFIG={}),GLOBAL.DEBUG||(GLOBAL.DEBUG=!1);var modules_devkit_core_src_clientapi_index=__class__;exports=modules_devkit_core_src_clientapi_index(function(){return this.init&&this.init.apply(this,arguments)},lib.PubSub,function(){var i=navigator.userAgent;(this.isNative=/TeaLeaf/.test(i))?(this.isIOS=/iPhone OS/.test(i),this.isAndroid=/Android/.test(i)):/(iPod|iPhone|iPad)/i.test(i)?(this.isIOS=this.isMobileBrowser=!0,this.isUIWebView=!/Safari/.test(i)):/Android/.test(i)?this.isAndroid=this.isMobileBrowser=!0:(this.isDesktop=!0,this.isFacebook=GLOBAL.CONFIG.isFacebookApp),this.isKik=/Kik\\/\\d/.test(i),this.init=function(){window.addEventListener("pageshow",bind(this,"_onShow"),!1),window.addEventListener("pagehide",bind(this,"_onHide"),!1),this.isKik&&GLOBAL.cards&&cards.browser&&(cards.browser.on("foreground",bind(this,"_onShow")),cards.browser.on("background",bind(this,"_onHide"))),this.isOnline=navigator.onLine,window.addEventListener("online",bind(this,function(){this.isOnline||(this.isOnline=!0,this.publish("OnlineStateChanged",!0))}),!1),window.addEventListener("offline",bind(this,function(){this.isOnline&&(this.isOnline=!1,this.publish("OnlineStateChanged",!1))}),!1),"browser"==this.env&&setTimeout(bind(this,"_onShow"),0),CONFIG.version&&logger.LOG&&console.log("LOG","devkit","Version",CONFIG.version)},GLOBAL.GC=new this.constructor,jsio("import .PluginManager"),this.plugins=new PluginManager,GC.Application=ui.StackView,jsio("import .UI"),GC.ui=new UI;var e;try{GLOBAL.CACHE&&(e=JSON.parse(GLOBAL.CACHE["spritesheets/map.json"]))}catch(t){logger.WARN&&console.warn("WARN","devkit","spritesheet map failed to parse",t)}jsio("import ui.resource.loader"),GC.resources=ui.resource.loader,GC.resources.setMap(e),jsio("import AudioManager"),this._onHide=function(){this.app&&this.app.onPause&&this.app.onPause(),this.publish("Hide"),this.publish("AfterHide"),this.tracker&&this.tracker.endSession()},this._onShow=function(){this.app&&this.app.onResume&&this.app.onResume(),this.publish("Show"),this.publish("AfterShow")},this.buildApp=function(){jsio("import src.Application as Application"),Application.prototype.__root=!0,this.app=new Application,this.buildEngine(merge({view:this.app},this.app._settings)),this.emit("app",this.app)},this.buildEngine=function(i){i||(i={}),i.entry||(i.entry="launchUI");var e=i.view;if(!e)throw"a timestep.Engine must be created with a root view";if(!(e instanceof ui.View))throw"src/Application.js must export a Class that inherits from ui.View";e.subscribe("onLoadError",this,"_onAppLoadError");var t;if("function"==typeof e[i.entry]&&(t=bind(e,i.entry)),e.view=e,e.engine=new ui.Engine(i),e.engine.show(),e.engine.startLoop(),e.muteAll=AudioManager.muteAll,e.initUI&&e.initUI(),FontRenderer.init(),i=(e._settings||{}).preload,e=CONFIG.splash&&CONFIG.splash.autoHide!==!1,i&&i.length){for(var s,n=new lib.Callback,o=0;s=i[o];++o)GC.resources.preload(s,n.chain());e&&n.run(GC,"hidePreloader",null),t&&n.run(t)}else e&&GC.hidePreloader(),t&&t()},this._onAppLoadError=function(i){logger.ERROR&&console.error("ERROR","devkit","encountered error when creating src Application: ",JSON.stringify(i));var e=CONFIG.splash;e&&e.onAppLoadError&&e.onAppLoadError(i)},this.hideSplash=this.hidePreloader=function(i){var e=CONFIG.splash;e&&e.hide&&!e.hidden?(e.hide(i),e.hidden=!0):i&&i()}});'),jsio.setCachedSrc("modules/devkit-core/src/clientapi/PluginManager.js","var home_weeby_projects_swarm_modules_devkit_core_src_clientapi_PluginManager=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_src_clientapi_PluginManager(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this._plugins={}},this.register=function(i,t){this._plugins[i]=t},this.getPlugin=function(i){return this._plugins[i]}});"),jsio.setCachedSrc("modules/devkit-core/src/clientapi/UI.js",'jsio("import device"),jsio("import ui.widget.Spinner as Spinner");var config=window.CONFIG,home_weeby_projects_swarm_modules_devkit_core_src_clientapi_UI=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_src_clientapi_UI(function(){return this.init&&this.init.apply(this,arguments)},function(){this._spinnerCounter=0,jsio("import device");var e;this._scale=e=navigator.displayMetrics?navigator.displayMetrics.densityDpi/160:!CONFIG.scaleDPR&&device.isMobileBrowser?1:window.devicePixelRatio||1,this.setTargetDensity=function(i){switch(i){case"high":this._scale=.5*e;break;case"medium":this._scale=.75*e;break;default:this._scale=e}logger.LOG&&console.log("LOG",".UI","scale:",this._scale)},this.getScale=function(){return this._scale},this.getIntValue=function(e){return Math.round(e*this._scale)/this._scale},this.showSpinner=function(){if(this._spinnerCounter)++this._spinnerCounter;else{var e=GC.app.view;if(e)if(++this._spinnerCounter,this._spinner)e.addSubview(this._spinner);else{var i=50*device.screen.devicePixelRatio;this._spinner=new Spinner({width:i,height:i,x:e.style.width/2-i/2,y:e.style.height/2-i/2,parent:e})}}},this.hideSpinner=function(){--this._spinnerCounter,0>=this._spinnerCounter&&(this._spinnerCounter=0,this._spinner&&this._spinner.removeFromSuperview())}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/widget/Spinner.js",'jsio("import ui.View as View");var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_widget_Spinner=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_widget_Spinner(function(){return this.init&&this.init.apply(this,arguments)},View,function(t){var s={cycles:.5,radius:10,spokes:20,thickness:2,trail:10,color:"#ffffff",backgroundColor:"rgba(0, 0, 0, 0.5)",layout:"box"};this.tag="Spinner",this._t=0,this.init=function(i){this._opts=merge(i,s),this._step=2*Math.PI/this._opts.spokes,t(this,"init",[this._opts])},this.tick=function(t){this._t+=t;var t=this._t/1e3%(1/this._opts.cycles)*Math.PI,s=this._r;this._r=t-t%this._step,s!=t&&this.needsRepaint()},this.render=function(t){t.fillStyle=this._opts.backgroundColor;var s,i,e,o=this.style.width,r=this.style.height,_=this._opts.radius,h=this._opts.trail,l=this._opts.thickness;for(i=0;_>i;++i)s=i+1,s=Math.round(_-Math.sqrt(2*s*_-s*s)),t.fillRect(s,i,o-2*s,1);for(i=r-_,t.fillRect(0,_,o,i-_),e=0;_>e;++e)s=_-e,s=Math.round(_-Math.sqrt(2*s*_-s*s)),t.fillRect(s,i+e,o-2*s,1);for(t.fillStyle=this._opts.color,t.translate(o/2,r/2),o/=2,t.rotate(this._r),e=0;e<this._opts.spokes;++e)t.rotate(this._step),t.globalAlpha=Math.max(.1,(e-h)/h),t.fillRect(10,-l/2,o-15,l)}});'),jsio.setCachedSrc("src/Application.js",'jsio("import animate"),jsio("import device"),jsio("import ui.View as View"),jsio("import ui.ImageView as ImageView"),jsio("import ui.SpriteView as SpriteView"),jsio("import ui.ScoreView as ScoreView"),jsio("import ui.ParticleEngine as ParticleEngine"),jsio("import entities.Entity as Entity"),jsio("import entities.EntityPool as EntityPool"),jsio("import parallax.Parallax as Parallax"),jsio("import src.config as config"),jsio("import src.effects as effects"),jsio("import src.utils as utils");var PI=Math.PI,abs=Math.abs,min=Math.min,max=Math.max,choose=utils.choose,rollFloat=utils.rollFloat,rollInt=utils.rollInt,MAX_TICK=config.maxTick,BG_WIDTH=config.bgWidth,BG_HEIGHT=config.bgHeight,GAME_OVER_DELAY=config.gameOverDelay,SHOW_HIT_BOUNDS=!1,app,home_weeby_projects_swarm_src_Application=__class__;exports=home_weeby_projects_swarm_src_Application(function(){return this.init&&this.init.apply(this,arguments)},GC.Application,function(){this.initUI=function(){app=this,this.setScreenDimensions(BG_WIDTH>BG_HEIGHT),this.inputLayer=new InputView({parent:this.view}),this.bgLayer=new View({parent:this.view,y:this.view.style.height-BG_HEIGHT,width:BG_WIDTH,height:BG_HEIGHT,blockEvents:!0}),this.scoreView=new ScoreView(merge({parent:this.view},config.scoreView)),this.parallax=new Parallax({parent:this.bgLayer}),this.elementLayer=new View({parent:this.bgLayer,zIndex:10}),this.player=new Player({parent:this.elementLayer}),this.bullets=new Bullets({parent:this.elementLayer}),this.enemies=new Enemies({parent:this.elementLayer}),this.particles=new ParticleEngine({parent:this.elementLayer,zIndex:60})},this.launchUI=function(){this.reset()},this.setScreenDimensions=function(t){var i=device.screen,e=this.view.style;e.width=t?i.width*(BG_HEIGHT/i.height):BG_WIDTH,e.height=t?BG_HEIGHT:i.height*(BG_WIDTH/i.width),e.scale=t?i.height/BG_HEIGHT:i.width/BG_WIDTH},this.reset=function(){this.model={score:0,timeMult:1,gameOver:!1},this.scoreView.setText(this.model.score),this.elementLayer.style.y=0,this.player.reset(),this.parallax.reset(config.parallax),this.bullets.reset(),this.enemies.reset(),this.inputLayer.reset(),this.particles.killAllParticles()},this.tick=function(t){t=min(this.model.timeMult*t,MAX_TICK),this.player.update(t),this.bullets.update(t),this.enemies.update(t);var i=-this.player.getScreenY();this.elementLayer.style.y=i,this.parallax.update(0,i),this.bullets.onFirstPoolCollisions(this.enemies,this.onBulletHit,this),this.enemies.onFirstCollision(this.player,this.onGameOver,this),this.particles.runTick(t)},this.onBulletHit=function(t,i){effects.emitExplosion(this.particles,i),i.release(),t.release(),this.model.score++,this.scoreView.setText(this.model.score)},this.onGameOver=function(){this.model.gameOver||(this.model.timeMult=.02,animate(this.model).now({timeMult:.2},GAME_OVER_DELAY,animate.easeOut),effects.emitExplosion(this.particles,this.player),effects.emitEpicExplosion(this.particles,this.player),effects.shakeScreen(this.view),this.player.onDeath(),this.model.gameOver=!0,setTimeout(bind(this,"reset"),GAME_OVER_DELAY))}});var Player=__class__,Player=Player(function(){return this.init&&this.init.apply(this,arguments)},Entity,function(){var t=Entity.prototype,i=config.player.offsetX,e=config.player.offsetY,s=config.player.inputMoveMultiplier,n=config.player.rollMagnitude,a=config.player.bankMagnitude;this.name="Player",this.viewClass=SpriteView,this.init=function(i){t.init.call(this,i),this.inputStartX=0,this.animating=!1},this.reset=function(){t.reset.call(this,i,e,config.player),this.view.resetAllAnimations(config.player),this.animating=!1,SHOW_HIT_BOUNDS&&this.showHitBounds()},this.startInput=function(){this.inputStartX=this.x},this.updateInput=function(t){var i=this.x;this.x=max(0,min(BG_WIDTH,this.inputStartX+s*t)),t=this.x-i,i="",abs(t)>n?i="roll":-a>t?(i="bank",this.view.style.flipX=!1):t>a&&(i="bank",this.view.style.flipX=!0),i&&!this.animating&&(this.animating=!0,this.view.startAnimation(i,{callback:bind(this,function(){this.animating=!1})}))},this.onDeath=function(){this.view.style.visible=!1},this.getScreenY=function(){return this.y-e}}),Bullet=__class__,Bullet=Bullet(function(){return this.init&&this.init.apply(this,arguments)},Entity,function(){var t=Entity.prototype;this.name="Bullet",this.init=function(i){i.compositeOperation="lighter",t.init.call(this,i)},this.update=function(i){t.update.call(this,i),i=this.viewBounds,this.y+i.y+i.h<app.player.getScreenY()&&this.release()}}),Bullets=__class__,Bullets=Bullets(function(){return this.init&&this.init.apply(this,arguments)},EntityPool,function(){var t=EntityPool.prototype,i=config.bullets.spawnCooldown;this.init=function(i){this.spawnCooldown=0,i.ctor=Bullet,t.init.call(this,i)},this.reset=function(){this.spawnCooldown=i,t.reset.call(this)},this.update=function(e){this.spawnCooldown-=e,0>=this.spawnCooldown&&(this.spawnBullet(),this.spawnCooldown+=i),t.update.call(this,e)},this.spawnBullet=function(){if(!app.model.gameOver){var t=this.obtain(app.player.x,app.player.y,config.bullets);SHOW_HIT_BOUNDS&&t.showHitBounds()}}}),Enemy=__class__,Enemy=Enemy(function(){return this.init&&this.init.apply(this,arguments)},Entity,function(){var t=Entity.prototype;this.name="Enemy",this.update=function(i){t.update.call(this,i),this.y+this.viewBounds.y>app.player.getScreenY()+BG_HEIGHT&&this.release()}}),Enemies=__class__,Enemies=Enemies(function(){return this.init&&this.init.apply(this,arguments)},EntityPool,function(){var t=EntityPool.prototype;this.init=function(i){i.ctor=Enemy,t.init.call(this,i)},this.reset=function(){this.spawnCooldown=0,this.spawnMin=config.enemies.spawnCooldownMin,this.spawnMax=config.enemies.spawnCooldownMax,t.reset.call(this)},this.update=function(i){this.spawnCooldown-=i,0>=this.spawnCooldown&&(this.spawnEnemy(),this.spawnCooldown+=rollFloat(this.spawnMin,this.spawnMax)),t.update.call(this,i)},this.spawnEnemy=function(){this.spawnMax>this.spawnMin&&this.spawnMax--;var t=choose(config.enemies.types),i=t.viewBounds,e=rollFloat(0,BG_WIDTH),i=-(i.y+i.h)+app.player.getScreenY(),t=this.obtain(e,i,t);SHOW_HIT_BOUNDS&&t.showHitBounds(),t.vy*=rollFloat(.67,1.33)}}),InputView=__class__,InputView=InputView(function(){return this.init&&this.init.apply(this,arguments)},View,function(){var t=View.prototype;this.init=function(i){i.infinite=!0,t.init.call(this,i)},this.reset=function(){this.startPt=this.startEvt=null},this.onInputStart=function(t,i){null===this.startEvt&&(app.player.startInput(),this.startEvt=t,this.startPt=i)},this.onInputMove=function(t,i){var e=this.startEvt;if(null!==e&&t.id===e.id){var e=this.startPt,s=1/app.bgLayer.style.scale;app.player.updateInput(s*(i.x-e.x),s*(i.y-e.y))}},this.onInputSelect=function(t){var i=this.startEvt;null===i||t.id!==i.id||this.reset()}});'),
jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/SpriteView.js",'jsio("import device"),jsio("import ui.ImageView as ImageView"),jsio("import ui.resource.Image as Image"),jsio("import ui.resource.loader");var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_SpriteView=__class__,SpriteView=exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_SpriteView(function(){return this.init&&this.init.apply(this,arguments)},"SpriteView",ImageView,function(t,i){this.defaults={url:null,groupID:"default",frameRate:15,delay:0,emitFrameEvents:!1,autoStart:!1,loop:!0};var s={};this.tick=null,this.init=function(t){this._opts=t=merge(t,this.defaults),t.visible=!1,DEBUG&&device.useDOM&&(t["dom:multipleImageNodes"]=!0),i(this,"init",[t]),this.onScreen=!0,this.resetAllAnimations(t)},this.resetAllAnimations=function(t){this.stopAnimation(),this._opts=t=merge(t,this.defaults);var i=SpriteView.allAnimations[t.url];if(this.groupID=t.groupID,this.frameRate=t.frameRate,s[this.groupID]||(s[this.groupID]=new Group),this._animations={},t.sheetData){var e,i=t.sheetData.width||t.width,a=t.sheetData.height||t.height;for(e in t.sheetData.anims)this._opts.defaultAnimation||(this._opts.defaultAnimation=e),this.loadFromSheet(e,t.sheetData.url,i,a,t.sheetData.offsetX||i,t.sheetData.offsetY||a,t.sheetData.startX||0,t.sheetData.startY||0,t.sheetData.anims[e])}else for(e in i)this._opts.defaultAnimation||(this._opts.defaultAnimation=e),this.addAnimation(e,i[e]);t.autoSize&&this._opts.defaultAnimation&&(e=this._animations[this._opts.defaultAnimation].frames,e[0]&&(this.style.width=e[0].getWidth(),this.style.height=e[0].getHeight())),t.autoStart&&this.startAnimation(this._opts.defaultAnimation,t)},this.loadFromSheet=function(t,i,s,e,a,n,r,o,h){for(var u=[],m=0;m<h.length;m++)u.push(new Image({url:i,sourceW:s,sourceH:e,sourceX:r+h[m][0]*a,sourceY:o+h[m][1]*n}));this._animations[t]={frames:u}},this.addAnimation=function(t,i){isArray(i)||(i=SpriteView.allAnimations[i][t]);for(var s,e=[],a=0;s=i[a];a++)e.push(device.useDOM?s.url:this.getImageFromCache(s.url));this._animations[t]={frames:e}},this.getFrame=function(t,i){return this._animations[t].frames[i]},this.getFrameCount=function(t){return this._animations[t].frames.length},this.getGroup=function(t){return s[t||this.groupID]},this.startAnimation=function(t,i){if(i=i||{},!0===i.randomFrame&&null==i.frame&&(i.frame=Math.random()*this._animations[t].frames.length|0),!0===i.loop&&(i.iterations=1/0),this._iterationsLeft=i.iterations||1,this._callback=i.callback||null,this._currentAnimationName=t,this._currentFrame=i.frame||0,this._delay=this._dt=0,!this._animations[t])throw Error("Animation "+t+" does not exist: "+this._opts.url+".");this.isPlaying||(this.tick=this._tickSprite,s[this.groupID].add(this),this.isPlaying=this.running=!0,this.style.visible=!0),this._tickSprite(0)},this.stopAnimation=function(){this.isPlaying&&(this.style.visible=!1,this.tick=null,this.isPaused=this._isPaused=this.isPlaying=this.running=!1,s[this.groupID].remove(this.uid))},this.resetAnimation=function(){this._opts.loop?this.startAnimation(this._opts.defaultAnimation):this.stopAnimation()},this.setFramerate=function(t){this.frameRate=t||1e-5},this.pause=function(){this.isPaused=this._isPaused=!0},this.resume=function(){this.isPaused=this._isPaused=!1},this._tickSprite=function(t){if(!this.isPaused)if(t+=this._dt,this._delay)this._delay-=t,0>this._delay&&(this._delay=0);else{var i=this._animations[this._currentAnimationName],s=1e3/this.frameRate,e=t/s|0,a=this._currentFrame;if(this._dt=t-e*s,this._currentFrame=(this._currentFrame+e)%i.frames.length,0>this._currentFrame&&(this._currentFrame+=i.frames.length),this.onScreen&&(0!==e||0===t)&&(this.setImage(this._animations[this._currentAnimationName].frames[this._currentFrame]),this._opts.emitFrameEvents))for(t=0;e>t;t++)this.publish(this._currentAnimationName+"_"+(a+t)%i.frames.length);(a+e)/i.frames.length|0&&(this._delay=this._opts.delay,0>=--this._iterationsLeft&&(i=this._callback,this._callback=null,this.resetAnimation(),i&&i()))}}});SpriteView.allAnimations={},SpriteView.getGroup=SpriteView.prototype.getGroup,function(){var t=ui.resource.loader.getMap(),i=SpriteView.allAnimations,s=Object.keys(t);s.sort();for(var e in s){var a=s[e],n=/((?:.*)\\/.*?)[-_ ](.*?)[-_ ](\\d+)/.exec(a);if(n){var r=n[1],n=n[2],r=i[r]||(i[r]={}),r=r[n]||(r[n]=[]),n=t[a];n.url=a,r.push(n)}}}();var Group=__class__,Group=Group(function(){return this.init&&this.init.apply(this,arguments)},jsio.__filename,function(){this.init=function(){this.sprites={}},this.add=function(t){this.sprites[t.uid]=t},this.remove=function(t){delete this.sprites[t]},this.pause=function(){this._forEachSprite("pause")},this.resume=function(){this._forEachSprite("resume")},this.stopAnimation=function(){this._forEachSprite("stopAnimation")},this.resetAnimation=function(){this._forEachSprite("resetAnimation")},this._forEachSprite=function(t){for(var i in this.sprites)this.sprites[i][t]()}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/ScoreView.js",'jsio("import ui.View as View"),jsio("import ui.ImageView as ImageView"),jsio("import ui.resource.Image as Image"),jsio("import ui.filter as filter");var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_ScoreView=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_ScoreView(function(){return this.init&&this.init.apply(this,arguments)},View,function(t){var i=Math.max;this.init=function(i){i.blockEvents=!0,t(this,"init",arguments),this._text="",this._activeCharacters=[],this._ignoreCharacters=[],this._imageViews=[],this._filterColor=i.filterColor||null,this._container=new View({superview:this,width:this.style.width,height:this.style.height,canHandleEvents:!1}),this._horizontalAlign=i.horizontalAlign||i.textAlign||"center",this._verticalAlign=i.verticalAlign||"middle",this._srcHeight=i.srcHeight||this.style.height,this._spacing=i.spacing||0,i.characterData&&this.setCharacterData(i.characterData),i.text&&this.setText(i.text)},this.setCharacterData=function(t){this._characterData=t;var i,e=0;for(i in t){var s=t[i];s.img=new Image({url:s.image});var r=s.img.getMap();s.width=s.width||r.width+r.marginLeft+r.marginRight,r=r.height+r.marginTop+r.marginBottom,0===e&&r>0?e=r:e!==r&&logger.WARN&&console.warn("WARN","ui.ScoreView",this.getTag()+": Art Height Mismatch!",s.image)}this._srcHeight=e||this._srcHeight,this._text&&this.setText(this._text)},this.setText=function(t){var t=""+t,e=this.style.width,s=this.style.height,r=t.length,h=0,a=0,o=0,l=s/this._srcHeight,n=this._spacing*l,c=this._text,_=c.length;if(this._ignoreCharacters.length=0,this._text=t,this._characterData){for(var g=0;r>g;){var m=t[g],u=this._characterData[m];u?(this._activeCharacters[g]=u,h+=u.width,this._ignoreCharacters.push(_>g&&c[g]===m?!0:!1)):logger.WARN&&console.warn("WARN","ui.ScoreView","WARNING! ScoreView.setText, no data for: "+m),g++}for(h=h*l+(r-1)*n,this._container.style.scale=h>e?e/h:1,"center"===this._horizontalAlign?a=(e-h)/2:"right"===this._horizontalAlign&&(a=e-h),a=i(0,a*this._container.style.scale),g=s*this._container.style.scale,"middle"===this._verticalAlign?o=(s-g)/2:"bottom"===this._verticalAlign&&(o=s-g),o=i(0,o/this._container.style.scale);r>this._imageViews.length;)this._imageViews.push(new ImageView({superview:this._container}));for(this._activeCharacters.length=r,t=this._filterColor,e=this._getColorHash(t),g=0;r>g;g++)u=this._activeCharacters[g],void 0!==u&&(h=this._imageViews[g],c=h.style,_=u.width*l,c.x=a,c.y=o,c.width=_,c.height=s,c.visible=!0,a+=_+n,this._ignoreCharacters[g]||(h.setImage(u.img),this._updateFilter(h,t,e)));for(;g<this._imageViews.length;)this._imageViews[g].style.visible=!1,g++}},this.setFilterColor=function(t){this._filterColor=t,this._updateFilters()},this.clearFilterColor=function(){this.setFilterColor(null)},this._updateFilters=function(){for(var t=this._filterColor,i=this._getColorHash(t),e=0,s=this._activeCharacters.length;s>e;e++)this._updateFilter(this._imageViews[e],t,i)},this._updateFilter=function(t,i,e){i?t.colorFilter?t.lastColorHash!==e&&(t.colorFilter.update(i),t.lastColorHash=e):(t.colorFilter=new filter.MultiplyFilter(i),t.setFilter(t.colorFilter),t.lastColorHash=e):t.colorFilter&&(t.colorFilter=null,t.removeFilter(),t.lastColorHash=0)},this._getColorHash=function(t){var i=0;return t&&(i=1e3*t.r+t.g+.001*t.b+1e-4*t.a),i}});'),jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/ParticleEngine.js",'jsio("import ui.View as View"),jsio("import ui.resource.Image as Image"),jsio("import ui.ImageView as ImageView");var sin=Math.sin,cos=Math.cos,min=Math.min,max=Math.max,imageCache={},TRANSITION_LINEAR="linear",TRANSITIONS={linear:function(e){return e},easeIn:function(e){return e*e},easeInOut:function(e){return 1>(e*=2)?.5*e*e*e:.5*((e-=2)*e*e+2)},easeOut:function(e){return e*(2-e)}},PARTICLE_DEFAULTS={x:0,y:0,r:0,anchorX:0,anchorY:0,width:1,height:1,scale:1,dscale:0,ddscale:0,scaleX:1,dscaleX:0,ddscaleX:0,scaleY:1,dscaleY:0,ddscaleY:0,dx:0,dy:0,dr:0,danchorX:0,danchorY:0,ddx:0,ddy:0,ddr:0,ddanchorX:0,ddanchorY:0,dwidth:0,dheight:0,ddwidth:0,ddheight:0,opacity:1,dopacity:0,ddopacity:0,ttl:1e3,delay:0,flipX:!1,flipY:!1,visible:!1,polar:!1,ox:0,oy:0,theta:0,radius:0,dtheta:0,dradius:0,ddtheta:0,ddradius:0,elapsed:0,image:"",compositeOperation:null,transition:TRANSITION_LINEAR,onStart:null,onDeath:null,external:!1,triggers:null},PARTICLE_KEYS=Object.keys(PARTICLE_DEFAULTS),home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_ParticleEngine=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_ParticleEngine(function(){return this.init&&this.init.apply(this,arguments)},View,function(e){this.init=function(t){t.canHandleEvents=!1,t.blockEvents=!0,e(this,"init",arguments),this._ctor=t.ctor||ImageView,this._particleDataArray=[],this._freeParticleObjects=[],this._freeParticles=[],this._activeParticles=[];var a=t.initCount;a&&this._initParticlePool(a),this._logViewCreation=a>0},this._initParticlePool=function(e){for(var t=0;e>t;t++)this._freeParticles.push(new this._ctor({superview:this,visible:!1,canHandleEvents:!1})),this._freeParticleObjects.push({x:0,y:0,r:0,anchorX:0,anchorY:0,width:1,height:1,scale:1,dscale:0,ddscale:0,scaleX:1,dscaleX:0,ddscaleX:0,scaleY:1,dscaleY:0,ddscaleY:0,dx:0,dy:0,dr:0,danchorX:0,danchorY:0,ddx:0,ddy:0,ddr:0,ddanchorX:0,ddanchorY:0,dwidth:0,dheight:0,ddwidth:0,ddheight:0,opacity:1,dopacity:0,ddopacity:0,ttl:1e3,delay:0,flipX:!1,flipY:!1,visible:!1,polar:!1,ox:0,oy:0,theta:0,radius:0,dtheta:0,dradius:0,ddtheta:0,ddradius:0,elapsed:0,image:"",compositeOperation:null,transition:TRANSITION_LINEAR,onStart:null,onDeath:null,external:!1,triggers:[]})},this.obtainParticleArray=function(e){for(var t=0;e>t;t++)this._particleDataArray.push(this._freeParticleObjects.pop()||{x:0,y:0,r:0,anchorX:0,anchorY:0,width:1,height:1,scale:1,dscale:0,ddscale:0,scaleX:1,dscaleX:0,ddscaleX:0,scaleY:1,dscaleY:0,ddscaleY:0,dx:0,dy:0,dr:0,danchorX:0,danchorY:0,ddx:0,ddy:0,ddr:0,ddanchorX:0,ddanchorY:0,dwidth:0,dheight:0,ddwidth:0,ddheight:0,opacity:1,dopacity:0,ddopacity:0,ttl:1e3,delay:0,flipX:!1,flipY:!1,visible:!1,polar:!1,ox:0,oy:0,theta:0,radius:0,dtheta:0,dradius:0,ddtheta:0,ddradius:0,elapsed:0,image:"",compositeOperation:null,transition:TRANSITION_LINEAR,onStart:null,onDeath:null,external:!1,triggers:[]});return this._particleDataArray},this._cleanObject=function(e){for(var t=0,a=PARTICLE_KEYS.length;a>t;t++){var i=PARTICLE_KEYS[t];e[i]=PARTICLE_DEFAULTS[i]}return e.triggers=[],e},this._addExternalParticle=function(e,t){for(var a=this._activeParticles,i=a.indexOf(e);-1!==i;)this._killParticle(e,e.pData,i),i=a.indexOf(e);this._prepareTriggers(t),t.external=!0,e.pData=t,a.push(e)},this.addExternalParticles=function(e,t){for(var a=t.length,i=0;a>i;i++){var r=t.pop(),s=e.pop();s&&r&&this._addExternalParticle(s,r)}},this.emitParticles=function(e){for(var t=e.length,a=this._activeParticles,i=this._freeParticles,r=0;t>r;r++){var s=e.pop(),d=i.pop();d||(d=new this._ctor({superview:this,visible:!1,canHandleEvents:!1}),this._logViewCreation&&logger.WARN&&console.warn("WARN","ui.ParticleEngine",this.getTag(),"created View:",d.getTag()));var l=s.image;if(d.setImage&&d.lastImage!==l){var c=imageCache[l];void 0===c&&(c=imageCache[l]=new Image({url:l})),d.setImage(c),d.lastImage=l}l=d.style,l.x=s.x,l.y=s.y,l.r=s.r,l.anchorX=s.anchorX,l.anchorY=s.anchorY,l.width=s.width,l.height=s.height,l.scale=s.scale,l.scaleX=s.scaleX,l.scaleY=s.scaleY,l.opacity=s.opacity,l.flipX=s.flipX,l.flipY=s.flipY,l.compositeOperation=s.compositeOperation,l.visible=s.visible,s.delay||(l.visible=!0,s.onStart&&s.onStart(d)),this._prepareTriggers(s),d.pData=s,a.push(d)}},this._prepareTriggers=function(e){for(var e=e.triggers,t=0,a=e.length;a>t;t++){var i=e[t];i.isStyle=void 0!==i.isStyle?i.isStyle:"d"!==i.property.charAt(0)}},this._killParticle=function(e,t,a){var i=e.style,a=this._activeParticles.splice(a,1);e.pData=null,t&&t.onDeath&&t.onDeath(e,t),t&&t.external?this._freeParticleObjects.push(this._cleanObject(t)):(i.visible=!1,this._freeParticles.push(a[0]),t&&this._freeParticleObjects.push(this._cleanObject(t)))},this.killAllParticles=function(){for(var e=this._activeParticles;e.length;){var t=e[0];this._killParticle(t,t.pData,0)}},this.runTick=function(e){for(var t=0,a=this._activeParticles;t<a.length;){var i=a[t],r=i.style,s=i.pData;if(s){if(0<s.delay){if(s.delay-=e,!(0>=s.delay)){t++;continue}r.visible=!0,s.onStart&&s.onStart(i)}if(s.elapsed+=e,s.elapsed>=s.ttl)this._killParticle(i,s,t);else{var d=e/1e3;if(s.transition!==TRANSITION_LINEAR)var d=TRANSITIONS[s.transition],l=d((s.elapsed-e)/s.ttl),d=(d(s.elapsed/s.ttl)-l)*s.ttl/1e3;for(s.polar?(s.radius+=d*s.dradius,s.theta+=d*s.dtheta,s.dradius+=d*s.ddradius,s.dtheta+=d*s.ddtheta,s.ox+=d*s.dx,s.oy+=d*s.dy,s.dx+=d*s.ddx,s.dy+=d*s.ddy,r.x=s.x=s.ox+s.radius*cos(s.theta),r.y=s.y=s.oy+s.radius*sin(s.theta)):(l=d*s.dx,0!==l&&(r.x=s.x+=l),l=d*s.dy,0!==l&&(r.y=s.y+=l),s.dx+=d*s.ddx,s.dy+=d*s.ddy),l=d*s.danchorX,0!==l&&(r.anchorX=s.anchorX+=l),l=d*s.danchorY,0!==l&&(r.anchorY=s.anchorY+=l),s.danchorX+=d*s.ddanchorX,s.danchorY+=d*s.ddanchorY,l=d*s.dwidth,0!==l&&(r.width=s.width+=l),l=d*s.dheight,0!==l&&(r.height=s.height+=l),s.dwidth+=d*s.ddwidth,s.dheight+=d*s.ddheight,l=d*s.dr,0!==l&&(r.r=s.r+=l),s.dr+=d*s.ddr,l=d*s.dscale,0!==l&&(r.scale=s.scale=max(0,s.scale+l)),l=d*s.dscaleX,0!==l&&(r.scaleX=s.scaleX=max(0,s.scaleX+l)),l=d*s.dscaleY,0!==l&&(r.scaleY=s.scaleY=max(0,s.scaleY+l)),s.dscale+=d*s.ddscale,s.dscaleX+=d*s.ddscaleX,s.dscaleY+=d*s.ddscaleY,l=d*s.dopacity,0!==l&&(r.opacity=s.opacity=max(0,min(1,s.opacity+l))),s.dopacity+=d*s.ddopacity,d=0,l=s.triggers;d<l.length;){var c=l[d],n=c.isStyle?r:s;c.smaller&&n[c.property]<c.value?(c.action(i),c.count&&(c.count-=1,0>=c.count&&(l.splice(d,1),d-=1))):!c.smaller&&n[c.property]>c.value&&(c.action(i),c.count&&(c.count-=1,0>=c.count&&(l.splice(d,1),d-=1))),d+=1}t+=1}}else this._killParticle(i,s,t)}},this.getActiveParticles=function(){return this._activeParticles},this.forEachActiveParticle=function(e,t){for(var a=this._activeParticles,i=0,r=a.length;r>i;i++)e.call(t,a[i],i)}});'),jsio.setCachedSrc("modules/devkit-entities/src/Entity.js",'jsio("import ui.ImageView as ImageView"),jsio("import ui.resource.loader as loader");var _imageMap=loader.getMap();jsio("import .EntityPhysics");var IMG_PATH="addons/devkit-entities/images/",_uid=1,home_weeby_projects_swarm_modules_devkit_entities_src_Entity=__class__;exports=home_weeby_projects_swarm_modules_devkit_entities_src_Entity(function(){return this.init&&this.init.apply(this,arguments)},function(){this.name="Entity",this.viewClass=ImageView,this.init=function(i){if(this.uid=this.name+_uid++,this.yPrev=this.xPrev=this.ay=this.ax=this.vy=this.vx=this.y=this.x=0,this.isAnchored=this.isCircle=!1,this.hitBounds=createBounds(),this.viewBounds=createBounds(),this.viewClass){this.view=new this.viewClass(i);var t=this.view.style;Object.defineProperties(this.viewBounds,{w:{enumerable:!0,get:function(){return t.width},set:function(i){t.width=i}},h:{enumerable:!0,get:function(){return t.height},set:function(i){t.height=i}}})}else this.view=null;this.physics=i.physics||EntityPhysics,this.pool=i.pool||null,this.poolIndex=i.poolIndex||0},this.reset=function(i,t,s){this.x=i||0,this.y=t||0,this.xPrev=this.x,this.yPrev=this.y,s=s||{},this.vx=s.vx||0,this.vy=s.vy||0,this.ax=s.ax||0,this.ay=s.ay||0,this.isCircle=s.isCircle||!1,this.isAnchored=s.isAnchored||!1,applyBoundsFromConfig(s.hitBounds,this.hitBounds,s,"hit"),applyBoundsFromConfig(s.viewBounds,this.viewBounds,s,"view"),this.view&&this.resetView(s)},this.resetView=function(i){var t=this.view,s=t.style,e=this.viewBounds;s.x=this.x+e.x,s.y=this.y+e.y,s.zIndex=void 0!==i.zIndex?i.zIndex:s.zIndex,s.visible=!0,(i=i.image)&&t.setImage&&t.currImage!==i&&(t.setImage(i),t.currImage=i)},this.update=function(i){this.xPrev=this.x,this.yPrev=this.y,this.physics.stepPosition(this,i),this.view&&this.updateView(i)},this.updateView=function(){var i=this.view.style,t=this.viewBounds;i.x=this.x+t.x,i.y=this.y+t.y},this.release=function(){this.pool&&this.pool.release(this),this.view&&(this.view.style.visible=!1)},this.collidesWith=function(i){return this.physics.collide(this,i)},this.resolveCollidingStateWith=function(i){return this.physics.resolveCollidingState(this,i)},this.getHitX=this.getLeftHitX=this.getMinHitX=function(){return this.x+this.hitBounds.x},this.getRightHitX=this.getMaxHitX=function(){return this.getHitX()+this.hitBounds.w},this.getHitY=this.getTopHitY=this.getMinHitY=function(){return this.y+this.hitBounds.y},this.getBottomHitY=this.getMaxHitY=function(){return this.getHitY()+this.hitBounds.h},this.getHitRadius=function(){return this.hitBounds.r},this.getHitWidth=function(){return this.hitBounds.w},this.getHitHeight=function(){return this.hitBounds.h},this.getViewX=this.getLeftViewX=this.getMinViewX=function(){return this.x+this.viewBounds.x},this.getRightViewX=this.getMaxViewX=function(){return this.getViewX()+this.viewBounds.w},this.getViewY=this.getTopViewY=this.getMinViewY=function(){return this.y+this.viewBounds.y},this.getBottomViewY=this.getMaxViewY=function(){return this.getViewY()+this.viewBounds.h},this.getViewWidth=function(){return this.viewBounds.w},this.getViewHeight=function(){return this.viewBounds.h},this.showHitBounds=function(){this.hitBoundsView?this.hitBoundsView.style.visible=!0:this.hitBoundsView=new ImageView({parent:this.view});var i=this.hitBoundsView.style;this.isCircle?(this.hitBoundsView.setImage(IMG_PATH+"shapeCircle.png"),i.x=-this.viewBounds.x+this.hitBounds.x-this.hitBounds.r,i.y=-this.viewBounds.y+this.hitBounds.y-this.hitBounds.r,i.width=2*this.hitBounds.r,i.height=2*this.hitBounds.r):(this.hitBoundsView.setImage(IMG_PATH+"shapeRect.png"),i.x=-this.viewBounds.x+this.hitBounds.x,i.y=-this.viewBounds.y+this.hitBounds.y,i.width=this.hitBounds.w,i.height=this.hitBounds.h)},this.hideHitBounds=function(){this.hitBoundsView&&(this.hitBoundsView.style.visible=!1)}});var createBounds=exports.createBounds=function(){return{x:0,y:0,r:0,w:0,h:0}},applyBounds=exports.applyBounds=function(i,t){t.x=i.x||0,t.y=i.y||0,t.r=i.r||0,t.w=i.w||0,t.h=i.h||0},applyBoundsFromImage=exports.applyBoundsFromImage=function(i,t,s,e){var h=_imageMap[s.image];t.w=h.w+h.marginLeft+h.marginRight,t.h=h.h+h.marginTop+h.marginBottom,s.isCircle&&!i&&(t.r=(t.w+t.h)/4,"view"===e&&(t.x=-t.w/2,t.y=-t.h/2))},applyBoundsFromConfig=exports.applyBoundsFromConfig=function(i,t,s,e){applyBounds(i||createBounds(),t),s.image&&!t.r&&(!t.w||!t.h)&&applyBoundsFromImage(i,t,s,e)};'),jsio.setCachedSrc("modules/devkit-entities/src/EntityPhysics.js","var min=Math.min,max=Math.max,abs=Math.abs,sqrt=Math.sqrt,COLLISION_OFFSET=.001;exports={stepPosition:function(i,t){i.x+=t*i.vx/2,i.vx+=t*i.ax,i.x+=t*i.vx/2,i.y+=t*i.vy/2,i.vy+=t*i.ay,i.y+=t*i.vy/2},collide:function(i,t){return i.isCircle?t.isCircle?this.circleCollidesWithCircle(i,t):this.circleCollidesWithRect(i,t):t.isCircle?this.circleCollidesWithRect(t,i):this.rectCollidesWithRect(i,t)},circleCollidesWithCircle:function(i,t){var e=i.getHitX(),r=i.getHitY(),s=i.getHitRadius(),n=t.getHitX(),l=t.getHitY(),g=t.getHitRadius(),e=n-e,r=l-r,s=s+g;return s*s>=e*e+r*r},circleCollidesWithRect:function(i,t){var e=i.getHitX(),r=i.getHitY(),s=i.getHitRadius(),n=t.getHitWidth()/2,l=t.getHitHeight()/2,g=t.getMinHitX()+n,c=t.getMinHitY()+l,e=abs(e-g),r=abs(r-c);return e>n+s||r>l+s?!1:n>=e||l>=r?!0:(n=e-n,l=r-l,s*s>=n*n+l*l)},rectCollidesWithRect:function(i,t){var e=i.getMinHitX(),r=i.getMinHitY(),s=i.getMaxHitX(),n=i.getMaxHitY(),l=t.getMinHitX(),g=t.getMinHitY(),c=t.getMaxHitX(),o=t.getMaxHitY();return c>=e&&s>=l&&o>=r&&n>=g},resolveCollidingState:function(i,t){return i.isCircle?t.isCircle?this.resolveCollidingCircles(i,t):this.resolveCollidingCircleRect(i,t):t.isCircle?this.resolveCollidingCircleRect(t,i):this.resolveCollidingRects(i,t)},resolveCollidingCircles:function(i,t){var e=i.getHitX(),r=i.getHitY(),s=i.getHitRadius(),n=.5,l=t.getHitX(),g=t.getHitY(),c=t.getHitRadius(),o=.5,e=l-e,r=g-r,g=sqrt(e*e+r*r),s=s+c+COLLISION_OFFSET;return 0===g&&(g=e=COLLISION_OFFSET),s-=g,i.isAnchored&&t.isAnchored?s=0:i.isAnchored?(n=0,o=1):t.isAnchored&&(n=1,o=0),i.x+=n*s*-(e/g),i.y+=n*s*-(r/g),t.x+=o*s*(e/g),t.y+=o*s*(r/g),s},resolveCollidingCircleRect:function(i,t){var e=i.getHitX(),r=i.getHitY(),s=i.getHitRadius(),n=t.getHitWidth()/2,l=t.getHitHeight()/2,g=t.getMinHitX()+n,c=t.getMinHitY()+l,o=abs(e-g),H=abs(r-c);if(o>n+s||H>l+s||i.isAnchored&&t.isAnchored)return 0;if(n>=o||l>=H)o=i.hitBounds,i.hitBounds={x:e-i.x-s,y:r-i.y-s,w:2*s,h:2*s},s=this.resolveCollidingRects(t,i),i.hitBounds=o;else{var h=.5,d=.5,o=(g>e?g-n:g+n)-e,H=(c>r?c-l:c+l)-r,e=sqrt(o*o+H*H),s=s+COLLISION_OFFSET-e;i.isAnchored?(h=0,d=1):t.isAnchored&&(h=1,d=0),i.x+=h*s*-(o/e),i.y+=h*s*-(H/e),t.x+=d*s*(o/e),t.y+=d*s*(H/e)}return s},resolveCollidingRects:function(i,t){var e=i.getMinHitX(),r=i.getMinHitY(),s=i.getHitWidth(),n=i.getHitHeight(),l=i.getMaxHitX(),g=i.getMaxHitY(),c=.5,o=t.getMinHitX(),H=t.getMinHitY(),h=t.getHitWidth(),d=t.getHitHeight(),a=t.getMaxHitX(),C=t.getMaxHitY(),O=.5,u=1,a=e-a,l=o-l;return 0>=a&&0>=l?u=max(a,l)-COLLISION_OFFSET:0>=a?u=a-COLLISION_OFFSET:0>=l&&(u=l-COLLISION_OFFSET),l=1,C=r-C,g=H-g,0>=C&&0>=g?l=max(C,g)-COLLISION_OFFSET:0>=C?l=C-COLLISION_OFFSET:0>=g&&(l=g-COLLISION_OFFSET),0>=u&&0>=l?u>l?l=0:u=0:0>=u?l=0:0>=l?u=0:l=u=0,i.isAnchored&&t.isAnchored?l=u=0:i.isAnchored?(c=0,O=1):t.isAnchored&&(c=1,O=0),e=u&&e+s/2>o+h/2||l&&r+n/2>H+d/2?-1:1,i.x+=c*e*u,i.y+=c*e*l,t.x+=O*e*-u,t.y+=O*e*-l,u+l}};"),jsio.setCachedSrc("modules/devkit-entities/src/EntityPool.js",'jsio("import .Entity");var modules_devkit_entities_src_EntityPool=__class__;exports=modules_devkit_entities_src_EntityPool(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(t){t=t||{},this.entities=[],this._ctor=t.ctor||Entity,this._freeIndex=0,this._superview=t.superview||t.parent;for(var t=t.initCount||0,i=0;t>i;i++)this._create();this._logCreation=t>0},this.obtain=function(t,i,e){var n=null,n=this.entities,n=this._freeIndex<n.length?n[this._freeIndex]:this._create();return this._freeIndex++,n.reset(t,i,e),n},this.release=function(t){var i=t.poolIndex;if(i<this._freeIndex){var e=this.entities,n=this._freeIndex-1,s=e[n];e[i]=s,e[n]=t,s.poolIndex=i,this._freeIndex=t.poolIndex=n}},this.reset=function(){this.releaseAll()},this.update=function(t){for(var i=this.entities,e=this._freeIndex-1;e>=0;e--)i[e].update(t)},this.releaseAll=function(){for(var t=this.entities,i=this._freeIndex-1;i>=0;i--)t[i].release()},this.getFirstCollidingEntity=function(t){for(var i=null,e=this.entities,n=this._freeIndex-1;n>=0;n--){var s=e[n];if(s.collidesWith(t)){i=s;break}}return i},this.getAllCollidingEntities=function(t){for(var i=[],e=this.entities,n=this._freeIndex-1;n>=0;n--){var s=e[n];s.collidesWith(t)&&i.push(s)}return i},this.onFirstCollision=function(t,i,e){(t=this.getFirstCollidingEntity(t))&&i.call(e,t)},this.onAllCollisions=function(t,i,e){for(var n=this.entities,s=this._freeIndex-1;s>=0;s--){var r=n[s];r.collidesWith(t)&&i.call(e,r)}},this.onFirstPoolCollisions=function(t,i,e){for(var n=this.entities,s=this._freeIndex-1;s>=0;s--){var r=n[s],o=t.getFirstCollidingEntity(r);o&&i.call(e,r,o)}},this.onAllPoolCollisions=function(t,i,e){for(var n=this.entities,s=this._freeIndex-1;s>=0;s--)for(var r=n[s],o=t._freeIndex-1;o>=0;o--){var l=t.entities[o];r.collidesWith(l)&&i.call(e,r,l)}},this.getActiveCount=function(){return this._freeIndex},this.getTotalCount=function(){return this.entities.length},this.forEachActiveEntity=function(t,i){for(var e=this.entities,n=this._freeIndex-1;n>=0;n--)t.call(i,e[n],n)},this._create=function(){var t=this.entities,i=new this._ctor({superview:this._superview,visible:!1,pool:this,poolIndex:t.length});return t.push(i),this._logCreation&&logger.WARN&&console.warn("WARN","entities.EntityPool","Entity creation:",i.uid),i}});'),jsio.setCachedSrc("modules/devkit-parallax/src/Parallax.js",'jsio("import ui.View as View"),jsio("import ui.ImageView as ImageView"),jsio("import ui.resource.Image as Image"),jsio("import ui.ViewPool as ViewPool");var floor=Math.floor,random=Math.random,rollFloat=function(e,i){return e+random()*(i-e)},rollInt=function(e,i){return floor(e+random()*(1+i-e))},pieceCache={},modules_devkit_parallax_src_Parallax=__class__;exports=modules_devkit_parallax_src_Parallax(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(e){this.rootView=e.rootView||e.parent||e.superview,this.layerPool=new ViewPool({ctor:e.layerCtor||LayerView,initCount:e.layerInitCount||0}),this._opts=e},this.reset=function(e){this.releaseLayers(),this.initializeLayers(e)},this.releaseLayers=function(){this.layerPool.forEachActiveView(function(e){e.pieces.length=0,e.removeFromSuperview(),e.piecePool.releaseAllViews(),this.layerPool.releaseView(e)},this)},this.initializeLayers=function(e){for(var i=0,t=e.length;t>i;i++){var a=this.layerPool.obtainView(merge({parent:this.rootView},this._opts));a.reset(e[i],i),this.moveLayerLeft(a,0),this.moveLayerUp(a,0)}},this.update=function(e,i){this.layerPool.forEachActiveView(function(t){var a=~~(e*t.xMultiplier)-t.style.x;a>0?this.moveLayerRight(t,a):0>a&&this.moveLayerLeft(t,a),a=~~(i*t.yMultiplier)-t.style.y,a>0?this.moveLayerDown(t,a):0>a&&this.moveLayerUp(t,a)},this)},this.moveLayerRight=function(e,i){var t=e.style.x+=i,a=this.rootView.style;if(e.xCanRelease)for(var n=e.pieces,s=!1;n.length&&!s;){var h=e.getMinPieceX(n[n.length-1]);h>=-t+a.width?(e.xSpawnMax=h,e.piecePool.releaseView(n.pop())):s=!0}if(e.xCanSpawn)for(;e.xSpawnMin>-t;)e.spawnPieceLeft()},this.moveLayerLeft=function(e,i){var t=e.style.x+=i,a=this.rootView.style;if(e.xCanRelease)for(var n=e.pieces,s=!1;n.length&&!s;){var h=e.getMaxPieceX(n[0]);-t>=h?(e.xSpawnMin=h,e.piecePool.releaseView(n.shift())):s=!0}if(e.xCanSpawn)for(;e.xSpawnMax<-t+a.width;)e.spawnPieceRight()},this.moveLayerDown=function(e,i){var t=e.style.y+=i,a=this.rootView.style;if(e.yCanRelease)for(var n=e.pieces,s=!1;n.length&&!s;){var h=e.getMinPieceY(n[n.length-1]);h>=-t+a.height?(e.ySpawnMax=h,e.piecePool.releaseView(n.pop())):s=!0}if(e.yCanSpawn)for(;e.ySpawnMin>-t;)e.spawnPieceUp()},this.moveLayerUp=function(e,i){var t=e.style.y+=i,a=this.rootView.style;if(e.yCanRelease)for(var n=e.pieces,s=!1;n.length&&!s;){var h=e.getMaxPieceY(n[0]);-t>=h?(e.ySpawnMin=h,e.piecePool.releaseView(n.shift())):s=!0}if(e.yCanSpawn)for(;e.ySpawnMax<-t+a.height;)e.spawnPieceDown()}}),exports.LayerView=__class__;var LayerView=exports.LayerView=exports.LayerView(function(){return this.init&&this.init.apply(this,arguments)},View,function(){var e=View.prototype,i=0;this.init=function(i){e.init.call(this,i),this.xSpawnMax=this.xSpawnMin=0,this.xMultiplier=1,this.xCanRelease=this.xCanSpawn=!0,this.xGapRange=[0,0],this.ySpawnMax=this.ySpawnMin=0,this.yMultiplier=1,this.yCanRelease=this.yCanSpawn=!0,this.yGapRange=[0,0],this.index=0,this.ordered=!1,this.pieceOptions=[],this.pieces=[],this.piecePool=new ViewPool({ctor:i.pieceCtor||ImageView,initCount:i.pieceInitCount||0})},this.reset=function(e,t){this.xSpawnMax=this.xSpawnMin=0,this.xMultiplier=void 0!==e.xMultiplier?e.xMultiplier:1,this.xGapRange=e.xGapRange||[0,0],this.xCanSpawn=void 0!==e.xCanSpawn?e.xCanSpawn:!0,this.xCanRelease=void 0!==e.xCanRelease?e.xCanRelease:this.xCanSpawn,this.ySpawnMax=this.ySpawnMin=0,this.yMultiplier=void 0!==e.yMultiplier?e.yMultiplier:1,this.yGapRange=e.yGapRange||[0,0],this.yCanSpawn=void 0!==e.yCanSpawn?e.yCanSpawn:!0,this.yCanRelease=void 0!==e.yCanRelease?e.yCanRelease:this.yCanSpawn,this.index=t,this.ordered=e.ordered||!1,this.pieceOptions=e.pieceOptions,this.pieces=[];var a=this.style;a.x=e.x||0,a.y=e.y||0,a.width=e.width||1,a.height=e.height||1,a.zIndex=e.zIndex||0;for(var a=e.pieceOptions,n=0;n<a.length;n++){var s=a[n];void 0===s.id&&(s.id=i++),!pieceCache[s.id]&&this.cachePieceData(s)}},this.cachePieceData=function(e){var i=pieceCache[e.id]={};i.img=new Image({url:e.image}),i.x=e.x,i.y=e.y,i.zIndex=e.zIndex||0,i.r=e.r||0;var t=i.img.getBounds();i.width=e.width||t.width+t.marginLeft+t.marginRight,i.height=e.height||t.height+t.marginTop+t.marginBottom,i.anchorX=e.anchorX||i.width/2,i.anchorY=e.anchorY||i.height/2,i.scale=void 0!==e.scale?e.scale:1,i.scaleX=void 0!==e.scaleX?e.scaleX:1,i.scaleY=void 0!==e.scaleY?e.scaleY:1,i.opacity=void 0!==e.opacity?e.opacity:1,i.flipX=e.flipX||!1,i.flipY=e.flipY||!1,i.compositeOperation=e.compositeOperation||"",i.xAlign=e.xAlign||"left",i.yAlign=e.yAlign||"top",i.styleRanges=[];var a,e=e.styleRanges||{};for(a in e)t=e[a],i.styleRanges.push([a,t[0],t[1]])},this.spawnPieceLeft=function(){var e=this.getNextPieceIndex(-1),i=this.pieceOptions[e],t=this.addPiece(i),i=pieceCache[i.id],a=i.x||0,n=void 0!==i.y?i.y:rollInt(this.ySpawnMin,this.ySpawnMax);t.index=e,t.style.x=this.xSpawnMin+a-i.width,t.style.y=n,this.applyStyleRanges(t,i),this.alignPieceY(t,i),this.pieces.unshift(t),this.updateSpawnX(t),this.yCanSpawn&&this.updateSpawnY(t)},this.spawnPieceRight=function(){var e=this.getNextPieceIndex(1),i=this.pieceOptions[e],t=this.addPiece(i),i=pieceCache[i.id],a=i.x||0,n=void 0!==i.y?i.y:rollInt(this.ySpawnMin,this.ySpawnMax);t.index=e,t.style.x=this.xSpawnMax+a,t.style.y=n,this.applyStyleRanges(t,i),this.alignPieceY(t,i),this.pieces.push(t),this.updateSpawnX(t),this.yCanSpawn&&this.updateSpawnY(t)},this.spawnPieceUp=function(){var e=this.getNextPieceIndex(-1),i=this.pieceOptions[e],t=this.addPiece(i),i=pieceCache[i.id],a=void 0!==i.x?i.x:rollInt(this.xSpawnMin,this.xSpawnMax),n=i.y||0;t.index=e,t.style.x=a,t.style.y=this.ySpawnMin+n-i.height,this.applyStyleRanges(t,i),this.alignPieceX(t,i),this.pieces.unshift(t),this.updateSpawnY(t),this.xCanSpawn&&this.updateSpawnX(t)},this.spawnPieceDown=function(){var e=this.getNextPieceIndex(1),i=this.pieceOptions[e],t=this.addPiece(i),i=pieceCache[i.id],a=void 0!==i.x?i.x:rollInt(this.xSpawnMin,this.xSpawnMax),n=i.y||0;t.index=e,t.style.x=a,t.style.y=this.ySpawnMax+n,this.applyStyleRanges(t,i),this.alignPieceX(t,i),this.pieces.push(t),this.updateSpawnY(t),this.xCanSpawn&&this.updateSpawnX(t)},this.getNextPieceIndex=function(e){var i=this.pieces,t=this.pieceOptions.length-1;return this.ordered?(i=i[e>0?i.length-1:0],e=(i&&i.index)+e||0,0>e?e=t:e>t&&(e=0),e):rollInt(0,t)},this.addPiece=function(e){var i=this.piecePool.obtainView({parent:this}),e=pieceCache[e.id];return i.updateOpts(e),i.style.compositeOperation=e.compositeOperation,i.currImage!==e.img&&(i.currImage=e.img,i.setImage(e.img)),i},this.applyStyleRanges=function(e,i){for(var t=i.styleRanges,a=0;a<t.length;a++){var n=t[a];e.style[n[0]]=rollFloat(n[1],n[2])}},this.alignPieceX=function(e,i){"center"===i.xAlign?e.style.x-=e.style.width/2:"right"===i.xAlign&&(e.style.x-=e.style.width)},this.alignPieceY=function(e,i){"center"===i.yAlign?e.style.y-=e.style.height/2:"bottom"===i.yAlign&&(e.style.y-=e.style.height)},this.updateSpawnX=function(e){var i=this.getMinPieceX(e);i<=this.xSpawnMin&&(this.xSpawnMin=i-this.getGapX()),e=this.getMaxPieceX(e),e>=this.xSpawnMax&&(this.xSpawnMax=e+this.getGapX())},this.updateSpawnY=function(e){var i=this.getMinPieceY(e);i<=this.ySpawnMin&&(this.ySpawnMin=i-this.getGapY()),e=this.getMaxPieceY(e),e>=this.ySpawnMax&&(this.ySpawnMax=e+this.getGapY())},this.getMinPieceX=function(e){return e=e.style,e.x+(1-e.scale*e.scaleX)*e.anchorX},this.getMaxPieceX=function(e){var e=e.style,i=e.scale*e.scaleX;return e.x+(1-i)*e.anchorX+i*e.width},this.getMinPieceY=function(e){return e=e.style,e.y+(1-e.scale*e.scaleY)*e.anchorY},this.getMaxPieceY=function(e){var e=e.style,i=e.scale*e.scaleY;return e.y+(1-i)*e.anchorY+i*e.height},this.getGapX=function(){return rollInt(this.xGapRange[0],this.xGapRange[1])},this.getGapY=function(){return rollInt(this.yGapRange[0],this.yGapRange[1])}});'),
jsio.setCachedSrc("modules/devkit-core/modules/timestep/src/ui/ViewPool.js",'jsio("import ui.View as View");var home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_ViewPool=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_modules_timestep_src_ui_ViewPool(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(e){var i=e.initCount||0,t=e.initOpts||{};for(this._ctor=e.ctor||View,this._freshViewIndex=0,this._views=[],this._logViewCreation=i>0,e=0;i>e;e++)this._createView(merge({},t)).style.visible=!1},this.obtainView=function(e){var i=this._views;return this._freshViewIndex<i.length?(i=i[this._freshViewIndex],e&&i.updateOpts(e)):(i=this._createView(e),this._logViewCreation&&logger.WARN&&console.warn("WARN","ui.ViewPool","ViewPool created View:",i.getTag())),i._obtainedFromPool=!0,i.style.visible=!0,this._freshViewIndex++,i},this.releaseView=function(e){var i=this._views,t=!1;if(e._obtainedFromPool){t=!0,e._obtainedFromPool=!1,e.style.visible=!1;var s=i[this._freshViewIndex-1];i[this._freshViewIndex-1]=e,i[e._poolIndex]=s,i=s._poolIndex,s._poolIndex=e._poolIndex,e._poolIndex=i,this._freshViewIndex--}return t},this.releaseAllViews=function(){for(var e=this._views,i=0,t=e.length;t>i;i++){var s=e[i];s._obtainedFromPool=!1,s.style.visible=!1}this._freshViewIndex=0},this.forEachActiveView=function(e,i){for(var t=this._views,s=this._freshViewIndex-1;s>=0;s--)e.call(i,t[s],s)},this._createView=function(e){var i=this._views,e=new this._ctor(e);return e._poolIndex=i.length,i.push(e),e}});'),jsio.setCachedSrc("src/config.js",'var BG_WIDTH=576,BG_HEIGHT=1024,PLAYER_SIZE=96,BULLET_WIDTH=28,BULLET_HEIGHT=72,ENEMY_MINE_SIZE=80,ENEMY_DRONE_SIZE=112,ENEMY_DEBRIS_WIDTH=36,ENEMY_DEBRIS_HEIGHT=168;exports={maxTick:100,bgWidth:BG_WIDTH,bgHeight:BG_HEIGHT,gameOverDelay:4e3,player:{url:"resources/images/player",defaultAnimation:"fly",autoStart:!0,loop:!0,zIndex:50,isCircle:!0,vx:0,vy:-.25,hitBounds:{x:0,y:10,r:PLAYER_SIZE/3},viewBounds:{x:-PLAYER_SIZE/2,y:-PLAYER_SIZE/2,w:PLAYER_SIZE,h:PLAYER_SIZE},offsetX:BG_WIDTH/2,offsetY:BG_HEIGHT-1.5*PLAYER_SIZE,inputMoveMultiplier:1.5,rollMagnitude:20,bankMagnitude:12},bullets:{zIndex:45,isCircle:!1,vx:0,vy:-2,hitBounds:{x:-BULLET_WIDTH/4,y:-BULLET_HEIGHT/4,w:BULLET_WIDTH/2,h:BULLET_HEIGHT/2},viewBounds:{x:-BULLET_WIDTH/2,y:-BULLET_HEIGHT/2,w:BULLET_WIDTH,h:BULLET_HEIGHT},image:"resources/images/laser.png",spawnCooldown:80},enemies:{types:[{id:"enemyDrone",zIndex:41,isCircle:!0,vx:0,vy:.4,hitBounds:{x:0,y:0,r:ENEMY_DRONE_SIZE/2.5},viewBounds:{x:-ENEMY_DRONE_SIZE/2,y:-ENEMY_DRONE_SIZE/2,w:ENEMY_DRONE_SIZE,h:ENEMY_DRONE_SIZE},image:"resources/images/enemyDrone.png"},{id:"enemyMine",zIndex:40,isCircle:!0,vx:0,vy:.25,hitBounds:{x:0,y:2,r:ENEMY_MINE_SIZE/3},viewBounds:{x:-ENEMY_MINE_SIZE/2,y:-ENEMY_MINE_SIZE/2,w:ENEMY_MINE_SIZE,h:ENEMY_MINE_SIZE},image:"resources/images/enemyMine.png"},{id:"enemyDebris",zIndex:39,isCircle:!1,vx:0,vy:.1,hitBounds:{x:-ENEMY_DEBRIS_WIDTH/2,y:-ENEMY_DEBRIS_HEIGHT/2,w:ENEMY_DEBRIS_WIDTH,h:ENEMY_DEBRIS_HEIGHT},viewBounds:{x:-ENEMY_DEBRIS_WIDTH/2,y:-ENEMY_DEBRIS_HEIGHT/2,w:ENEMY_DEBRIS_WIDTH,h:ENEMY_DEBRIS_HEIGHT},image:"resources/images/enemyDebris.png"}],spawnCooldownMin:50,spawnCooldownMax:500},parallax:[{id:"bg",zIndex:1,xMultiplier:0,xCanSpawn:!1,xCanRelease:!1,yMultiplier:.125,yCanSpawn:!0,yCanRelease:!0,yGapRange:[-1,-1],ordered:!0,pieceOptions:[{id:"bg1",image:"resources/images/bg1.png"},{id:"bg2",image:"resources/images/bg2.png"},{id:"bg3",image:"resources/images/bg3.png"},{id:"bg4",image:"resources/images/bg4.png"}]},{id:"farClouds",zIndex:2,xMultiplier:0,xCanSpawn:!1,xCanRelease:!1,yMultiplier:.2,yCanSpawn:!0,yCanRelease:!0,yGapRange:[200,500],pieceOptions:[{id:"farCloudstream1",styleRanges:{scale:[1,2]},opacity:.125,compositeOperation:"lighter",image:"resources/images/bgStream1.png"},{id:"farCloudstream2",styleRanges:{scale:[1,2]},opacity:.125,compositeOperation:"lighter",image:"resources/images/bgStream2.png"},{id:"farCloudstreamFlip1",flipX:!0,styleRanges:{scale:[1,2]},opacity:.125,compositeOperation:"lighter",image:"resources/images/bgStream1.png"},{id:"farCloudstreamFlip2",flipX:!0,styleRanges:{scale:[1,2]},opacity:.125,compositeOperation:"lighter",image:"resources/images/bgStream2.png"}]},{id:"midClouds",zIndex:3,xMultiplier:0,xCanSpawn:!1,xCanRelease:!1,yMultiplier:.4,yCanSpawn:!0,yCanRelease:!0,yGapRange:[400,1e3],pieceOptions:[{id:"midCloudstream1",styleRanges:{scale:[2,4]},opacity:.175,compositeOperation:"lighter",image:"resources/images/bgStream1.png"},{id:"midCloudstream2",styleRanges:{scale:[2,4]},opacity:.175,compositeOperation:"lighter",image:"resources/images/bgStream2.png"},{id:"midCloudstreamFlip1",flipX:!0,styleRanges:{scale:[2,4]},opacity:.175,compositeOperation:"lighter",image:"resources/images/bgStream1.png"},{id:"midCloudstreamFlip2",flipX:!0,styleRanges:{scale:[2,4]},opacity:.175,compositeOperation:"lighter",image:"resources/images/bgStream2.png"}]},{id:"debrisFar",zIndex:4,xMultiplier:0,xCanSpawn:!1,xCanRelease:!1,yMultiplier:.6,yCanSpawn:!0,yCanRelease:!0,pieceOptions:[{id:"debrisFar1",image:"resources/images/bgFarDebris1.png"},{id:"debrisFar2",image:"resources/images/bgFarDebris2.png"},{id:"debrisFar3",image:"resources/images/bgFarDebris3.png"},{id:"debrisFar4",image:"resources/images/bgFarDebris4.png"},{id:"debrisFar5",image:"resources/images/bgFarDebris5.png"},{id:"debrisFar6",flipX:!0,image:"resources/images/bgFarDebris1.png"},{id:"debrisFar7",flipX:!0,image:"resources/images/bgFarDebris2.png"},{id:"debrisFar8",flipX:!0,image:"resources/images/bgFarDebris3.png"},{id:"debrisFar9",flipX:!0,image:"resources/images/bgFarDebris4.png"},{id:"debrisFar10",flipX:!0,image:"resources/images/bgFarDebris5.png"}]},{id:"debrisLeft",zIndex:5,xMultiplier:0,xCanSpawn:!1,xCanRelease:!1,yMultiplier:.8,yCanSpawn:!0,yCanRelease:!0,yGapRange:[0,250],pieceOptions:[{id:"debrisLeft1",image:"resources/images/bgDebris1.png"},{id:"debrisLeft2",image:"resources/images/bgDebris2.png"},{id:"debrisLeft3",image:"resources/images/bgDebris3.png"},{id:"debrisLeft4",image:"resources/images/bgDebris4.png"}]},{id:"debrisRight",zIndex:5,xMultiplier:0,xCanSpawn:!1,xCanRelease:!1,yMultiplier:.8,yCanSpawn:!0,yCanRelease:!0,yGapRange:[0,250],pieceOptions:[{id:"debrisRight1",x:BG_WIDTH,xAlign:"right",flipX:!0,image:"resources/images/bgDebris1.png"},{id:"debrisRight2",x:BG_WIDTH,xAlign:"right",flipX:!0,image:"resources/images/bgDebris2.png"},{id:"debrisRight3",x:BG_WIDTH,xAlign:"right",flipX:!0,image:"resources/images/bgDebris3.png"},{id:"debrisRight4",x:BG_WIDTH,xAlign:"right",flipX:!0,image:"resources/images/bgDebris4.png"}]}],scoreView:{x:8,y:4,width:200,height:75,text:"0",horizontalAlign:"left",spacing:0,characterData:{0:{image:"resources/images/blue_0.png"},1:{image:"resources/images/blue_1.png"},2:{image:"resources/images/blue_2.png"},3:{image:"resources/images/blue_3.png"},4:{image:"resources/images/blue_4.png"},5:{image:"resources/images/blue_5.png"},6:{image:"resources/images/blue_6.png"},7:{image:"resources/images/blue_7.png"},8:{image:"resources/images/blue_8.png"},9:{image:"resources/images/blue_9.png"}},compositeOperation:"lighter"}};'),jsio.setCachedSrc("src/effects.js",'jsio("import animate"),jsio("import src.utils as utils");var PI=Math.PI,TAU=2*PI,pow=Math.pow,abs=Math.abs,sin=Math.sin,cos=Math.cos,sqrt=Math.sqrt,random=Math.random,choose=utils.choose,rollFloat=utils.rollFloat,rollInt=utils.rollInt,SMOKE_IMAGES="resources/images/particleSmoke1.png resources/images/particleSmoke2.png resources/images/particleSmoke3.png resources/images/particleSmoke4.png resources/images/particleSmoke5.png resources/images/particleSmoke6.png".split(" ");exports.emitExplosion=function(a,e){for(var s=a.obtainParticleArray(16),t=-1e3/350,o=e.viewBounds,n=e.x+o.x+(o.w-50)/2,o=e.y+o.y+(o.h-50)/2,r=0;16>r;r++){var i=s[r];i.polar=!0,i.ox=n+rollFloat(-5,5),i.oy=o+rollFloat(-5,5),i.radius=rollFloat(-5,5),i.dradius=rollFloat(0,400),i.ddradius=t*i.dradius,i.theta=TAU*random(),i.r=TAU*random(),i.dr=rollFloat(-4,4),i.ddr=t*i.dr,i.anchorX=25,i.anchorY=25,i.width=50,i.height=50,i.scale=rollFloat(.25,2.5),i.dscale=t*i.scale,i.ttl=350,i.image=choose(SMOKE_IMAGES),i.compositeOperation=.95>random()?"lighter":""}a.emitParticles(s)},exports.emitEpicExplosion=function(a,e){for(var s=a.obtainParticleArray(120),t=e.viewBounds,o=e.x+t.x+(t.w-50)/2,t=e.y+t.y+(t.h-50)/2,n=0;120>n;n++){var r=s[n];r.polar=!0,r.anchorX=25,r.anchorY=25,r.width=50,r.height=50,r.image="resources/images/particleCircle.png",r.compositeOperation="lighter",0===n?(r.ox=o,r.oy=t,r.scale=100,r.dopacity=-1e3/75,r.ttl=75):15>n?(r.ox=o,r.oy=t,r.r=TAU*n/15+PI/2,r.theta=TAU*n/15,r.radius=0,r.dradius=500,r.ddradius=4e4,r.scale=0,r.dscale=8,r.ttl=600,r.transition="easeOut"):(r.ox=o+rollFloat(-25,25),r.oy=t+rollFloat(-40,40),r.r=TAU*random(),r.theta=TAU*random(),r.radius=rollFloat(0,30),r.dradius=rollFloat(250,750),r.ddradius=rollFloat(25e3,75e3),r.scale=0,r.dscale=rollFloat(.5,10),r.ttl=600)}a.emitParticles(s)},exports.shakeScreen=function(a){var e=a.style.x,s=a.style.y,t=a.style.scale,o=TAU*random(),n=TAU*random(),r=TAU*random(),i=TAU*random(),l=TAU*random(),c=TAU*random(),m=TAU*random(),d=TAU*random(),h=TAU*random(),u=TAU*random(),p=TAU*random(),y=TAU*random(),x=TAU*random(),A=TAU*random();animate(a).then({scale:1.0875*t},62.5,animate.easeIn).then({x:e+24.5*cos(o),y:s+24.5*sin(o),scale:1.0805*t},62.5,animate.easeOut).then({x:e+22.75*cos(n),y:s+22.75*sin(n),scale:t*(1+.042*1.75)},62.5,animate.easeInOut).then({x:e+21*cos(r),y:s+21*sin(r),scale:1.0665*t},62.5,animate.easeInOut).then({x:e+19.25*cos(i),y:s+19.25*sin(i),scale:1.0595*t},62.5,animate.easeInOut).then({x:e+17.5*cos(l),y:s+17.5*sin(l),scale:1.0525*t},62.5,animate.easeInOut).then({x:e+15.75*cos(c),y:s+15.75*sin(c),scale:1.0455*t},62.5,animate.easeInOut).then({x:e+14*cos(m),y:s+14*sin(m),scale:1.0385*t},62.5,animate.easeInOut).then({x:e+12.25*cos(d),y:s+12.25*sin(d),scale:1.0315*t},62.5,animate.easeInOut).then({x:e+10.5*cos(h),y:s+10.5*sin(h),scale:1.0245*t},62.5,animate.easeInOut).then({x:e+8.75*cos(u),y:s+8.75*sin(u),scale:1.0175*t},62.5,animate.easeInOut).then({x:e+7*cos(p),y:s+7*sin(p),scale:1.014*t},62.5,animate.easeInOut).then({x:e+5.25*cos(y),y:s+5.25*sin(y),scale:1.0105*t},62.5,animate.easeInOut).then({x:e+3.5*cos(x),y:s+3.5*sin(x),scale:1.007*t},62.5,animate.easeInOut).then({x:e+1.75*cos(A),y:s+1.75*sin(A),scale:1.0035*t},62.5,animate.easeInOut).then({x:e,y:s,scale:t},62.5,animate.easeIn)};'),jsio.setCachedSrc("src/utils.js",'jsio("import ui.resource.loader as loader");var log=Math.log,floor=Math.floor,random=Math.random,resourceMap=loader.getMap();exports.choose=function(r){return r[floor(random()*r.length)]},exports.copyShallow=function(r,o,e){for(var e=e||Object.keys(r),t=0,n=e.length;n>t;t++){var a=e[t],i=r[a];o[a]=i&&"object"==typeof i?void 0===i.length?{}:[]:i}},exports.Enum=function(r,o){for(var o=o||window,e=0,t=r.length;t>e;e++)o[r[e]]=e;return o},exports.EnumObjectsByID=function(r,o,e,t){for(var o=o||"name",e=e||"id",t=t||window,n=0,a=r.length;a>n;n++){var i=r[n];t[i[o]]=n,i[e]=n}return t},exports.getImageWidth=function(r){var r=resourceMap[r],o=0;return r&&(o=r.w+r.marginLeft+r.marginRight),o},exports.getImageHeight=function(r){var r=resourceMap[r],o=0;return r&&(o=r.h+r.marginTop+r.marginBottom),o},exports.logBase=function(r,o){return log(o)/log(r)},exports.readJSON=function(r){try{if("string"==typeof window.CACHE[r]&&(window.CACHE[r]=JSON.parse(window.CACHE[r])),void 0===window.CACHE[r])throw console.error("utils.readJSON: Unable to read file:",r),Error("utils.readJSON: Fail!");return window.CACHE[r]}catch(o){throw console.error("utils.readJSON: Invalid JSON!"),o}},exports.rollFloat=function(r,o){return r+random()*(o-r)},exports.rollInt=function(r,o){return floor(r+random()*(1+o-r))},exports.shuffle=function(r){for(var o=r.length;o>0;){var e=floor(random()*o--),t=r[o];r[o]=r[e],r[e]=t}return r};'),jsio.setCachedSrc("modules/devkit-core/src/clientapi/debugging/clients/viewInspector/index.js",'if(DEBUG){jsio("import device"),jsio("import math.geom.Point as Point"),jsio("import ui.resource.Image as Image"),jsio("import ui.ImageView as ImageView"),jsio("import ...InputMoveListener"),jsio("import .OverlayRenderer");var _propMap={relX:"x",relY:"y",relR:"r",relWidthPercent:"widthPercent",relHeightPercent:"heightPercent",relWidth:"width",relHeight:"height",relScale:"scale",opacity:"opacity",zIndex:"zIndex",visible:"visible",anchorX:"anchorX",anchorY:"anchorY",offsetX:"offsetX",offsetY:"offsetY",clip:"clip",layout:"layout",inLayout:"inLayout",top:"top",left:"left",bottom:"bottom",right:"right",flex:"flex",direction:"direction",justifyContent:"justifyContent",order:"order",layoutWidth:"layoutWidth",layoutHeight:"layoutHeight",centerX:"centerX",centerY:"centerY",minWidth:"minWidth",minHeight:"minHeight",maxWidth:"maxWidth",maxHeight:"maxHeight"},ViewInspectorClient=__class__,ViewInspectorClient=ViewInspectorClient(function(){return this.init&&this.init.apply(this,arguments)},function(){this.init=function(){this._overlay=new OverlayRenderer,GC.on("app",bind(this,"_onApp"))},this.setConn=function(e){function i(e){var i=e.getSuperviews().map(function(e){return e.uid});return i.push(e.uid),i}function t(e){var i,t=e.getSuperview();for(i in t)if(t[i]===e)return i;return null}var n=e.getClient("devkit.viewInspector");this._client=n,n.onEvent("BATCH",bind(this,function(){})),n.onEvent("SET_NAME",bind(this,function(e){GLOBAL._name=e.args.name,logging.setPrefix(e.args.name+": ")}));var r=null;n.onRequest("ADD_MOUSE_EVT",bind(this,function(e){r||(r=new InputMoveListener({requireShiftClick:!0}).on("trace",function(e){n.sendEvent("INPUT_TRACE",{x:e.x,y:e.y,target:e.target.uid,trace:e.trace.map(function(e){return{uid:e.view.uid,tag:e.view.getTag(),depth:e.depth}})})}).on("move",function(e){n.sendEvent("INPUT_MOVE",{parents:i(e.target)})}).on("select",function(e){n.sendEvent("INPUT_SELECT",{parents:i(e.target)})})),r.connect(),e.respond()})),n.onRequest("REMOVE_MOUSE_EVT",bind(this,function(e){r&&r.disconnect(),e.respond()})),n.onEvent("SET_HIGHLIGHT",bind(this,function(e){this._overlay.setHighlight(e.args.uid)})),n.onEvent("SET_SELECTED",bind(this,function(e){this._overlay.setSelected(e.args.uid)})),n.onRequest("GET_ROOT_UID",bind(this,function(e){e.respond({uid:GC.app.uid})})),n.onRequest("GET_VIEW",bind(this,function(e){var i=_DEBUG.getViewByID(e.args.uid);if(i){var n=i.getSuperview(),r=i.getTag&&i.getTag()||i.toString(),s=t(i);s&&(r=s+":"+r),e.respond({uid:i.uid,superviewID:n&&n.uid,tag:r,subviewIDs:i.getSubviews().map(function(e){return e.uid})})}else e.error("no view with id"+e.args.uid,{VIEW_NOT_FOUND:!0})})),n.onRequest("REPLACE_IMAGE",bind(this,function(e){var e=e.args,i=e.imgData,t=_DEBUG.getViewByID(e.uid),n=new Image;n._srcImg.addEventListener("load",function(){var e=n._map;e.width=n._srcImg.width,e.height=n._srcImg.height,e.x=0,e.y=0,t.setImage(n),t.needsRepaint()},!1),n._srcImg.src=i})),n.onRequest("GET_VIEW_PROPS",bind(this,function(e){var i=e.args,t=_DEBUG.getViewByID(i.uid);if(!t)return e.error("VIEW_NOT_FOUND");var n,r=t.style,s=t.getPosition(),o=t.__layout,a={};for(n in _propMap)a[n]=r[_propMap[n]];merge(a,{absX:s.x,absY:s.y,absR:s.r,absWidth:s.width,absHeight:s.height,absScale:s.scale,subviews:o&&"function"==typeof o.getSubviews&&o.getSubviews().length,direction:o&&"function"==typeof o.getDirection&&o.getDirection(),padding:r.padding&&r.padding.toString()});for(n in a)void 0==a[n]&&(a[n]="-");a.isImageView=t instanceof ImageView,a.isImageView&&(a.imagePath=t._opts.image||t._img&&t._img._map&&t._img._map.url,a.imagePath&&a.imagePath._map&&(a.imagePath=a.imagePath._map.url)),a.uuid=i.uid,a.description=(t.constructor.name||"View")+" "+i.uid+"\\n"+t.getTag(),e.respond(a)})),n.onRequest("SET_VIEW_PROP",bind(this,function(e){var i=e.args,t=_DEBUG.getViewByID(i.uid);if(!t)return e.error("VIEW_NOT_FOUND");if(e=i.key,i=i.value,e in _propMap)t.style[_propMap[e]]=i;else switch(e){case"absY":t.style.y=i;break;case"absWidth":t.style.width=i;break;case"absHeight":t.style.height=i;break;case"absScale":t.style.scale=i;break;case"padding":t.style.padding=i}}));var s=null,o=null;n.onEvent("POLL_VIEW_POSITION",bind(this,function(e){function i(){if(o){var e=o.getPosition();e.uid=o.uid,n.sendRequest("POLL_VIEW_POSITION",e,bind(this,function(){setTimeout(i,250)}))}}s&&clearTimeout(s),o=_DEBUG.getViewByID(e.args.uid),!s&&o&&(s=setTimeout(i,500))})),GC.app&&this._onApp(GC.app)},this._onApp=function(e){this._client.sendEvent("APP_READY",{uid:e.view.uid}),e.engine.unsubscribe("Render",this),e.engine.subscribe("Render",this._overlay,"render"),e.engine.on("resume",bind(this._overlay,"stopTick")),e.engine.on("pause",bind(this._overlay,"startTick"))}});exports=new ViewInspectorClient}'),jsio.setCachedSrc("modules/devkit-core/src/clientapi/debugging/InputMoveListener.js",'jsio("import device"),jsio("import event.Emitter"),jsio("import event.input.dispatch as dispatch"),jsio("import math.geom.Point as Point");var home_weeby_projects_swarm_modules_devkit_core_src_clientapi_debugging_InputMoveListener=__class__;exports=home_weeby_projects_swarm_modules_devkit_core_src_clientapi_debugging_InputMoveListener(function(){return this.init&&this.init.apply(this,arguments)},event.Emitter,function(){var t=device.isSimulator&&document.body.addEventListener;this.init=function(t){t=t||{},this._requireShiftClick=!!t.requireShiftClick,this.onMouseMoveCapture=bind(this,this.onMouseMoveCapture),this._checkShift=bind(this,this._checkShift),this.onContextMenu=bind(this,this.onContextMenu)},this.connect=function(){t&&(window.addEventListener("mousemove",this.onMouseMoveCapture,!0),window.addEventListener("contextmenu",this.onContextMenu,!0),window.addEventListener("mousedown",this._checkShift,!0)),GC.app.view.subscribe("InputMoveCapture",this,"onInputMoveCapture"),GC.app.view.subscribe("InputStartCapture",this,"_cancelEvent"),GC.app.view.subscribe("InputSelectCapture",this,"onInputSelectCapture")},this.disconnect=function(){t&&(window.removeEventListener("mousedown",this._checkShift,!0),window.removeEventListener("mousemove",this.onMouseMoveCapture,!0),window.removeEventListener("contextmenu",this.onContextMenu,!0)),GC.app.view.unsubscribe("InputMoveCapture",this,"onInputMoveCapture"),GC.app.view.unsubscribe("InputStartCapture",this,"_cancelEvent"),GC.app.view.unsubscribe("InputSelectCapture",this,"onInputSelectCapture")},this._cancelEvent=function(t){t.cancel()},this._checkShift=function(t){if(3===t.which||2===t.button)return t.stopPropagation(),t.preventDefault(),!1;if(this._shiftDown=!!t.shiftKey,!GC.app.engine.isRunning()){var e={pt:[],trace:[],depth:0},i=new Point(t.pageX,t.pageY);dispatch.traceEvt(GC.app.view,e,i),this.onInputSelectCapture(e,i),t.stopPropagation(),t.preventDefault()}},this.onContextMenu=function(t){var e=this.getFullTrace(t.pageX,t.pageY);return e.trace.length?(this.emit("trace",{x:t.pageX,y:t.pageY,target:e.target,trace:e.trace}),t.stopPropagation(),t.preventDefault(),!1):void 0},this.onInputMoveCapture=function(t,e){var i=this.getFullTrace(e.x,e.y);this.emit("move",{x:e.x,y:e.y,target:i.target,evtTrace:t.trace,trace:i.trace})},this.onInputSelectCapture=function(t,e){(!this._requireShiftClick||this._shiftDown)&&(t.cancel(),this.emit("select",this.getFullTrace(e.x,e.y)))},this.getFullTrace=function(t,e){var i={pt:[],trace:[],depth:0};return this._getFullTrace(GC.app.view,i,new Point(t,e),0),i},this._getFullTrace=function(t,e,i,n){i=t.style.localizePoint(new Point(i)),t.containsLocalPoint(i)&&(e.trace.unshift({view:t,depth:n}),e.pt[t.uid]=i,n>=e.depth&&(e.depth=n,e.target=t));for(var t=t.getSubviews(),o=t.length,s=0;o>s;++s)t[s].style.visible&&this._getFullTrace(t[s],e,i,n+1)},this.onMouseMoveCapture=function(t){if(!GC.app.engine.isRunning()){var e={pt:[],trace:[],depth:0},t=new Point(t.pageX,t.pageY);dispatch.traceEvt(GC.app.view,e,t),this.onInputMoveCapture(e,t)}}});'),jsio.setCachedSrc("modules/devkit-core/src/clientapi/debugging/clients/viewInspector/OverlayRenderer.js",'if(DEBUG){jsio("import device");var home_weeby_projects_swarm_modules_devkit_core_src_clientapi_debugging_clients_viewInspector_OverlayRenderer=__class__,OverlayRenderer=exports=home_weeby_projects_swarm_modules_devkit_core_src_clientapi_debugging_clients_viewInspector_OverlayRenderer(function(){return this.init&&this.init.apply(this,arguments)},function(){this._highlightViewUID=null,this.setHighlight=function(e){this._highlightViewUID=e},this._selectedViewUID=null,this.setSelected=function(e){this._selectedViewUID=e};var e=0,t=+new Date;if(!device.isMobile){var i=document.createElement("x"),n=document.documentElement,s=window.getComputedStyle,r=!1;i&&"pointerEvents"in i.style&&(i.style.pointerEvents="auto",i.style.pointerEvents="x",n.appendChild(i),r=s&&"auto"===s(i,"").pointerEvents,n.removeChild(i)),device.simulating&&document.body&&document.body.appendChild&&r&&(i=new(device.get("Canvas")),i.style.cssText="position: absolute; left: 0; top: 0; z-index: 1000; pointer-events: none;",document.body.appendChild(i),this.constructor.ctx=i.getContext("2d"))}this.startTick=function(){this.stopTick(),this._tick=setInterval(bind(this,"render",OverlayRenderer.ctx),1e3/30)},this.stopTick=function(){this._tick&&clearInterval(this._tick)},this.setEnabled=function(e){this._isEnabled=e,OverlayRenderer.ctx&&OverlayRenderer.ctx.clear()},this.render=function(i){if(i){if(OverlayRenderer.ctx&&(i=OverlayRenderer.ctx,i.canvas.width=device.screen.width,i.canvas.height=device.screen.height),null!==this._highlightViewUID){var n=_DEBUG.getViewByID(this._highlightViewUID);if(n=n&&n.getPosition()){var s=i;if(s){s.save(),s.translate(n.x,n.y),s.rotate(n.r),e+=-(t-(t=new Date));var r=(Math.sin(2*Math.PI*e/1e3)+1)/2,l=155*r+100|0,l="0,"+(.7*l|0)+","+(0|l);s.strokeStyle="rgba("+l+", 0.7)",s.strokeRect(0,0,n.width,n.height),s.fillStyle="rgba("+l+", 0.6)",s.fillRect(0,0,n.width,n.height),s.fillStyle="rgba(255,255,255,"+(.6*r+.4).toFixed(2)+")",s.translate(n.anchorX,n.anchorY),s.rotate(e/500),s.fillRect(-.5,-7,1,14),s.fillRect(-7,-.5,14,1),s.restore()}}}null!==this._selectedViewUID&&(n=(n=_DEBUG.getViewByID(this._selectedViewUID))&&n.getPosition())&&i&&(i.save(),i.translate(n.x,n.y),i.rotate(n.r),i.strokeStyle="red",i.lineWidth=1,i.strokeRect(-.5,-.5,n.width+1,n.height+1),i.restore())}}})}'),jsio.setCachedSrc("modules/devkit-core/src/clientapi/debugging/clients/simulator.js",'exports=new(Class(function(){var e=function(e){var n=document.createEvent("Event");n.initEvent(e,!0,!0),window.dispatchEvent(n)};this.setConn=function(n){this._client&&this._client.end(),this._client=n=n.getClient("simulator"),this._isHomeScreen=!1,n.onEvent("HOME_BUTTON",bind(this,function(){var n=GC.app;if(this._isHomeScreen=!this._isHomeScreen){if(e("pagehide"),n.engine.pause(),n=document.getElementsByTagName("canvas"),n.length&&(n=n[0],n.getContext)){var t=n.getContext("2d");t.fillStyle="#000000",t.fillRect(0,0,n.width,n.height)}}else e("pageshow"),n.engine.resume()})),n.onEvent("BACK_BUTTON",bind(this,function(e){GLOBAL.NATIVE.onBackButton&&GLOBAL.NATIVE.onBackButton(e)})),n.onRequest("SCREENSHOT",bind(this,function(e){_DEBUG&&_DEBUG.screenshot(function(n,t){n?e.error(n):e.respond(t)})})),n.onEvent("MUTE",bind(this,function(e){console.log("MUTE",e.args.shouldMute),GC.app.muteAll(e.args.shouldMute)})),this._isPaused=!1,n.onEvent("PAUSE",bind(this,function(){console.log("PAUSED"),GC&&this.setPaused(!0)})),n.onEvent("RESUME",bind(this,function(){GC&&this.setPaused(!1)})),n.onEvent("STEP",bind(this,function(){GC&&(GC.app.engine.stepFrame(),_paused=!0)}))},this.setPaused=function(e){this._isPaused=e,e=GC.app,this._isPaused?e.engine.pause():e.engine.resume()}}));');;jsio("import devkit.browser.launchClient");